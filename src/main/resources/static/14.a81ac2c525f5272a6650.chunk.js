webpackJsonp([14],{1047:function(t,e){t.exports='/* nvd3 version 1.8.4 (https://github.com/novus/nvd3) 2016-07-03 */\n.nvd3 .nv-axis {\n  pointer-events: none;\n  opacity: 1; }\n\n.nvd3 .nv-axis path {\n  fill: none;\n  stroke: #000;\n  stroke-opacity: .75;\n  shape-rendering: crispEdges; }\n\n.nvd3 .nv-axis path.domain {\n  stroke-opacity: .75; }\n\n.nvd3 .nv-axis.nv-x path.domain {\n  stroke-opacity: 0; }\n\n.nvd3 .nv-axis line {\n  fill: none;\n  stroke: #e5e5e5;\n  shape-rendering: crispEdges; }\n\n.nvd3 .nv-axis .zero line,\n.nvd3 .nv-axis line.zero {\n  stroke-opacity: .75; }\n\n.nvd3 .nv-axis .nv-axisMaxMin text {\n  font-weight: bold; }\n\n.nvd3 .x .nv-axis .nv-axisMaxMin text,\n.nvd3 .x2 .nv-axis .nv-axisMaxMin text,\n.nvd3 .x3 .nv-axis .nv-axisMaxMin text {\n  text-anchor: middle; }\n\n.nvd3 .nv-axis.nv-disabled {\n  opacity: 0; }\n\n.nvd3 .nv-bars rect {\n  fill-opacity: .75;\n  transition: fill-opacity 250ms linear;\n  -moz-transition: fill-opacity 250ms linear;\n  -webkit-transition: fill-opacity 250ms linear; }\n\n.nvd3 .nv-bars rect.hover {\n  fill-opacity: 1; }\n\n.nvd3 .nv-bars .hover rect {\n  fill: lightblue; }\n\n.nvd3 .nv-bars text {\n  fill: transparent; }\n\n.nvd3 .nv-bars .hover text {\n  fill: black; }\n\n.nvd3 .nv-multibar .nv-groups rect,\n.nvd3 .nv-multibarHorizontal .nv-groups rect,\n.nvd3 .nv-discretebar .nv-groups rect {\n  stroke-opacity: 0;\n  transition: fill-opacity 250ms linear;\n  -moz-transition: fill-opacity 250ms linear;\n  -webkit-transition: fill-opacity 250ms linear; }\n\n.nvd3 .nv-multibar .nv-groups rect:hover,\n.nvd3 .nv-multibarHorizontal .nv-groups rect:hover,\n.nvd3 .nv-candlestickBar .nv-ticks rect:hover,\n.nvd3 .nv-discretebar .nv-groups rect:hover {\n  fill-opacity: 1; }\n\n.nvd3 .nv-discretebar .nv-groups text,\n.nvd3 .nv-multibarHorizontal .nv-groups text {\n  font-weight: bold;\n  fill: black;\n  stroke: transparent; }\n\n/* boxplot CSS */\n.nvd3 .nv-boxplot circle {\n  fill-opacity: 0.5; }\n\n.nvd3 .nv-boxplot circle:hover {\n  fill-opacity: 1; }\n\n.nvd3 .nv-boxplot rect:hover {\n  fill-opacity: 1; }\n\n.nvd3 line.nv-boxplot-median {\n  stroke: black; }\n\n.nv-boxplot-tick:hover {\n  stroke-width: 2.5px; }\n\n/* bullet */\n.nvd3.nv-bullet {\n  font: 10px sans-serif; }\n\n.nvd3.nv-bullet .nv-measure {\n  fill-opacity: .8; }\n\n.nvd3.nv-bullet .nv-measure:hover {\n  fill-opacity: 1; }\n\n.nvd3.nv-bullet .nv-marker {\n  stroke: #000;\n  stroke-width: 2px; }\n\n.nvd3.nv-bullet .nv-markerTriangle {\n  stroke: #000;\n  fill: #fff;\n  stroke-width: 1.5px; }\n\n.nvd3.nv-bullet .nv-markerLine {\n  stroke: #000;\n  stroke-width: 1.5px; }\n\n.nvd3.nv-bullet .nv-tick line {\n  stroke: #666;\n  stroke-width: .5px; }\n\n.nvd3.nv-bullet .nv-range.nv-s0 {\n  fill: #eee; }\n\n.nvd3.nv-bullet .nv-range.nv-s1 {\n  fill: #ddd; }\n\n.nvd3.nv-bullet .nv-range.nv-s2 {\n  fill: #ccc; }\n\n.nvd3.nv-bullet .nv-title {\n  font-size: 14px;\n  font-weight: bold; }\n\n.nvd3.nv-bullet .nv-subtitle {\n  fill: #999; }\n\n.nvd3.nv-bullet .nv-range {\n  fill: #bababa;\n  fill-opacity: .4; }\n\n.nvd3.nv-bullet .nv-range:hover {\n  fill-opacity: .7; }\n\n.nvd3.nv-candlestickBar .nv-ticks .nv-tick {\n  stroke-width: 1px; }\n\n.nvd3.nv-candlestickBar .nv-ticks .nv-tick.hover {\n  stroke-width: 2px; }\n\n.nvd3.nv-candlestickBar .nv-ticks .nv-tick.positive rect {\n  stroke: #2ca02c;\n  fill: #2ca02c; }\n\n.nvd3.nv-candlestickBar .nv-ticks .nv-tick.negative rect {\n  stroke: #d62728;\n  fill: #d62728; }\n\n.with-transitions .nv-candlestickBar .nv-ticks .nv-tick {\n  transition: stroke-width 250ms linear, stroke-opacity 250ms linear;\n  -moz-transition: stroke-width 250ms linear, stroke-opacity 250ms linear;\n  -webkit-transition: stroke-width 250ms linear, stroke-opacity 250ms linear; }\n\n.nvd3.nv-candlestickBar .nv-ticks line {\n  stroke: #333; }\n\n.nv-force-node {\n  stroke: #fff;\n  stroke-width: 1.5px; }\n\n.nv-force-link {\n  stroke: #999;\n  stroke-opacity: .6; }\n\n.nv-force-node text {\n  stroke-width: 0px; }\n\n.nvd3 .nv-legend .nv-disabled rect {\n  /*fill-opacity: 0;*/ }\n\n.nvd3 .nv-check-box .nv-box {\n  fill-opacity: 0;\n  stroke-width: 2; }\n\n.nvd3 .nv-check-box .nv-check {\n  fill-opacity: 0;\n  stroke-width: 4; }\n\n.nvd3 .nv-series.nv-disabled .nv-check-box .nv-check {\n  fill-opacity: 0;\n  stroke-opacity: 0; }\n\n.nvd3 .nv-controlsWrap .nv-legend .nv-check-box .nv-check {\n  opacity: 0; }\n\n/* line plus bar */\n.nvd3.nv-linePlusBar .nv-bar rect {\n  fill-opacity: .75; }\n\n.nvd3.nv-linePlusBar .nv-bar rect:hover {\n  fill-opacity: 1; }\n\n.nvd3 .nv-groups path.nv-line {\n  fill: none; }\n\n.nvd3 .nv-groups path.nv-area {\n  stroke: none; }\n\n.nvd3.nv-line .nvd3.nv-scatter .nv-groups .nv-point {\n  fill-opacity: 0;\n  stroke-opacity: 0; }\n\n.nvd3.nv-scatter.nv-single-point .nv-groups .nv-point {\n  fill-opacity: .5 !important;\n  stroke-opacity: .5 !important; }\n\n.with-transitions .nvd3 .nv-groups .nv-point {\n  transition: stroke-width 250ms linear, stroke-opacity 250ms linear;\n  -moz-transition: stroke-width 250ms linear, stroke-opacity 250ms linear;\n  -webkit-transition: stroke-width 250ms linear, stroke-opacity 250ms linear; }\n\n.nvd3.nv-scatter .nv-groups .nv-point.hover,\n.nvd3 .nv-groups .nv-point.hover {\n  stroke-width: 7px;\n  fill-opacity: .95 !important;\n  stroke-opacity: .95 !important; }\n\n.nvd3 .nv-point-paths path {\n  stroke: #aaa;\n  stroke-opacity: 0;\n  fill: #eee;\n  fill-opacity: 0; }\n\n.nvd3 .nv-indexLine {\n  cursor: ew-resize; }\n\n/********************\r\n * SVG CSS\r\n */\n/********************\r\n  Default CSS for an svg element nvd3 used\r\n*/\nsvg.nvd3-svg {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -ms-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  display: block;\n  width: 100%;\n  height: 100%; }\n\n/********************\r\n  Box shadow and border radius styling\r\n*/\n.nvtooltip.with-3d-shadow, .with-3d-shadow .nvtooltip {\n  -moz-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);\n  -webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);\n  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);\n  -webkit-border-radius: 5px;\n  -moz-border-radius: 5px;\n  border-radius: 5px; }\n\n.nvd3 text {\n  font: normal 12px Arial; }\n\n.nvd3 .title {\n  font: bold 14px Arial; }\n\n.nvd3 .nv-background {\n  fill: white;\n  fill-opacity: 0; }\n\n.nvd3.nv-noData {\n  font-size: 18px;\n  font-weight: bold; }\n\n/**********\r\n*  Brush\r\n*/\n.nv-brush .extent {\n  fill-opacity: .125;\n  shape-rendering: crispEdges; }\n\n.nv-brush .resize path {\n  fill: #eee;\n  stroke: #666; }\n\n/**********\r\n*  Legend\r\n*/\n.nvd3 .nv-legend .nv-series {\n  cursor: pointer; }\n\n.nvd3 .nv-legend .nv-disabled circle {\n  fill-opacity: 0; }\n\n/* focus */\n.nvd3 .nv-brush .extent {\n  fill-opacity: 0 !important; }\n\n.nvd3 .nv-brushBackground rect {\n  stroke: #000;\n  stroke-width: .4;\n  fill: #fff;\n  fill-opacity: .7; }\n\n/**********\r\n*  Print\r\n*/\n@media print {\n  .nvd3 text {\n    stroke-width: 0;\n    fill-opacity: 1; } }\n\n.nvd3.nv-ohlcBar .nv-ticks .nv-tick {\n  stroke-width: 1px; }\n\n.nvd3.nv-ohlcBar .nv-ticks .nv-tick.hover {\n  stroke-width: 2px; }\n\n.nvd3.nv-ohlcBar .nv-ticks .nv-tick.positive {\n  stroke: #2ca02c; }\n\n.nvd3.nv-ohlcBar .nv-ticks .nv-tick.negative {\n  stroke: #d62728; }\n\n.nvd3 .background path {\n  fill: none;\n  stroke: #EEE;\n  stroke-opacity: .4;\n  shape-rendering: crispEdges; }\n\n.nvd3 .foreground path {\n  fill: none;\n  stroke-opacity: .7; }\n\n.nvd3 .nv-parallelCoordinates-brush .extent {\n  fill: #fff;\n  fill-opacity: .6;\n  stroke: gray;\n  shape-rendering: crispEdges; }\n\n.nvd3 .nv-parallelCoordinates .hover {\n  fill-opacity: 1;\n  stroke-width: 3px; }\n\n.nvd3 .missingValuesline line {\n  fill: none;\n  stroke: black;\n  stroke-width: 1;\n  stroke-opacity: 1;\n  stroke-dasharray: 5, 5; }\n\n.nvd3.nv-pie path {\n  stroke-opacity: 0;\n  transition: fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear;\n  -moz-transition: fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear;\n  -webkit-transition: fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear; }\n\n.nvd3.nv-pie .nv-pie-title {\n  font-size: 24px;\n  fill: rgba(19, 196, 249, 0.59); }\n\n.nvd3.nv-pie .nv-slice text {\n  stroke: #000;\n  stroke-width: 0; }\n\n.nvd3.nv-pie path {\n  stroke: #fff;\n  stroke-width: 1px;\n  stroke-opacity: 1; }\n\n.nvd3.nv-pie path {\n  fill-opacity: .7; }\n\n.nvd3.nv-pie .hover path {\n  fill-opacity: 1; }\n\n.nvd3.nv-pie .nv-label {\n  pointer-events: none; }\n\n.nvd3.nv-pie .nv-label rect {\n  fill-opacity: 0;\n  stroke-opacity: 0; }\n\n/* scatter */\n.nvd3 .nv-groups .nv-point.hover {\n  stroke-width: 20px;\n  stroke-opacity: .5; }\n\n.nvd3 .nv-scatter .nv-point.hover {\n  fill-opacity: 1; }\n\n.nv-noninteractive {\n  pointer-events: none; }\n\n.nv-distx, .nv-disty {\n  pointer-events: none; }\n\n/* sparkline */\n.nvd3.nv-sparkline path {\n  fill: none; }\n\n.nvd3.nv-sparklineplus g.nv-hoverValue {\n  pointer-events: none; }\n\n.nvd3.nv-sparklineplus .nv-hoverValue line {\n  stroke: #333;\n  stroke-width: 1.5px; }\n\n.nvd3.nv-sparklineplus,\n.nvd3.nv-sparklineplus g {\n  pointer-events: all; }\n\n.nvd3 .nv-hoverArea {\n  fill-opacity: 0;\n  stroke-opacity: 0; }\n\n.nvd3.nv-sparklineplus .nv-xValue,\n.nvd3.nv-sparklineplus .nv-yValue {\n  stroke-width: 0;\n  font-size: .9em;\n  font-weight: normal; }\n\n.nvd3.nv-sparklineplus .nv-yValue {\n  stroke: #f66; }\n\n.nvd3.nv-sparklineplus .nv-maxValue {\n  stroke: #2ca02c;\n  fill: #2ca02c; }\n\n.nvd3.nv-sparklineplus .nv-minValue {\n  stroke: #d62728;\n  fill: #d62728; }\n\n.nvd3.nv-sparklineplus .nv-currentValue {\n  font-weight: bold;\n  font-size: 1.1em; }\n\n/* stacked area */\n.nvd3.nv-stackedarea path.nv-area {\n  fill-opacity: .7;\n  stroke-opacity: 0;\n  transition: fill-opacity 250ms linear, stroke-opacity 250ms linear;\n  -moz-transition: fill-opacity 250ms linear, stroke-opacity 250ms linear;\n  -webkit-transition: fill-opacity 250ms linear, stroke-opacity 250ms linear; }\n\n.nvd3.nv-stackedarea path.nv-area.hover {\n  fill-opacity: .9; }\n\n.nvd3.nv-stackedarea .nv-groups .nv-point {\n  stroke-opacity: 0;\n  fill-opacity: 0; }\n\n.nvtooltip {\n  position: absolute;\n  background-color: white;\n  color: black;\n  padding: 1px;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  z-index: 10000;\n  display: block;\n  font-family: Arial;\n  font-size: 13px;\n  text-align: left;\n  pointer-events: none;\n  white-space: nowrap;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n\n.nvtooltip {\n  background: rgba(255, 255, 255, 0.8);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  border-radius: 4px; }\n\n/*Give tooltips that old fade in transition by\r\n    putting a "with-transitions" class on the container div.\r\n*/\n.nvtooltip.with-transitions, .with-transitions .nvtooltip {\n  transition: opacity 50ms linear;\n  -moz-transition: opacity 50ms linear;\n  -webkit-transition: opacity 50ms linear;\n  transition-delay: 200ms;\n  -moz-transition-delay: 200ms;\n  -webkit-transition-delay: 200ms; }\n\n.nvtooltip.x-nvtooltip,\n.nvtooltip.y-nvtooltip {\n  padding: 8px; }\n\n.nvtooltip h3 {\n  margin: 0;\n  padding: 4px 14px;\n  line-height: 18px;\n  font-weight: normal;\n  background-color: rgba(247, 247, 247, 0.75);\n  color: black;\n  text-align: center;\n  border-bottom: 1px solid #ebebeb;\n  -webkit-border-radius: 5px 5px 0 0;\n  -moz-border-radius: 5px 5px 0 0;\n  border-radius: 5px 5px 0 0; }\n\n.nvtooltip p {\n  margin: 0;\n  padding: 5px 14px;\n  text-align: center; }\n\n.nvtooltip span {\n  display: inline-block;\n  margin: 2px 0; }\n\n.nvtooltip table {\n  margin: 6px;\n  border-spacing: 0; }\n\n.nvtooltip table td {\n  padding: 2px 9px 2px 0;\n  vertical-align: middle; }\n\n.nvtooltip table td.key {\n  font-weight: normal; }\n\n.nvtooltip table td.key.total {\n  font-weight: bold; }\n\n.nvtooltip table td.value {\n  text-align: right;\n  font-weight: bold; }\n\n.nvtooltip table td.percent {\n  color: darkgray; }\n\n.nvtooltip table tr.highlight td {\n  padding: 1px 9px 1px 0;\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n  border-top-style: solid;\n  border-top-width: 1px; }\n\n.nvtooltip table td.legend-color-guide div {\n  width: 8px;\n  height: 8px;\n  vertical-align: middle; }\n\n.nvtooltip table td.legend-color-guide div {\n  width: 12px;\n  height: 12px;\n  border: 1px solid #999; }\n\n.nvtooltip .footer {\n  padding: 3px;\n  text-align: center; }\n\n.nvtooltip-pending-removal {\n  pointer-events: none;\n  display: none; }\n\n/****\r\nInteractive Layer\r\n*/\n.nvd3 .nv-interactiveGuideLine {\n  pointer-events: none; }\n\n.nvd3 line.nv-guideline {\n  stroke: #ccc; }\n\n.visits-info .row div {\n  padding: 0px; }\n\n.actions .btn {\n  font-size: 12px;\n  padding: 1px 5px; }\n'},1090:function(t,e){t.exports='<div class="chat">\r\n  <div class="chat-messages">\r\n    <div *ngFor="let message of _messages, let i = index" class="chat-message">\r\n\r\n      <div class="sender" [ngClass]="{\'float-xs-left\': !(i % 2), \'float-xs-right\': i % 2}">\r\n        <div class="icon">\r\n          <img src={{message.image}} class="rounded-circle" alt="">\r\n        </div>\r\n        <div class="time">\r\n          {{message.time}}\r\n        </div>\r\n      </div>\r\n      <div class="chat-message-body" [ngClass]="{\'on-left\': i % 2}">\r\n        <span class="arrow"></span>\r\n        <div class="sender"><a href="#">{{message.sender}}</a></div>\r\n        <div class="text">{{message.text}}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <footer class="chat-footer row">\r\n    <div class="col-sm-9 col-xs-9">\r\n      <input #message (keyup)="doneTyping($event)" id="new-message" type="text" class="form-control input-transparent" placeholder="Enter your message..">\r\n    </div>\r\n    <div class="col-sm-3 col-xs-3">\r\n      <button (click)="addMessage(message)" type="button" id="new-message-btn" class="btn btn-transparent btn-block">Send</button>\r\n    </div>\r\n  </footer>\r\n</div>\r\n'},1091:function(t,e){t.exports='<h2 class="page-title">Dashboard\r\n  <small>Statistics and more</small>\r\n</h2>\r\n<div class="row">\r\n  <div class="col-xl-8">\r\n    <section widget class="widget">\r\n      <header>\r\n        <h4>\r\n          Visits\r\n          <small>\r\n            Based on a three months data\r\n          </small>\r\n        </h4>\r\n        <div class="widget-controls">\r\n          <a title="Options" href="#"><i class="glyphicon glyphicon-cog"></i></a>\r\n          <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\r\n          <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\r\n          <a data-widgster="close" title="Close" href="#"><i class="glyphicon glyphicon-remove"></i></a>\r\n        </div>\r\n      </header>\r\n      <div class="widget-body no-margin">\r\n        <div nvd3-chart [chart]="nvd31Chart" [datum]="nvd31Data">\r\n          <svg></svg>\r\n        </div>\r\n        <div class="visits-info well well-sm">\r\n          <div class="row">\r\n            <div class="col-md-3 col-sm-6">\r\n              <div class="key"><i class="fa fa-users"></i> Total Traffic</div>\r\n              <div class="value">24 541 <i class="fa fa-caret-up color-green"></i></div>\r\n            </div>\r\n            <div class="col-md-3 col-sm-6">\r\n              <div class="key"><i class="fa fa-bolt"></i> Unique Visits</div>\r\n              <div class="value">14 778 <i class="fa fa-caret-down color-red"></i></div>\r\n            </div>\r\n            <div class="col-md-3 col-sm-6">\r\n              <div class="key"><i class="fa fa-plus-square"></i> Revenue</div>\r\n              <div class="value">$3 583.18 <i class="fa fa-caret-up color-green"></i></div>\r\n            </div>\r\n            <div class="col-md-3 col-sm-6">\r\n              <div class="key"><i class="fa fa-user"></i> Total Sales</div>\r\n              <div class="value">$59 871.12 <i class="fa fa-caret-down color-red"></i></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <section class="widget" widget>\r\n      <header>\r\n        <h4>\r\n          Traffic Sources\r\n          <small>\r\n            One month tracking\r\n          </small>\r\n        </h4>\r\n        <div class="widget-controls">\r\n          <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-plus"></i></a>\r\n          <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-minus"></i></a>\r\n          <a data-widgster="close" title="Close" href="#"><i class="glyphicon glyphicon-remove"></i></a>\r\n        </div>\r\n      </header>\r\n      <div class="widget-table-overflow widget-body">\r\n        <table class="table table-striped table-lg mt-sm mb-0 sources-table">\r\n          <thead>\r\n          <tr>\r\n            <th class="source-col-header">Source</th>\r\n            <th>Amount</th>\r\n            <th>Change</th>\r\n            <th class="hidden-xs-down">Percent.,%</th>\r\n            <th>Target</th>\r\n            <th class="chart-col-header hidden-xs-down">Trend</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          <tr>\r\n            <td><span class="tag tag-important">Direct</span></td>\r\n            <td>713</td>\r\n            <td><strong class="color-green">+53</strong></td>\r\n            <td class="hidden-xs-down">+12</td>\r\n            <td>900</td>\r\n            <td class="chart-cell hidden-xs-down">\r\n              <div id="direct-trend" jq-sparkline [options]="tableSparklineOptions[0]" [data]="tableSparklineValues[0]"></div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td><span class="tag tag-warning">Refer</span></td>\r\n            <td>562</td>\r\n            <td><strong>+84</strong></td>\r\n            <td class="hidden-xs-down">+64</td>\r\n            <td>500</td>\r\n            <td class="chart-cell hidden-xs-down">\r\n              <div id="refer-trend" jq-sparkline [options]="tableSparklineOptions[1]" [data]="tableSparklineValues[1]"></div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td><span class="tag tag-success">Social</span></td>\r\n            <td>148</td>\r\n            <td><strong class="color-red">-12</strong></td>\r\n            <td class="hidden-xs-down">+3</td>\r\n            <td>180</td>\r\n            <td class="chart-cell hidden-xs-down">\r\n              <div id="social-trend" jq-sparkline [options]="tableSparklineOptions[2]" [data]="tableSparklineValues[2]"></div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td><span class="tag tag-info">Search</span></td>\r\n            <td>653</td>\r\n            <td><strong class="color-green">+23</strong></td>\r\n            <td class="hidden-xs-down">+43</td>\r\n            <td>876</td>\r\n            <td class="chart-cell hidden-xs-down">\r\n              <div id="search-trend" jq-sparkline [options]="tableSparklineOptions[3]" [data]="tableSparklineValues[3]"></div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td><span class="tag tag-default">Internal</span></td>\r\n            <td>976</td>\r\n            <td><strong>+101</strong></td>\r\n            <td class="hidden-xs-down">-7</td>\r\n            <td>844</td>\r\n            <td class="chart-cell hidden-xs-down">\r\n              <div id="internal-trend" jq-sparkline [options]="tableSparklineOptions[4]" [data]="tableSparklineValues[4]"></div>\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </section>\r\n    <section class="widget large" widget>\r\n      <header>\r\n        <h4>\r\n          Chat\r\n        </h4>\r\n\r\n        <div class="widget-controls">\r\n          <a title="Options" href="#"><i class="glyphicon glyphicon-cog"></i></a>\r\n          <a data-widgster="close" title="Close" href="#"><i class="glyphicon glyphicon-remove"></i></a>\r\n        </div>\r\n      </header>\r\n      <div chat [messages]="messages" class="widget-body"></div>\r\n    </section>\r\n  </div>\r\n  <div class="col-xl-4">\r\n    <section class="widget large" widget>\r\n      <header>\r\n        <h4>\r\n          Feed\r\n          <span class="tag tag-success">412</span>\r\n        </h4>\r\n\r\n        <div class="actions">\r\n          <button class="btn btn-transparent">Show All <i class="fa fa-arrow-down"></i></button>\r\n        </div>\r\n      </header>\r\n      <div class="widget-body">\r\n        <div id="feed" class="feed">\r\n          <div class="wrapper">\r\n            <div class="vertical-line"></div>\r\n            <section class="feed-item">\r\n              <div class="icon float-xs-left">\r\n                <i class="fa fa-comment"></i>\r\n              </div>\r\n              <div class="feed-item-body">\r\n                <div class="text">\r\n                  <a href="#">John Doe</a> commented on <a href="#">What Makes Good Code Good</a>.\r\n                </div>\r\n                <div class="time float-xs-left">\r\n                  3 h\r\n                </div>\r\n              </div>\r\n            </section>\r\n            <section class="feed-item">\r\n              <div class="icon float-xs-left">\r\n                <i class="fa fa-check color-green"></i>\r\n              </div>\r\n              <div class="feed-item-body">\r\n                <div class="text">\r\n                  <a href="#">Merge request #42</a> has been approved by <a href="#">Jessica Lori</a>.\r\n                </div>\r\n                <div class="time float-xs-left">\r\n                  10 h\r\n                </div>\r\n              </div>\r\n            </section>\r\n            <section class="feed-item">\r\n              <div class="icon float-xs-left">\r\n                <img src="assets/img/14.png" class="rounded-circle" alt="">\r\n              </div>\r\n              <div class="feed-item-body">\r\n                <div class="text">\r\n                  New user <a href="#">Greg Wilson</a> registered.\r\n                </div>\r\n                <div class="time float-xs-left">\r\n                  Today\r\n                </div>\r\n              </div>\r\n            </section>\r\n            <section class="feed-item">\r\n              <div class="icon float-xs-left">\r\n                <i class="fa fa-bolt color-orange"></i>\r\n              </div>\r\n              <div class="feed-item-body">\r\n                <div class="text">\r\n                  Server fail level raises above normal. <a href="#">See logs</a> for details.\r\n                </div>\r\n                <div class="time float-xs-left">\r\n                  Yesterday\r\n                </div>\r\n              </div>\r\n            </section>\r\n            <section class="feed-item">\r\n              <div class="icon float-xs-left">\r\n                <i class="fa fa-database"></i>\r\n              </div>\r\n              <div class="feed-item-body">\r\n                <div class="text">\r\n                  <a href="#">Database usage report</a> is ready.\r\n                </div>\r\n                <div class="time float-xs-left">\r\n                  Yesterday\r\n                </div>\r\n              </div>\r\n            </section>\r\n            <section class="feed-item">\r\n              <div class="icon float-xs-left">\r\n                <i class="fa fa-shopping-cart"></i>\r\n              </div>\r\n              <div class="feed-item-body">\r\n                <div class="text">\r\n                  <a href="#">Order #233985</a> needs additional processing.\r\n                </div>\r\n                <div class="time float-xs-left">\r\n                  Wednesday\r\n                </div>\r\n              </div>\r\n            </section>\r\n            <section class="feed-item">\r\n              <div class="icon float-xs-left">\r\n                <i class="fa fa-arrow-down"></i>\r\n              </div>\r\n              <div class="feed-item-body">\r\n                <div class="text">\r\n                  <a href="#">Load more...</a>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <section class="widget widget-tabs" widget>\r\n      <header>\r\n        <ul class="nav nav-tabs">\r\n          <li class="nav-item">\r\n            <a class="nav-link active" href="#stats" data-toggle="tab">Users</a>\r\n          </li>\r\n          <li class="nav-item">\r\n            <a class="nav-link" href="#report" data-toggle="tab">Favorites</a>\r\n          </li>\r\n          <li class="nav-item">\r\n            <a class="nav-link" href="#dropdown1" data-toggle="tab">Commenters</a>\r\n          </li>\r\n        </ul>\r\n      </header>\r\n      <div class="widget-body tab-content">\r\n        <div id="stats" class="tab-pane active clearfix">\r\n          <h5 class="tab-header"><span class="tag tag-primary"><i class="fa fa-facebook"></i></span> Last\r\n            logged-in users</h5>\r\n          <ul class="news-list">\r\n            <li>\r\n              <img src="assets/img/1.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Finees Lund</a></div>\r\n                <div class="position">Product Designer</div>\r\n                <div class="time">Last logged-in: Mar 20, 18:46</div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <img src="assets/img/3.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Erebus Novak</a></div>\r\n                <div class="position">Software Engineer</div>\r\n                <div class="time">Last logged-in: Mar 23, 9:02</div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <img src="assets/img/2.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Leopoldo Reier</a></div>\r\n                <div class="position">Chief Officer</div>\r\n                <div class="time">Last logged-in: Jun 6, 15:34</div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <img src="assets/img/13.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Frans Garey</a></div>\r\n                <div class="position">Financial Assistant</div>\r\n                <div class="time">Last logged-in: Jun 8, 17:20</div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <img src="assets/img/14.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Jessica Johnsson</a></div>\r\n                <div class="position">Sales Manager</div>\r\n                <div class="time">Last logged-in: Jun 8, 9:13</div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div id="report" class="tab-pane">\r\n          <h5 class="tab-header"><i class="fa fa-star"></i> Popular contacts</h5>\r\n          <ul class="news-list news-list-no-hover">\r\n            <li>\r\n              <img src="assets/img/14.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Jessica Johnsson</a></div>\r\n                <div class="options">\r\n                  <button class="btn btn-xs btn-success">\r\n                    <i class="fa fa-phone"></i>\r\n                    Call\r\n                  </button>\r\n                  <button class="btn btn-xs btn-warning">\r\n                    <i class="fa fa-envelope-o"></i>\r\n                    Message\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <img src="assets/img/13.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Frans Garey</a></div>\r\n                <div class="options">\r\n                  <button class="btn btn-xs btn-success">\r\n                    <i class="fa fa-phone"></i>\r\n                    Call\r\n                  </button>\r\n                  <button class="btn btn-xs btn-warning">\r\n                    <i class="fa fa-envelope-o"></i>\r\n                    Message\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <img src="assets/img/3.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Erebus Novak</a></div>\r\n                <div class="options">\r\n                  <button class="btn btn-xs btn-success">\r\n                    <i class="fa fa-phone"></i>\r\n                    Call\r\n                  </button>\r\n                  <button class="btn btn-xs btn-warning">\r\n                    <i class="fa fa-envelope-o"></i>\r\n                    Message\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <img src="assets/img/2.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Leopoldo Reier</a></div>\r\n                <div class="options">\r\n                  <button class="btn btn-xs btn-success">\r\n                    <i class="fa fa-phone"></i>\r\n                    Call\r\n                  </button>\r\n                  <button class="btn btn-xs btn-warning">\r\n                    <i class="fa fa-envelope-o"></i>\r\n                    Message\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <img src="assets/img/1.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Finees Lund</a></div>\r\n                <div class="options">\r\n                  <button class="btn btn-xs btn-success">\r\n                    <i class="fa fa-phone"></i>\r\n                    Call\r\n                  </button>\r\n                  <button class="btn btn-xs btn-warning">\r\n                    <i class="fa fa-envelope-o"></i>\r\n                    Message\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div id="dropdown1" class="tab-pane">\r\n          <h5 class="tab-header"><i class="fa fa-comments"></i> Top Commenters</h5>\r\n          <ul class="news-list">\r\n            <li>\r\n              <img src="assets/img/13.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Frans Garey</a></div>\r\n                <div class="comment">\r\n                  Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit,\r\n                  sed quia\r\n                </div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <img src="assets/img/1.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Finees Lund</a></div>\r\n                <div class="comment">\r\n                  Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore\r\n                  eu fugiat.\r\n                </div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <img src="assets/img/14.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Jessica Johnsson</a></div>\r\n                <div class="comment">\r\n                  Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia\r\n                  deserunt.\r\n                </div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <img src="assets/img/3.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Erebus Novak</a></div>\r\n                <div class="comment">\r\n                  Sed ut perspiciatis, unde omnis iste natus error sit voluptatem accusantium\r\n                  doloremque.\r\n                </div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <img src="assets/img/2.png" alt="" class="float-xs-left rounded-circle"/>\r\n\r\n              <div class="news-item-info">\r\n                <div class="name"><a href="#">Leopoldo Reier</a></div>\r\n                <div class="comment">\r\n                  Laudantium, totam rem aperiam eaque ipsa, quae ab illo inventore veritatis\r\n                  et quasi.\r\n                </div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <section class="widget" widget>\r\n      <header>\r\n        <h4>\r\n          Server Overview\r\n        </h4>\r\n\r\n        <div class="actions">\r\n          <small class="text-muted float-xs-right">2 days ago</small>\r\n        </div>\r\n      </header>\r\n      <div class="widget-body">\r\n        <ul class="server-stats">\r\n          <li>\r\n            <div class="key float-xs-right">CPU</div>\r\n            <div class="stat">\r\n              <div class="info">60% / 37&deg;C / 3.3 Ghz</div>\r\n              <progress class="progress progress-sm progress-danger" value="70" max="100"></progress>\r\n            </div>\r\n          </li>\r\n          <li>\r\n            <div class="key float-xs-right">Mem</div>\r\n            <div class="stat">\r\n              <div class="info">29% / 4GB (16 GB)</div>\r\n              <div class="bg-progress-transparent progress-bar">\r\n                <progress class="progress progress-sm" value="29" max="100"></progress>\r\n              </div>\r\n            </div>\r\n          </li>\r\n          <li>\r\n            <div class="key float-xs-right">LAN</div>\r\n            <div class="stat">\r\n              <div class="info">6 Mb/s <i class="fa fa-caret-down"></i> &nbsp; 3 Mb/s <i class="fa fa-caret-up"></i>\r\n              </div>\r\n              <div class="bg-progress-transparent progress-bar">\r\n                <progress class="progress progress-sm progress-inverse" value="48" max="100"></progress>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</div>\r\n\r\n';
},1138:function(e,n,r){(function(e){(function(e){e.fn.extend({slimScroll:function(n){var r={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i=e.extend(r,n);return this.each(function(){function _onWheel(t){if(r){var t=t||window.event,n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3);var a=t.target||t.srcTarget||t.srcElement;e(a).closest("."+i.wrapperClass).is(g.parent())&&scrollContent(n,!0),t.preventDefault&&!p&&t.preventDefault(),p||(t.returnValue=!1)}}function scrollContent(t,e,n){p=!1;var r=t,a=g.outerHeight()-b.outerHeight();if(e&&(r=parseInt(b.css("top"))+t*parseInt(i.wheelStep)/100*b.outerHeight(),r=Math.min(Math.max(r,0),a),r=t>0?Math.ceil(r):Math.floor(r),b.css({top:r+"px"})),u=parseInt(b.css("top"))/(g.outerHeight()-b.outerHeight()),r=u*(g[0].scrollHeight-g.outerHeight()),n){r=t;var o=r/g[0].scrollHeight*g.outerHeight();o=Math.min(Math.max(o,0),a),b.css({top:o+"px"})}g.scrollTop(r),g.trigger("slimscrolling",~~r),showBar(),hideBar()}function attachWheel(t){window.addEventListener?(t.addEventListener("DOMMouseScroll",_onWheel,!1),t.addEventListener("mousewheel",_onWheel,!1)):document.attachEvent("onmousewheel",_onWheel)}function getBarHeight(){c=Math.max(g.outerHeight()/g[0].scrollHeight*g.outerHeight(),f),b.css({height:c+"px"});var t=c==g.outerHeight()?"none":"block";b.css({display:t})}function showBar(){if(getBarHeight(),clearTimeout(s),u==~~u){if(p=i.allowPageScroll,d!=u){var t=0==~~u?"top":"bottom";g.trigger("slimscroll",t)}}else p=!1;return d=u,c>=g.outerHeight()?void(p=!0):(b.stop(!0,!0).fadeIn("fast"),void(i.railVisible&&x.stop(!0,!0).fadeIn("fast")))}function hideBar(){i.alwaysVisible||(s=setTimeout(function(){i.disableFadeOut&&r||a||o||(b.fadeOut("slow"),x.fadeOut("slow"))},1e3))}var r,a,o,s,l,c,u,d,h="<div></div>",f=30,p=!1,g=e(this);if(g.parent().hasClass(i.wrapperClass)){var v=g.scrollTop();if(b=g.siblings("."+i.barClass),x=g.siblings("."+i.railClass),getBarHeight(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){g.parent().css("height","auto"),g.css("height","auto");var m=g.parent().parent().height();g.parent().css("height",m),g.css("height",m)}else if("height"in n){var _=n.height;g.parent().css("height",_),g.css("height",_)}if("scrollTo"in n)v=parseInt(i.scrollTo);else if("scrollBy"in n)v+=parseInt(i.scrollBy);else if("destroy"in n)return b.remove(),x.remove(),void g.unwrap();scrollContent(v,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){i.height="auto"==i.height?g.parent().height():i.height;var y=e(h).addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height});g.css({overflow:"hidden",width:i.width,height:i.height});var x=e(h).addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),b=e(h).addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),k="right"==i.position?{right:i.distance}:{left:i.distance};x.css(k),b.css(k),g.wrap(y),g.parent().append(b),g.parent().append(x),i.railDraggable&&b.bind("mousedown",function(n){var r=e(document);return o=!0,t=parseFloat(b.css("top")),pageY=n.pageY,r.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,b.css("top",currTop),scrollContent(0,b.position().top,!1)}),r.bind("mouseup.slimscroll",function(t){o=!1,hideBar(),r.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),x.hover(function(){showBar()},function(){hideBar()}),b.hover(function(){a=!0},function(){a=!1}),g.hover(function(){r=!0,showBar(),hideBar()},function(){r=!1,hideBar()}),g.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(l=t.originalEvent.touches[0].pageY)}),g.bind("touchmove",function(t){if(p||t.originalEvent.preventDefault(),t.originalEvent.touches.length){var e=(l-t.originalEvent.touches[0].pageY)/i.touchScrollStep;scrollContent(e,!0),l=t.originalEvent.touches[0].pageY}}),getBarHeight(),"bottom"===i.start?(b.css({top:g.outerHeight()-b.outerHeight()}),scrollContent(0,!0)):"top"!==i.start&&(scrollContent(e(i.start).position().top,null,!0),i.alwaysVisible||b.hide()),attachWheel(this)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})})(e)}).call(n,r(64))},718:function(t,e,n){"use strict";(function(t){var r=n(0),i=function(){function Widget(e){this.$el=t(e.nativeElement),t.fn.widgster.Constructor.DEFAULTS.bodySelector=".widget-body",t(document).on("close.widgster",function(e){var n=t(e.target).closest('.content > .row > [class*="col-"]:not(.widget-container)');n.find(".widget").not(e.target).length||n.remove()})}return Widget.prototype.ngOnInit=function(){this.$el.widgster()},Widget=__decorate([r.Directive({selector:"[widget]"}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.ElementRef&&r.ElementRef)&&e||Object])],Widget);var e}();e.Widget=i}).call(e,n(64))},719:function(t,e,n){"use strict";var r=n(0),i=n(81),a=n(718),o=function(){function WidgetModule(){}return WidgetModule=__decorate([r.NgModule({imports:[i.CommonModule],declarations:[a.Widget],exports:[a.Widget]}),__metadata("design:paramtypes",[])],WidgetModule)}();e.WidgetModule=o},720:function(t,e,n){var r,i;!function(){function d3_documentElement(t){return t&&(t.ownerDocument||t.document||t).documentElement}function d3_window(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function d3_ascending(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function d3_number(t){return null===t?NaN:+t}function d3_numeric(t){return!isNaN(t)}function d3_bisector(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}function d3_transposeLength(t){return t.length}function d3_range_integerScale(t){for(var e=1;t*e%1;)e*=10;return e}function d3_class(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function d3_Map(){this._=Object.create(null)}function d3_map_escape(t){return(t+="")===_||t[0]===y?y+t:t}function d3_map_unescape(t){return(t+="")[0]===y?t.slice(1):t}function d3_map_has(t){return d3_map_escape(t)in this._}function d3_map_remove(t){return(t=d3_map_escape(t))in this._&&delete this._[t]}function d3_map_keys(){var t=[];for(var e in this._)t.push(d3_map_unescape(e));return t}function d3_map_size(){var t=0;for(var e in this._)++t;return t}function d3_map_empty(){for(var t in this._)return!1;return!0}function d3_Set(){this._=Object.create(null)}function d3_identity(t){return t}function d3_rebind(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function d3_vendorSymbol(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=x.length;n<r;++n){var i=x[n]+e;if(i in t)return i}}function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(t){function event(){for(var n,r=e,i=-1,a=r.length;++i<a;)(n=r[i].on)&&n.apply(this,arguments);return t}var e=[],n=new d3_Map;return event.on=function(r,i){var a,o=n.get(r);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,a=e.indexOf(o)).concat(e.slice(a+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},event}function d3_eventPreventDefault(){a.event.preventDefault()}function d3_eventSource(){for(var t,e=a.event;t=e.sourceEvent;)e=t;return e}function d3_eventDispatch(t){for(var e=new d3_dispatch,n=0,r=arguments.length;++n<r;)e[arguments[n]]=d3_dispatch_event(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=a.event;i.target=t,a.event=i,e[i.type].apply(n,r)}finally{a.event=o}}},e}function d3_selection(t){return k(t,S),t}function d3_selection_selector(t){return"function"==typeof t?t:function(){return w(t,this)}}function d3_selection_selectorAll(t){return"function"==typeof t?t:function(){return M(t,this)}}function d3_selection_attr(t,e){function attrNull(){this.removeAttribute(t)}function attrNullNS(){this.removeAttributeNS(t.space,t.local)}function attrConstant(){this.setAttribute(t,e)}function attrConstantNS(){this.setAttributeNS(t.space,t.local,e)}function attrFunction(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function attrFunctionNS(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=a.ns.qualify(t),null==e?t.local?attrNullNS:attrNull:"function"==typeof e?t.local?attrFunctionNS:attrFunction:t.local?attrConstantNS:attrConstant}function d3_collapse(t){return t.trim().replace(/\s+/g," ")}function d3_selection_classedRe(t){return new RegExp("(?:^|\\s+)"+a.requote(t)+"(?:\\s+|$)","g")}function d3_selection_classes(t){return(t+"").trim().split(/^|\s+/)}function d3_selection_classed(t,e){function classedConstant(){for(var r=-1;++r<n;)t[r](this,e)}function classedFunction(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}t=d3_selection_classes(t).map(d3_selection_classedName);var n=t.length;return"function"==typeof e?classedFunction:classedConstant}function d3_selection_classedName(t){var e=d3_selection_classedRe(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",d3_collapse(i+" "+t))):n.setAttribute("class",d3_collapse(i.replace(e," ")))}}function d3_selection_style(t,e,n){function styleNull(){this.style.removeProperty(t)}function styleConstant(){this.style.setProperty(t,e,n)}function styleFunction(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?styleNull:"function"==typeof e?styleFunction:styleConstant}function d3_selection_property(t,e){function propertyNull(){delete this[t]}function propertyConstant(){this[t]=e}function propertyFunction(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?propertyNull:"function"==typeof e?propertyFunction:propertyConstant}function d3_selection_creator(t){function create(){var e=this.ownerDocument,n=this.namespaceURI;return n===A&&e.documentElement.namespaceURI===A?e.createElement(t):e.createElementNS(n,t)}function createNS(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=a.ns.qualify(t)).local?createNS:create}function d3_selectionRemove(){var t=this.parentNode;t&&t.removeChild(this)}function d3_selection_dataNode(t){return{__data__:t}}function d3_selection_filter(t){return function(){return C(this,t)}}function d3_selection_sortComparator(t){return arguments.length||(t=d3_ascending),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function d3_selection_each(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,a=t[n],o=0,s=a.length;o<s;o++)(i=a[o])&&e(i,o,n);return t}function d3_selection_enter(t){return k(t,N),t}function d3_selection_enterInsertBefore(t){var e,n;return function(r,i,a){var o,s=t[a].update,l=s.length;for(a!=n&&(n=a,e=0),i>=e&&(e=i+1);!(o=s[e])&&++e<l;);return o}}function d3_selection_on(t,e,n){function onRemove(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}function onAdd(){var i=o(e,s(arguments));onRemove.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}function removeAll(){var e,n=new RegExp("^__on([^.]+)"+a.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var r="__on"+t,i=t.indexOf("."),o=d3_selection_onListener;i>0&&(t=t.slice(0,i));var l=P.get(t);return l&&(t=l,o=d3_selection_onFilter),i?e?onAdd:onRemove:e?d3_noop:removeAll}function d3_selection_onListener(t,e){return function(n){var r=a.event;a.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{a.event=r}}}function d3_selection_onFilter(t,e){var n=d3_selection_onListener(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function d3_event_dragSuppress(t){var e=".dragsuppress-"+ ++L,n="click"+e,r=a.select(d3_window(t)).on("touchmove"+e,d3_eventPreventDefault).on("dragstart"+e,d3_eventPreventDefault).on("selectstart"+e,d3_eventPreventDefault);if(null==R&&(R=!("onselectstart"in t)&&d3_vendorSymbol(t.style,"userSelect")),R){var i=d3_documentElement(t).style,o=i[R];i[R]="none"}return function(t){if(r.on(e,null),R&&(i[R]=o),t){var a=function(){r.on(n,null)};r.on(n,function(){d3_eventPreventDefault(),a()},!0),setTimeout(a,0)}}}function d3_mousePoint(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(T<0){var i=d3_window(t);if(i.scrollX||i.scrollY){n=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();T=!(o.f||o.e),n.remove()}}return T?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function d3_behavior_dragTouchId(){return a.event.changedTouches[0].identifier}function d3_sgn(t){return t>0?1:t<0?-1:0}function d3_cross2d(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function d3_acos(t){return t>1?0:t<-1?B:Math.acos(t)}function d3_asin(t){return t>1?O:t<-1?-O:Math.asin(t)}function d3_sinh(t){return((t=Math.exp(t))-1/t)/2}function d3_cosh(t){return((t=Math.exp(t))+1/t)/2}function d3_tanh(t){return((t=Math.exp(2*t))-1)/(t+1)}function d3_haversin(t){return(t=Math.sin(t/2))*t}function d3_color(){}function d3_hsl(t,e,n){return this instanceof d3_hsl?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof d3_hsl?new d3_hsl(t.h,t.s,t.l):d3_rgb_parse(""+t,d3_rgb_hsl,d3_hsl):new d3_hsl(t,e,n)}function d3_hsl_rgb(t,e,n){function v(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}function vv(t){return Math.round(255*v(t))}var r,i;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i,new d3_rgb(vv(t+120),vv(t),vv(t-120))}function d3_hcl(t,e,n){return this instanceof d3_hcl?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof d3_hcl?new d3_hcl(t.h,t.c,t.l):t instanceof d3_lab?d3_lab_hcl(t.l,t.a,t.b):d3_lab_hcl((t=d3_rgb_lab((t=a.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new d3_hcl(t,e,n)}function d3_hcl_lab(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new d3_lab(n,Math.cos(t*=I)*e,Math.sin(t)*e)}function d3_lab(t,e,n){return this instanceof d3_lab?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof d3_lab?new d3_lab(t.l,t.a,t.b):t instanceof d3_hcl?d3_hcl_lab(t.h,t.c,t.l):d3_rgb_lab((t=d3_rgb(t)).r,t.g,t.b):new d3_lab(t,e,n)}function d3_lab_rgb(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;return i=d3_lab_xyz(i)*J,r=d3_lab_xyz(r)*K,a=d3_lab_xyz(a)*Q,new d3_rgb(d3_xyz_rgb(3.2404542*i-1.5371385*r-.4985314*a),d3_xyz_rgb(-.969266*i+1.8760108*r+.041556*a),d3_xyz_rgb(.0556434*i-.2040259*r+1.0572252*a))}function d3_lab_hcl(t,e,n){return t>0?new d3_hcl(Math.atan2(n,e)*H,Math.sqrt(e*e+n*n),t):new d3_hcl(NaN,NaN,t)}function d3_lab_xyz(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function d3_xyz_lab(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function d3_xyz_rgb(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function d3_rgb(t,e,n){return this instanceof d3_rgb?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof d3_rgb?new d3_rgb(t.r,t.g,t.b):d3_rgb_parse(""+t,d3_rgb,d3_hsl_rgb):new d3_rgb(t,e,n)}function d3_rgbNumber(t){return new d3_rgb(t>>16,t>>8&255,255&t)}function d3_rgbString(t){return d3_rgbNumber(t)+""}function d3_rgb_hex(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function d3_rgb_parse(t,e,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(d3_rgb_parseNumber(i[0]),d3_rgb_parseNumber(i[1]),d3_rgb_parseNumber(i[2]))}return(a=nt.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,l=15&a,l=l<<4|l):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),e(o,s,l))}function d3_rgb_hsl(t,e,n){var r,i,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,l=(o+a)/2;return s?(i=l<.5?s/(o+a):s/(2-o-a),r=t==o?(e-n)/s+(e<n?6:0):e==o?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new d3_hsl(r,i,l)}function d3_rgb_lab(t,e,n){t=d3_rgb_xyz(t),e=d3_rgb_xyz(e),n=d3_rgb_xyz(n);var r=d3_xyz_lab((.4124564*t+.3575761*e+.1804375*n)/J),i=d3_xyz_lab((.2126729*t+.7151522*e+.072175*n)/K),a=d3_xyz_lab((.0193339*t+.119192*e+.9503041*n)/Q);return d3_lab(116*i-16,500*(r-i),200*(i-a))}function d3_rgb_xyz(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function d3_rgb_parseNumber(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function d3_functor(t){return"function"==typeof t?t:function(){return t}}function d3_xhrType(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),d3_xhr(e,n,t,r)}}function d3_xhr(t,e,n,r){function respond(){var t,e=c.status;if(!e&&d3_xhrHasResponse(c)||e>=200&&e<300||304===e){try{t=n.call(i,c)}catch(r){return void o.error.call(i,r)}o.load.call(i,t)}else o.error.call(i,c)}var i={},o=a.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(t)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=respond:c.onreadystatechange=function(){c.readyState>3&&respond()},c.onprogress=function(t){var e=a.event;a.event=t;try{o.progress.call(i,c)}finally{a.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(u=t,i):u},i.response=function(t){return n=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(s(arguments)))}}),i.send=function(n,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),c.open(n,t,!0),null==e||"accept"in l||(l.accept=e+",*/*"),c.setRequestHeader)for(var s in l)c.setRequestHeader(s,l[s]);return null!=e&&c.overrideMimeType&&c.overrideMimeType(e),null!=u&&(c.responseType=u),null!=a&&i.on("error",a).on("load",function(t){a(null,t)}),o.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},a.rebind(i,o,"on"),null==r?i:i.get(d3_xhr_fixCallback(r))}function d3_xhr_fixCallback(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function d3_xhrHasResponse(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function d3_timer(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,a={c:t,t:i,n:null};return it?it.n=a:rt=a,it=a,at||(ot=clearTimeout(ot),at=1,st(d3_timer_step)),a}function d3_timer_step(){var t=d3_timer_mark(),e=d3_timer_sweep()-t;e>24?(isFinite(e)&&(clearTimeout(ot),ot=setTimeout(d3_timer_step,e)),at=0):(at=1,st(d3_timer_step))}function d3_timer_mark(){for(var t=Date.now(),e=rt;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function d3_timer_sweep(){for(var t,e=rt,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:rt=e.n;return it=t,n}function d3_format_precision(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function d3_formatPrefix(t,e){var n=Math.pow(10,3*m(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function d3_locale_numberFormat(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,a=[],o=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>e));)s=r[o=(o+1)%r.length];return a.reverse().join(n)}:d3_identity;return function(t){var n=ct.exec(t),r=n[1]||" ",s=n[2]||">",l=n[3]||"-",c=n[4]||"",u=n[5],d=+n[6],h=n[7],f=n[8],p=n[9],g=1,v="",m="",_=!1,y=!0;switch(f&&(f=+f.substring(1)),(u||"0"===r&&"="===s)&&(u=r="0",s="="),p){case"n":h=!0,p="g";break;case"%":g=100,m="%",p="f";break;case"p":g=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+p.toLowerCase());case"c":y=!1;case"d":_=!0,f=0;break;case"s":g=-1,p="r"}"$"===c&&(v=i[0],m=i[1]),"r"!=p||f||(p="g"),null!=f&&("g"==p?f=Math.max(1,Math.min(21,f)):"e"!=p&&"f"!=p||(f=Math.max(0,Math.min(20,f)))),p=ut.get(p)||d3_format_typeDefault;var x=u&&h;return function(t){var n=m;if(_&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(g<0){var c=a.formatPrefix(t,f);t=c.scale(t),n=c.symbol+m}else t*=g;t=p(t,f);var b,k,w=t.lastIndexOf(".");if(w<0){var M=y?t.lastIndexOf("e"):-1;M<0?(b=t,k=""):(b=t.substring(0,M),k=t.substring(M))}else b=t.substring(0,w),k=e+t.substring(w+1);!u&&h&&(b=o(b,1/0));var C=v.length+b.length+k.length+(x?0:i.length),S=C<d?new Array(C=d-C+1).join(r):"";return x&&(b=o(S+b,S.length?d-k.length:1/0)),i+=v,t=b+k,("<"===s?i+t+S:">"===s?S+i+t:"^"===s?S.substring(0,C>>=1)+i+t+S.substring(C):i+(x?t:S+t))+n}}}function d3_format_typeDefault(t){return t+""}function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function d3_time_interval(t,e,n){function round(e){var n=t(e),r=offset(n,1);return e-n<r-e?n:r}function ceil(n){return e(n=t(new ht(n-1)),1),n}function offset(t,n){return e(t=new ht((+t)),n),t}function range(t,r,i){var a=ceil(t),o=[];if(i>1)for(;a<r;)n(a)%i||o.push(new Date((+a))),e(a,1);else for(;a<r;)o.push(new Date((+a))),e(a,1);return o}function range_utc(t,e,n){try{ht=d3_date_utc;var r=new d3_date_utc;return r._=t,range(r,e,n)}finally{ht=Date}}t.floor=t,t.round=round,t.ceil=ceil,t.offset=offset,t.range=range;var r=t.utc=d3_time_interval_utc(t);return r.floor=r,r.round=d3_time_interval_utc(round),r.ceil=d3_time_interval_utc(ceil),r.offset=d3_time_interval_utc(offset),r.range=range_utc,t}function d3_time_interval_utc(t){return function(e,n){try{ht=d3_date_utc;var r=new d3_date_utc;return r._=e,t(r,n)._}finally{ht=Date}}}function d3_locale_timeFormat(t){function d3_time_format(t){function format(n){for(var r,i,a,o=[],s=-1,l=0;++s<e;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(i=pt[r=t.charAt(++s)])&&(r=t.charAt(++s)),(a=y[r])&&(r=a(n,null==i?"e"===r?" ":"0":i)),o.push(r),l=s+1);return o.push(t.slice(l,s)),o.join("")}var e=t.length;return format.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=d3_time_parse(n,t,e,0);if(r!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&ht!==d3_date_utc,a=new(i?d3_date_utc:ht);return"j"in n?a.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),a.setFullYear(n.y,0,1),a.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(a.getDay()+5)%7:n.w+7*n.U-(a.getDay()+6)%7)):a.setFullYear(n.y,n.m,n.d),a.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?a._:a},format.toString=function(){return t},format}function d3_time_parse(t,e,n,r){for(var i,a,o,s=0,l=e.length,c=n.length;s<l;){if(r>=c)return-1;if(i=e.charCodeAt(s++),37===i){if(o=e.charAt(s++),a=x[o in pt?e.charAt(s++):o],!a||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function d3_time_parseWeekdayAbbrev(t,e,n){f.lastIndex=0;var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseWeekday(t,e,n){d.lastIndex=0;var r=d.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseMonthAbbrev(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseMonth(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseLocaleFull(t,e,n){return d3_time_parse(t,y.c.toString(),e,n)}function d3_time_parseLocaleDate(t,e,n){return d3_time_parse(t,y.x.toString(),e,n)}function d3_time_parseLocaleTime(t,e,n){return d3_time_parse(t,y.X.toString(),e,n)}function d3_time_parseAmPm(t,e,n){var r=u.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths;d3_time_format.utc=function(t){function format(t){try{ht=d3_date_utc;var n=new ht;return n._=t,e(n)}finally{ht=Date}}var e=d3_time_format(t);return format.parse=function(t){try{ht=d3_date_utc;var n=e.parse(t);return n&&n._}finally{ht=Date}},format.toString=e.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var u=a.map(),d=d3_time_formatRe(o),h=d3_time_formatLookup(o),f=d3_time_formatRe(s),p=d3_time_formatLookup(s),g=d3_time_formatRe(l),v=d3_time_formatLookup(l),m=d3_time_formatRe(c),_=d3_time_formatLookup(c);i.forEach(function(t,e){u.set(t.toLowerCase(),e)});var y={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:d3_time_format(e),d:function(t,e){return d3_time_formatPad(t.getDate(),e,2)},e:function(t,e){return d3_time_formatPad(t.getDate(),e,2)},H:function(t,e){return d3_time_formatPad(t.getHours(),e,2)},I:function(t,e){return d3_time_formatPad(t.getHours()%12||12,e,2)},j:function(t,e){return d3_time_formatPad(1+dt.dayOfYear(t),e,3)},L:function(t,e){return d3_time_formatPad(t.getMilliseconds(),e,3)},m:function(t,e){return d3_time_formatPad(t.getMonth()+1,e,2)},M:function(t,e){return d3_time_formatPad(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return d3_time_formatPad(t.getSeconds(),e,2)},U:function(t,e){return d3_time_formatPad(dt.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return d3_time_formatPad(dt.mondayOfYear(t),e,2)},x:d3_time_format(n),X:d3_time_format(r),y:function(t,e){return d3_time_formatPad(t.getFullYear()%100,e,2)},Y:function(t,e){return d3_time_formatPad(t.getFullYear()%1e4,e,4)},Z:d3_time_zone,"%":function(){return"%"}},x={a:d3_time_parseWeekdayAbbrev,A:d3_time_parseWeekday,b:d3_time_parseMonthAbbrev,B:d3_time_parseMonth,c:d3_time_parseLocaleFull,d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:d3_time_parseAmPm,S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:d3_time_parseLocaleDate,X:d3_time_parseLocaleTime,y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}function d3_time_formatPad(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function d3_time_formatRe(t){return new RegExp("^(?:"+t.map(a.requote).join("|")+")","i")}function d3_time_formatLookup(t){for(var e=new d3_Map,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function d3_time_parseWeekdayNumber(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function d3_time_parseWeekNumberSunday(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function d3_time_parseWeekNumberMonday(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function d3_time_parseFullYear(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function d3_time_parseYear(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+2));return r?(t.y=d3_time_expandYear(+r[0]),n+r[0].length):-1}function d3_time_parseZone(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function d3_time_expandYear(t){return t+(t>68?1900:2e3)}function d3_time_parseMonthNumber(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function d3_time_parseDay(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function d3_time_parseDayOfYear(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function d3_time_parseHour24(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function d3_time_parseMinutes(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function d3_time_parseSeconds(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function d3_time_parseMilliseconds(t,e,n){gt.lastIndex=0;var r=gt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function d3_time_zone(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=m(e)/60|0,i=m(e)%60;return n+d3_time_formatPad(r,"0",2)+d3_time_formatPad(i,"0",2)}function d3_time_parseLiteralPercent(t,e,n){vt.lastIndex=0;var r=vt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function d3_time_formatMulti(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function d3_adder(){}function d3_adderSum(t,e,n){var r=n.s=t+e,i=r-t,a=r-i;n.t=t-a+(e-i)}function d3_geo_streamGeometry(t,e){t&&xt.hasOwnProperty(t.type)&&xt[t.type](t,e)}function d3_geo_streamLine(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function d3_geo_streamPolygon(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)d3_geo_streamLine(t[n],e,1);e.polygonEnd()}function d3_geo_areaRingStart(){function nextPoint(t,e){t*=I,e=e*I/2+B/4;var a=t-n,o=a>=0?1:-1,s=o*a,l=Math.cos(e),c=Math.sin(e),u=i*c,d=r*l+u*Math.cos(s),h=u*o*Math.sin(s);kt.add(Math.atan2(h,d)),n=t,r=l,i=c}var t,e,n,r,i;wt.point=function(a,o){wt.point=nextPoint,n=(t=a)*I,r=Math.cos(o=(e=o)*I/2+B/4),i=Math.sin(o)},wt.lineEnd=function(){nextPoint(t,e)}}function d3_geo_cartesian(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function d3_geo_cartesianDot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function d3_geo_cartesianCross(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function d3_geo_cartesianAdd(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function d3_geo_cartesianScale(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function d3_geo_cartesianNormalize(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function d3_geo_spherical(t){return[Math.atan2(t[1],t[0]),d3_asin(t[2])]}function d3_geo_sphericalEqual(t,e){return m(t[0]-e[0])<D&&m(t[1]-e[1])<D}function d3_geo_centroidPoint(t,e){t*=I;var n=Math.cos(e*=I);d3_geo_centroidPointXYZ(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function d3_geo_centroidPointXYZ(t,e,n){++Mt,St+=(t-St)/Mt,At+=(e-At)/Mt,Et+=(n-Et)/Mt}function d3_geo_centroidLineStart(){function nextPoint(r,i){r*=I;var a=Math.cos(i*=I),o=a*Math.cos(r),s=a*Math.sin(r),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=e*l-n*s)*c+(c=n*o-t*l)*c+(c=t*s-e*o)*c),t*o+e*s+n*l);Ct+=c,Nt+=c*(t+(t=o)),Pt+=c*(e+(e=s)),Rt+=c*(n+(n=l)),d3_geo_centroidPointXYZ(t,e,n)}var t,e,n;zt.point=function(r,i){r*=I;var a=Math.cos(i*=I);t=a*Math.cos(r),e=a*Math.sin(r),n=Math.sin(i),zt.point=nextPoint,d3_geo_centroidPointXYZ(t,e,n)}}function d3_geo_centroidLineEnd(){zt.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){function nextPoint(t,e){t*=I;var a=Math.cos(e*=I),o=a*Math.cos(t),s=a*Math.sin(t),l=Math.sin(e),c=r*l-i*s,u=i*o-n*l,d=n*s-r*o,h=Math.sqrt(c*c+u*u+d*d),f=n*o+r*s+i*l,p=h&&-d3_acos(f)/h,g=Math.atan2(h,f);
Lt+=p*c,Tt+=p*u,Dt+=p*d,Ct+=g,Nt+=g*(n+(n=o)),Pt+=g*(r+(r=s)),Rt+=g*(i+(i=l)),d3_geo_centroidPointXYZ(n,r,i)}var t,e,n,r,i;zt.point=function(a,o){t=a,e=o,zt.point=nextPoint,a*=I;var s=Math.cos(o*=I);n=s*Math.cos(a),r=s*Math.sin(a),i=Math.sin(o),d3_geo_centroidPointXYZ(n,r,i)},zt.lineEnd=function(){nextPoint(t,e),zt.lineEnd=d3_geo_centroidLineEnd,zt.point=d3_geo_centroidPoint}}function d3_geo_compose(t,e){function compose(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(compose.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),compose}function d3_true(){return!0}function d3_geo_clipPolygon(t,e,n,r,i){var a=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(d3_geo_sphericalEqual(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var l=new d3_geo_clipPolygonIntersection(n,t,null,(!0)),c=new d3_geo_clipPolygonIntersection(n,null,l,(!1));l.o=c,a.push(l),o.push(c),l=new d3_geo_clipPolygonIntersection(r,t,null,(!1)),c=new d3_geo_clipPolygonIntersection(r,null,l,(!0)),l.o=c,a.push(l),o.push(c)}}),o.sort(e),d3_geo_clipPolygonLinkCircular(a),d3_geo_clipPolygonLinkCircular(o),a.length){for(var s=0,l=n,c=o.length;s<c;++s)o[s].e=l=!l;for(var u,d,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var s=0,c=u.length;s<c;++s)i.point((d=u[s])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p){u=f.p.z;for(var s=u.length-1;s>=0;--s)i.point((d=u[s])[0],d[1])}else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,u=f.z,p=!p}while(!f.v);i.lineEnd()}}}function d3_geo_clipPolygonLinkCircular(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function d3_geo_clipPolygonIntersection(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function d3_geo_clip(t,e,n,r){return function(i,o){function point(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function pointLine(t,e){var n=i(t,e);u.point(n[0],n[1])}function lineStart(){h.point=pointLine,u.lineStart()}function lineEnd(){h.point=point,u.lineEnd()}function pointRing(t,e){c.push([t,e]);var n=i(t,e);p.point(n[0],n[1])}function ringStart(){p.lineStart(),c=[]}function ringEnd(){pointRing(c[0][0],c[0][1]),p.lineEnd();var t,e=p.clean(),n=f.buffer(),r=n.length;if(c.pop(),l.push(c),c=null,r)if(1&e){t=n[0];var i,r=t.length-1,a=-1;if(r>0){for(g||(o.polygonStart(),g=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(d3_geo_clipSegmentLength1))}var s,l,c,u=e(o),d=i.invert(r[0],r[1]),h={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){h.point=pointRing,h.lineStart=ringStart,h.lineEnd=ringEnd,s=[],l=[]},polygonEnd:function(){h.point=point,h.lineStart=lineStart,h.lineEnd=lineEnd,s=a.merge(s);var t=d3_geo_pointInPolygon(d,l);s.length?(g||(o.polygonStart(),g=!0),d3_geo_clipPolygon(s,d3_geo_clipSort,t,n,o)):t&&(g||(o.polygonStart(),g=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),g&&(o.polygonEnd(),g=!1),s=l=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},f=d3_geo_clipBufferListener(),p=e(f),g=!1;return h}}function d3_geo_clipSegmentLength1(t){return t.length>1}function d3_geo_clipBufferListener(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:d3_noop,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function d3_geo_clipSort(t,e){return((t=t.x)[0]<0?t[1]-O-D:O-t[1])-((e=e.x)[0]<0?e[1]-O-D:O-e[1])}function d3_geo_clipAntimeridianLine(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?B:-B,l=m(a-n);m(l-B)<D?(t.point(n,r=(r+o)/2>0?O:-O),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&l>=B&&(m(n-i)<D&&(n-=i*D),m(a-s)<D&&(a-=s*D),r=d3_geo_clipAntimeridianIntersect(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function d3_geo_clipAntimeridianIntersect(t,e,n,r){var i,a,o=Math.sin(t-n);return m(o)>D?Math.atan((Math.sin(e)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*a*o)):(e+r)/2}function d3_geo_clipAntimeridianInterpolate(t,e,n,r){var i;if(null==t)i=n*O,r.point(-B,i),r.point(0,i),r.point(B,i),r.point(B,0),r.point(B,-i),r.point(0,-i),r.point(-B,-i),r.point(-B,0),r.point(-B,i);else if(m(t[0]-e[0])>D){var a=t[0]<e[0]?B:-B;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function d3_geo_pointInPolygon(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;kt.reset();for(var s=0,l=e.length;s<l;++s){var c=e[s],u=c.length;if(u)for(var d=c[0],h=d[0],f=d[1]/2+B/4,p=Math.sin(f),g=Math.cos(f),v=1;;){v===u&&(v=0),t=c[v];var m=t[0],_=t[1]/2+B/4,y=Math.sin(_),x=Math.cos(_),b=m-h,k=b>=0?1:-1,w=k*b,M=w>B,C=p*y;if(kt.add(Math.atan2(C*k*Math.sin(w),g*x+C*Math.cos(w))),a+=M?b+k*F:b,M^h>=n^m>=n){var S=d3_geo_cartesianCross(d3_geo_cartesian(d),d3_geo_cartesian(t));d3_geo_cartesianNormalize(S);var A=d3_geo_cartesianCross(i,S);d3_geo_cartesianNormalize(A);var E=(M^b>=0?-1:1)*d3_asin(A[2]);(r>E||r===E&&(S[0]||S[1]))&&(o+=M^b>=0?1:-1)}if(!v++)break;h=m,p=y,g=x,d=t}}return(a<-D||a<D&&kt<-D)^1&o}function d3_geo_clipCircle(t){function visible(t,n){return Math.cos(t)*Math.cos(n)>e}function clipLine(t){var e,i,a,o,s;return{lineStart:function(){o=a=!1,s=1},point:function(l,c){var u,d=[l,c],h=visible(l,c),f=n?h?0:code(l,c):h?code(l+(l<0?B:-B),c):0;if(!e&&(o=a=h)&&t.lineStart(),h!==a&&(u=intersect(e,d),(d3_geo_sphericalEqual(e,u)||d3_geo_sphericalEqual(d,u))&&(d[0]+=D,d[1]+=D,h=visible(d[0],d[1]))),h!==a)s=0,h?(t.lineStart(),u=intersect(d,e),t.point(u[0],u[1])):(u=intersect(e,d),t.point(u[0],u[1]),t.lineEnd()),e=u;else if(r&&e&&n^h){var p;f&i||!(p=intersect(d,e,!0))||(s=0,n?(t.lineStart(),t.point(p[0][0],p[0][1]),t.point(p[1][0],p[1][1]),t.lineEnd()):(t.point(p[1][0],p[1][1]),t.lineEnd(),t.lineStart(),t.point(p[0][0],p[0][1])))}!h||e&&d3_geo_sphericalEqual(e,d)||t.point(d[0],d[1]),e=d,a=h,i=f},lineEnd:function(){a&&t.lineEnd(),e=null},clean:function(){return s|(o&&a)<<1}}}function intersect(t,n,r){var i=d3_geo_cartesian(t),a=d3_geo_cartesian(n),o=[1,0,0],s=d3_geo_cartesianCross(i,a),l=d3_geo_cartesianDot(s,s),c=s[0],u=l-c*c;if(!u)return!r&&t;var d=e*l/u,h=-e*c/u,f=d3_geo_cartesianCross(o,s),p=d3_geo_cartesianScale(o,d),g=d3_geo_cartesianScale(s,h);d3_geo_cartesianAdd(p,g);var v=f,_=d3_geo_cartesianDot(p,v),y=d3_geo_cartesianDot(v,v),x=_*_-y*(d3_geo_cartesianDot(p,p)-1);if(!(x<0)){var b=Math.sqrt(x),k=d3_geo_cartesianScale(v,(-_-b)/y);if(d3_geo_cartesianAdd(k,p),k=d3_geo_spherical(k),!r)return k;var w,M=t[0],C=n[0],S=t[1],A=n[1];C<M&&(w=M,M=C,C=w);var E=C-M,N=m(E-B)<D,P=N||E<D;if(!N&&A<S&&(w=S,S=A,A=w),P?N?S+A>0^k[1]<(m(k[0]-M)<D?S:A):S<=k[1]&&k[1]<=A:E>B^(M<=k[0]&&k[0]<=C)){var R=d3_geo_cartesianScale(v,(-_+b)/y);return d3_geo_cartesianAdd(R,p),[k,d3_geo_spherical(R)]}}}function code(e,r){var i=n?t:B-t,a=0;return e<-i?a|=1:e>i&&(a|=2),r<-i?a|=4:r>i&&(a|=8),a}var e=Math.cos(t),n=e>0,r=m(e)>D,i=d3_geo_circleInterpolate(t,6*I);return d3_geo_clip(visible,clipLine,i,n?[0,-t]:[-B,t-B])}function d3_geom_clipLine(t,e,n,r){return function(i){var a,o=i.a,s=i.b,l=o.x,c=o.y,u=s.x,d=s.y,h=0,f=1,p=u-l,g=d-c;if(a=t-l,p||!(a>0)){if(a/=p,p<0){if(a<h)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>h&&(h=a)}if(a=n-l,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>h&&(h=a)}else if(p>0){if(a<h)return;a<f&&(f=a)}if(a=e-c,g||!(a>0)){if(a/=g,g<0){if(a<h)return;a<f&&(f=a)}else if(g>0){if(a>f)return;a>h&&(h=a)}if(a=r-c,g||!(a<0)){if(a/=g,g<0){if(a>f)return;a>h&&(h=a)}else if(g>0){if(a<h)return;a<f&&(f=a)}return h>0&&(i.a={x:l+h*p,y:c+h*g}),f<1&&(i.b={x:l+f*p,y:c+f*g}),i}}}}}}function d3_geo_clipExtent(t,e,n,r){function corner(r,i){return m(r[0]-t)<D?i>0?0:3:m(r[0]-n)<D?i>0?2:1:m(r[1]-e)<D?i>0?1:0:i>0?3:2}function compare(t,e){return comparePoints(t.x,e.x)}function comparePoints(t,e){var n=corner(t,1),r=corner(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){function insidePolygon(t){for(var e=0,n=s.length,r=t[1],i=0;i<n;++i)for(var a,o=1,l=s[i],c=l.length,u=l[0];o<c;++o)a=l[o],u[1]<=r?a[1]>r&&d3_cross2d(u,a,t)>0&&++e:a[1]<=r&&d3_cross2d(u,a,t)<0&&--e,u=a;return 0!==e}function interpolate(i,a,o,s){var l=0,c=0;if(null==i||(l=corner(i,o))!==(c=corner(a,o))||comparePoints(i,a)<0^o>0){do s.point(0===l||3===l?t:n,l>1?r:e);while((l=(l+o+4)%4)!==c)}else s.point(a[0],a[1])}function pointVisible(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function point(t,e){pointVisible(t,e)&&i.point(t,e)}function lineStart(){x.point=linePoint,s&&s.push(l=[]),g=!0,p=!1,h=f=NaN}function lineEnd(){o&&(linePoint(c,u),d&&p&&_.rejoin(),o.push(_.buffer())),x.point=point,p&&i.lineEnd()}function linePoint(t,e){t=Math.max(-Ft,Math.min(Ft,t)),e=Math.max(-Ft,Math.min(Ft,e));var n=pointVisible(t,e);if(s&&l.push([t,e]),g)c=t,u=e,d=n,g=!1,n&&(i.lineStart(),i.point(t,e));else if(n&&p)i.point(t,e);else{var r={a:{x:h,y:f},b:{x:t,y:e}};y(r)?(p||(i.lineStart(),i.point(r.a.x,r.a.y)),i.point(r.b.x,r.b.y),n||i.lineEnd(),v=!1):n&&(i.lineStart(),i.point(t,e),v=!1)}h=t,f=e,p=n}var o,s,l,c,u,d,h,f,p,g,v,m=i,_=d3_geo_clipBufferListener(),y=d3_geom_clipLine(t,e,n,r),x={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){i=_,o=[],s=[],v=!0},polygonEnd:function(){i=m,o=a.merge(o);var e=insidePolygon([t,r]),n=v&&e,c=o.length;(n||c)&&(i.polygonStart(),n&&(i.lineStart(),interpolate(null,null,1,i),i.lineEnd()),c&&d3_geo_clipPolygon(o,compare,e,interpolate,i),i.polygonEnd()),o=s=l=null}};return x}}function d3_geo_conic(t){var e=0,n=B/3,r=d3_geo_projectionMutator(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*B/180,n=t[1]*B/180):[e/B*180,n/B*180]},i}function d3_geo_conicEqualArea(t,e){function forward(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;return forward.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,d3_asin((i-(t*t+n*n)*r*r)/(2*r))]},forward}function d3_geo_pathAreaRingStart(){function nextPoint(t,e){Ot+=r*t-n*e,n=t,r=e}var t,e,n,r;jt.point=function(i,a){jt.point=nextPoint,t=n=i,e=r=a},jt.lineEnd=function(){nextPoint(t,e)}}function d3_geo_pathBoundsPoint(t,e){t<It&&(It=t),t>qt&&(qt=t),e<Ht&&(Ht=e),e>Vt&&(Vt=e)}function d3_geo_pathBuffer(){function point(n,r){e.push("M",n,",",r,t)}function pointLineStart(t,r){e.push("M",t,",",r),n.point=pointLine}function pointLine(t,n){e.push("L",t,",",n)}function lineEnd(){n.point=point}function lineEndPolygon(){e.push("Z")}var t=d3_geo_pathBufferCircle(4.5),e=[],n={point:point,lineStart:function(){n.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){n.lineEnd=lineEndPolygon},polygonEnd:function(){n.lineEnd=lineEnd,n.point=point},pointRadius:function(e){return t=d3_geo_pathBufferCircle(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};return n}function d3_geo_pathBufferCircle(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function d3_geo_pathCentroidPoint(t,e){St+=t,At+=e,++Et}function d3_geo_pathCentroidLineStart(){function nextPoint(n,r){var i=n-t,a=r-e,o=Math.sqrt(i*i+a*a);Nt+=o*(t+n)/2,Pt+=o*(e+r)/2,Rt+=o,d3_geo_pathCentroidPoint(t=n,e=r)}var t,e;Xt.point=function(n,r){Xt.point=nextPoint,d3_geo_pathCentroidPoint(t=n,e=r)}}function d3_geo_pathCentroidLineEnd(){Xt.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){function nextPoint(t,e){var i=t-n,a=e-r,o=Math.sqrt(i*i+a*a);Nt+=o*(n+t)/2,Pt+=o*(r+e)/2,Rt+=o,o=r*t-n*e,Lt+=o*(n+t),Tt+=o*(r+e),Dt+=3*o,d3_geo_pathCentroidPoint(n=t,r=e)}var t,e,n,r;Xt.point=function(i,a){Xt.point=nextPoint,d3_geo_pathCentroidPoint(t=n=i,e=r=a)},Xt.lineEnd=function(){nextPoint(t,e)}}function d3_geo_pathContext(t){function point(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,F)}function pointLineStart(e,r){t.moveTo(e,r),n.point=pointLine}function pointLine(e,n){t.lineTo(e,n)}function lineEnd(){n.point=point}function lineEndPolygon(){t.closePath()}var e=4.5,n={point:point,lineStart:function(){n.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){n.lineEnd=lineEndPolygon},polygonEnd:function(){n.lineEnd=lineEnd,n.point=point},pointRadius:function(t){return e=t,n},result:d3_noop};return n}function d3_geo_resample(t){function resample(t){return(r?resampleRecursive:resampleNone)(t)}function resampleNone(e){return d3_geo_transformPoint(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function resampleRecursive(e){function point(n,r){n=t(n,r),e.point(n[0],n[1])}function lineStart(){d=NaN,v.point=linePoint,e.lineStart()}function linePoint(n,i){var a=d3_geo_cartesian([n,i]),o=t(n,i);resampleLineTo(d,h,u,f,p,g,d=o[0],h=o[1],u=n,f=a[0],p=a[1],g=a[2],r,e),e.point(d,h)}function lineEnd(){v.point=point,e.lineEnd()}function ringStart(){lineStart(),v.point=ringPoint,v.lineEnd=ringEnd}function ringPoint(t,e){linePoint(n=t,i=e),a=d,o=h,s=f,l=p,c=g,v.point=linePoint}function ringEnd(){resampleLineTo(d,h,u,f,p,g,a,o,n,s,l,c,r,e),v.lineEnd=lineEnd,lineEnd()}var n,i,a,o,s,l,c,u,d,h,f,p,g,v={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){e.polygonStart(),v.lineStart=ringStart},polygonEnd:function(){e.polygonEnd(),v.lineStart=lineStart}};return v}function resampleLineTo(r,i,a,o,s,l,c,u,d,h,f,p,g,v){var _=c-r,y=u-i,x=_*_+y*y;if(x>4*e&&g--){var b=o+h,k=s+f,w=l+p,M=Math.sqrt(b*b+k*k+w*w),C=Math.asin(w/=M),S=m(m(w)-1)<D||m(a-d)<D?(a+d)/2:Math.atan2(k,b),A=t(S,C),E=A[0],N=A[1],P=E-r,R=N-i,L=y*P-_*R;(L*L/x>e||m((_*P+y*R)/x-.5)>.3||o*h+s*f+l*p<n)&&(resampleLineTo(r,i,a,o,s,l,E,N,S,b/=M,k/=M,w,g,v),v.point(E,N),resampleLineTo(E,N,S,b,k,w,c,u,d,h,f,p,g,v))}}var e=.5,n=Math.cos(30*I),r=16;return resample.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,resample):Math.sqrt(e)},resample}function d3_geo_pathProjectStream(t){var e=d3_geo_resample(function(e,n){return t([e*H,n*H])});return function(t){return d3_geo_projectionRadians(e(t))}}function d3_geo_transform(t){this.stream=t}function d3_geo_transformPoint(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function d3_geo_projection(t){return d3_geo_projectionMutator(function(){return t})()}function d3_geo_projectionMutator(t){function projection(t){return t=r(t[0]*I,t[1]*I),[t[0]*c+i,o-t[1]*c]}function invert(t){return t=r.invert((t[0]-i)/c,(o-t[1])/c),t&&[t[0]*H,t[1]*H]}function reset(){r=d3_geo_compose(n=d3_geo_rotation(p,g,v),e);var t=e(h,f);return i=u-t[0]*c,o=d+t[1]*c,invalidate()}function invalidate(){return s&&(s.valid=!1,s=null),projection}var e,n,r,i,o,s,l=d3_geo_resample(function(t,n){return t=e(t,n),[t[0]*c+i,o-t[1]*c]}),c=150,u=480,d=250,h=0,f=0,p=0,g=0,v=0,m=Bt,_=d3_identity,y=null,x=null;return projection.stream=function(t){return s&&(s.valid=!1),s=d3_geo_projectionRadians(m(n,l(_(t)))),s.valid=!0,s},projection.clipAngle=function(t){return arguments.length?(m=null==t?(y=t,Bt):d3_geo_clipCircle((y=+t)*I),invalidate()):y},projection.clipExtent=function(t){return arguments.length?(x=t,_=t?d3_geo_clipExtent(t[0][0],t[0][1],t[1][0],t[1][1]):d3_identity,invalidate()):x},projection.scale=function(t){return arguments.length?(c=+t,reset()):c},projection.translate=function(t){return arguments.length?(u=+t[0],d=+t[1],reset()):[u,d]},projection.center=function(t){return arguments.length?(h=t[0]%360*I,f=t[1]%360*I,reset()):[h*H,f*H]},projection.rotate=function(t){return arguments.length?(p=t[0]%360*I,g=t[1]%360*I,v=t.length>2?t[2]%360*I:0,reset()):[p*H,g*H,v*H]},a.rebind(projection,l,"precision"),function(){return e=t.apply(this,arguments),projection.invert=e.invert&&invert,reset()}}function d3_geo_projectionRadians(t){return d3_geo_transformPoint(t,function(e,n){t.point(e*I,n*I)})}function d3_geo_equirectangular(t,e){return[t,e]}function d3_geo_identityRotation(t,e){return[t>B?t-F:t<-B?t+F:t,e]}function d3_geo_rotation(t,e,n){return t?e||n?d3_geo_compose(d3_geo_rotation(t),d3_geo_rotation(e,n)):d3_geo_rotation(t):e||n?d3_geo_rotation(e,n):d3_geo_identityRotation}function d3_geo_forwardRotation(t){return function(e,n){return e+=t,[e>B?e-F:e<-B?e+F:e,n]}}function d3_geo_rotation(t){var e=d3_geo_forwardRotation(t);return e.invert=d3_geo_forwardRotation(-t),e}function d3_geo_rotation(t,e){function rotation(t,e){var o=Math.cos(e),s=Math.cos(t)*o,l=Math.sin(t)*o,c=Math.sin(e),u=c*n+s*r;return[Math.atan2(l*i-u*a,s*n-c*r),d3_asin(u*i+l*a)]}var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),a=Math.sin(e);return rotation.invert=function(t,e){var o=Math.cos(e),s=Math.cos(t)*o,l=Math.sin(t)*o,c=Math.sin(e),u=c*i-l*a;return[Math.atan2(l*i+c*a,s*n+u*r),d3_asin(u*n-s*r)]},rotation}function d3_geo_circleInterpolate(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,a,o,s){var l=o*e;null!=i?(i=d3_geo_circleAngle(n,i),a=d3_geo_circleAngle(n,a),(o>0?i<a:i>a)&&(i+=o*F)):(i=t+o*F,a=t-.5*l);for(var c,u=i;o>0?u>a:u<a;u-=l)s.point((c=d3_geo_spherical([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function d3_geo_circleAngle(t,e){var n=d3_geo_cartesian(e);n[0]-=t,d3_geo_cartesianNormalize(n);var r=d3_acos(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-D)%(2*Math.PI)}function d3_geo_graticuleX(t,e,n){var r=a.range(t,e-D,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function d3_geo_graticuleY(t,e,n){var r=a.range(t,e-D,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function d3_source(t){return t.source}function d3_target(t){return t.target}function d3_geo_interpolate(t,e,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(r),s=Math.sin(r),l=i*Math.cos(t),c=i*Math.sin(t),u=o*Math.cos(n),d=o*Math.sin(n),h=2*Math.asin(Math.sqrt(d3_haversin(r-e)+i*o*d3_haversin(n-t))),f=1/Math.sin(h),p=h?function(t){var e=Math.sin(t*=h)*f,n=Math.sin(h-t)*f,r=n*l+e*u,i=n*c+e*d,o=n*a+e*s;return[Math.atan2(i,r)*H,Math.atan2(o,Math.sqrt(r*r+i*i))*H]}:function(){return[t*H,e*H]};return p.distance=h,p}function d3_geo_lengthLineStart(){function nextPoint(r,i){var a=Math.sin(i*=I),o=Math.cos(i),s=m((r*=I)-t),l=Math.cos(s);Gt+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=n*a-e*o*l)*s),e*a+n*o*l),t=r,e=a,n=o}var t,e,n;Ut.point=function(r,i){t=r*I,e=Math.sin(i*=I),n=Math.cos(i),Ut.point=nextPoint},Ut.lineEnd=function(){Ut.point=Ut.lineEnd=d3_noop}}function d3_geo_azimuthal(t,e){function azimuthal(e,n){var r=Math.cos(e),i=Math.cos(n),a=t(r*i);return[a*i*Math.sin(e),a*Math.sin(n)]}return azimuthal.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*a,r*o),Math.asin(r&&n*a/r)]},azimuthal}function d3_geo_conicConformal(t,e){function forward(t,e){a>0?e<-O+D&&(e=-O+D):e>O-D&&(e=O-D);var n=a/Math.pow(r(e),i);return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}var n=Math.cos(t),r=function(t){return Math.tan(B/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),a=n*Math.pow(r(t),i)/i;return i?(forward.invert=function(t,e){var n=a-e,r=d3_sgn(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(a/r,1/i))-O]},forward):d3_geo_mercator}function d3_geo_conicEquidistant(t,e){function forward(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;return m(r)<D?d3_geo_equirectangular:(forward.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-d3_sgn(r)*Math.sqrt(t*t+n*n)]},forward)}function d3_geo_mercator(t,e){return[t,Math.log(Math.tan(B/4+e/2))]}function d3_geo_mercatorProjection(t){var e,n=d3_geo_projection(t),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=B*r(),l=i();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function d3_geo_transverseMercator(t,e){return[Math.log(Math.tan(B/4+e/2)),-t]}function d3_geom_pointX(t){return t[0]}function d3_geom_pointY(t){return t[1]}function d3_geom_hullUpper(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&d3_cross2d(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function d3_geom_hullOrder(t,e){return t[0]-e[0]||t[1]-e[1]}function d3_geom_polygonInside(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function d3_geom_polygonIntersect(t,e,n,r){var i=t[0],a=n[0],o=e[0]-i,s=r[0]-a,l=t[1],c=n[1],u=e[1]-l,d=r[1]-c,h=(s*(l-c)-d*(i-a))/(d*o-s*u);return[i+h*o,l+h*u]}function d3_geom_polygonClosed(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(t){var e=oe.pop()||new d3_geom_voronoiBeach;return e.site=t,e}function d3_geom_voronoiDetachBeach(t){d3_geom_voronoiDetachCircle(t),re.remove(t),oe.push(t),d3_geom_voronoiRedBlackNode(t)}function d3_geom_voronoiRemoveBeach(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,o=t.N,s=[t];d3_geom_voronoiDetachBeach(t);for(var l=a;l.circle&&m(n-l.circle.x)<D&&m(r-l.circle.cy)<D;)a=l.P,s.unshift(l),d3_geom_voronoiDetachBeach(l),l=a;s.unshift(l),d3_geom_voronoiDetachCircle(l);for(var c=o;c.circle&&m(n-c.circle.x)<D&&m(r-c.circle.cy)<D;)o=c.N,s.push(c),d3_geom_voronoiDetachBeach(c),c=o;s.push(c),d3_geom_voronoiDetachCircle(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],d3_geom_voronoiSetEdgeEnd(c.edge,l.site,c.site,i);l=s[0],c=s[d-1],c.edge=d3_geom_voronoiCreateEdge(l.site,c.site,null,i),d3_geom_voronoiAttachCircle(l),d3_geom_voronoiAttachCircle(c)}function d3_geom_voronoiAddBeach(t){for(var e,n,r,i,a=t.x,o=t.y,s=re._;s;)if(r=d3_geom_voronoiLeftBreakPoint(s,o)-a,r>D)s=s.L;else{if(i=a-d3_geom_voronoiRightBreakPoint(s,o),!(i>D)){r>-D?(e=s.P,n=s):i>-D?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=d3_geom_voronoiCreateBeach(t);if(re.insert(e,l),e||n){if(e===n)return d3_geom_voronoiDetachCircle(e),n=d3_geom_voronoiCreateBeach(e.site),re.insert(l,n),l.edge=n.edge=d3_geom_voronoiCreateEdge(e.site,l.site),d3_geom_voronoiAttachCircle(e),void d3_geom_voronoiAttachCircle(n);if(!n)return void(l.edge=d3_geom_voronoiCreateEdge(e.site,l.site));d3_geom_voronoiDetachCircle(e),d3_geom_voronoiDetachCircle(n);var c=e.site,u=c.x,d=c.y,h=t.x-u,f=t.y-d,p=n.site,g=p.x-u,v=p.y-d,m=2*(h*v-f*g),_=h*h+f*f,y=g*g+v*v,x={x:(v*_-f*y)/m+u,y:(h*y-g*_)/m+d};d3_geom_voronoiSetEdgeEnd(n.edge,c,p,x),l.edge=d3_geom_voronoiCreateEdge(c,t,null,x),n.edge=d3_geom_voronoiCreateEdge(t,p,null,x),d3_geom_voronoiAttachCircle(e),d3_geom_voronoiAttachCircle(n)}}function d3_geom_voronoiLeftBreakPoint(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var o=t.P;if(!o)return-(1/0);n=o.site;var s=n.x,l=n.y,c=l-e;if(!c)return s;var u=s-r,d=1/a-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+i-a/2)))/d+r:(r+s)/2}function d3_geom_voronoiRightBreakPoint(t,e){var n=t.N;if(n)return d3_geom_voronoiLeftBreakPoint(n,e);var r=t.site;return r.y===e?r.x:1/0}function d3_geom_voronoiCell(t){this.site=t,this.edges=[]}function d3_geom_voronoiCloseCells(t){for(var e,n,r,i,a,o,s,l,c,u,d=t[0][0],h=t[1][0],f=t[0][1],p=t[1][1],g=ne,v=g.length;v--;)if(a=g[v],a&&a.prepare())for(s=a.edges,l=s.length,o=0;o<l;)u=s[o].end(),r=u.x,i=u.y,c=s[++o%l].start(),e=c.x,n=c.y,(m(r-e)>D||m(i-n)>D)&&(s.splice(o,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(a.site,u,m(r-d)<D&&p-i>D?{x:d,y:m(e-d)<D?n:p}:m(i-p)<D&&h-r>D?{x:m(n-p)<D?e:h,y:p}:m(r-h)<D&&i-f>D?{x:h,y:m(e-h)<D?n:f}:m(i-f)<D&&r-d>D?{x:m(n-f)<D?e:d,y:f}:null),a.site,null)),++l)}function d3_geom_voronoiHalfEdgeOrder(t,e){return e.angle-t.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,c=r.y-s,u=a.x-o,d=a.y-s,h=2*(l*d-c*u);if(!(h>=-z)){var f=l*l+c*c,p=u*u+d*d,g=(d*f-c*p)/h,v=(l*p-u*f)/h,d=v+s,m=se.pop()||new d3_geom_voronoiCircle;m.arc=t,m.site=i,m.x=g+o,m.y=d+Math.sqrt(g*g+v*v),m.cy=d,t.circle=m;for(var _=null,y=ae._;y;)if(m.y<y.y||m.y===y.y&&m.x<=y.x){if(!y.L){_=y.P;break}y=y.L}else{if(!y.R){_=y;break}y=y.R}ae.insert(_,m),_||(ie=m)}}}}function d3_geom_voronoiDetachCircle(t){var e=t.circle;e&&(e.P||(ie=e.N),ae.remove(e),se.push(e),d3_geom_voronoiRedBlackNode(e),t.circle=null)}function d3_geom_voronoiClipEdges(t){for(var e,n=ee,r=d3_geom_clipLine(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!d3_geom_voronoiConnectEdge(e,t)||!r(e)||m(e.a.x-e.b.x)<D&&m(e.a.y-e.b.y)<D)&&(e.a=e.b=null,n.splice(i,1))}function d3_geom_voronoiConnectEdge(t,e){var n=t.b;if(n)return!0;var r,i,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],c=e[1][1],u=t.l,d=t.r,h=u.x,f=u.y,p=d.x,g=d.y,v=(h+p)/2,m=(f+g)/2;if(g===f){if(v<o||v>=s)return;if(h>p){if(a){if(a.y>=c)return}else a={x:v,y:l};n={x:v,y:c}}else{if(a){if(a.y<l)return}else a={x:v,y:c};n={x:v,y:l}}}else if(r=(h-p)/(g-f),i=m-r*v,r<-1||r>1)if(h>p){if(a){if(a.y>=c)return}else a={x:(l-i)/r,y:l};n={x:(c-i)/r,y:c}}else{if(a){if(a.y<l)return}else a={x:(c-i)/r,y:c};n={x:(l-i)/r,y:l}}else if(f<g){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return t.a=a,t.b=n,!0}function d3_geom_voronoiEdge(t,e){this.l=t,this.r=e,this.a=this.b=null}function d3_geom_voronoiCreateEdge(t,e,n,r){var i=new d3_geom_voronoiEdge(t,e);return ee.push(i),n&&d3_geom_voronoiSetEdgeEnd(i,t,e,n),r&&d3_geom_voronoiSetEdgeEnd(i,e,t,r),ne[t.i].edges.push(new d3_geom_voronoiHalfEdge(i,t,e)),ne[e.i].edges.push(new d3_geom_voronoiHalfEdge(i,e,t)),i}function d3_geom_voronoiCreateBorderEdge(t,e,n){var r=new d3_geom_voronoiEdge(t,null);return r.a=e,r.b=n,ee.push(r),r}function d3_geom_voronoiSetEdgeEnd(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function d3_geom_voronoiHalfEdge(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function d3_geom_voronoiRedBlackRotateLeft(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function d3_geom_voronoiRedBlackRotateRight(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function d3_geom_voronoiRedBlackFirst(t){for(;t.L;)t=t.L;return t}function d3_geom_voronoi(t,e){var n,r,i,a=t.sort(d3_geom_voronoiVertexOrder).pop();for(ee=[],ne=new Array(t.length),re=new d3_geom_voronoiRedBlackTree,ae=new d3_geom_voronoiRedBlackTree;;)if(i=ie,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))a.x===n&&a.y===r||(ne[a.i]=new d3_geom_voronoiCell(a),d3_geom_voronoiAddBeach(a),n=a.x,r=a.y),a=t.pop();else{if(!i)break;d3_geom_voronoiRemoveBeach(i.arc)}e&&(d3_geom_voronoiClipEdges(e),d3_geom_voronoiCloseCells(e));var o={cells:ne,edges:ee};return re=ae=ee=ne=null,o}function d3_geom_voronoiVertexOrder(t,e){return e.y-t.y||e.x-t.x}function d3_geom_voronoiTriangleArea(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function d3_geom_quadtreeCompatX(t){return t.x}function d3_geom_quadtreeCompatY(t){return t.y}function d3_geom_quadtreeNode(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function d3_geom_quadtreeVisit(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=e.nodes;l[0]&&d3_geom_quadtreeVisit(t,l[0],n,r,o,s),l[1]&&d3_geom_quadtreeVisit(t,l[1],o,r,i,s),l[2]&&d3_geom_quadtreeVisit(t,l[2],n,s,o,a),l[3]&&d3_geom_quadtreeVisit(t,l[3],o,s,i,a)}}function d3_geom_quadtreeFind(t,e,n,r,i,a,o){var s,l=1/0;return function find(t,c,u,d,h){if(!(c>a||u>o||d<r||h<i)){if(f=t.point){var f,p=e-t.x,g=n-t.y,v=p*p+g*g;if(v<l){var m=Math.sqrt(l=v);r=e-m,i=n-m,a=e+m,o=n+m,s=f}}for(var _=t.nodes,y=.5*(c+d),x=.5*(u+h),b=e>=y,k=n>=x,w=k<<1|b,M=w+4;w<M;++w)if(t=_[3&w])switch(3&w){case 0:find(t,c,u,y,x);break;case 1:find(t,y,u,d,x);break;case 2:find(t,c,x,y,h);break;case 3:find(t,y,x,d,h)}}}(t,r,i,a,o),s}function d3_interpolateRgb(t,e){t=a.rgb(t),e=a.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,s=e.g-r,l=e.b-i;return function(t){return"#"+d3_rgb_hex(Math.round(n+o*t))+d3_rgb_hex(Math.round(r+s*t))+d3_rgb_hex(Math.round(i+l*t))}}function d3_interpolateObject(t,e){var n,r={},i={};for(n in t)n in e?r[n]=d3_interpolate(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function d3_interpolateNumber(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function d3_interpolateString(t,e){var n,r,i,a=ce.lastIndex=ue.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=ce.exec(t))&&(r=ue.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:d3_interpolateNumber(n,r)})),a=ue.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function d3_interpolate(t,e){for(var n,r=a.interpolators.length;--r>=0&&!(n=a.interpolators[r](t,e)););return n}function d3_interpolateArray(t,e){var n,r=[],i=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(d3_interpolate(t[n],e[n]));for(;n<a;++n)i[n]=t[n];for(;n<o;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function d3_ease_clamp(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function d3_ease_reverse(t){return function(e){return 1-t(1-e)}}function d3_ease_reflect(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function d3_ease_quad(t){return t*t}function d3_ease_cubic(t){return t*t*t}function d3_ease_cubicInOut(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function d3_ease_poly(t){return function(e){return Math.pow(e,t)}}function d3_ease_sin(t){return 1-Math.cos(t*O)}function d3_ease_exp(t){return Math.pow(2,10*(t-1))}function d3_ease_circle(t){return 1-Math.sqrt(1-t*t)}function d3_ease_elastic(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/F*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*F/e)}}function d3_ease_back(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function d3_ease_bounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function d3_interpolateHcl(t,e){t=a.hcl(t),e=a.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,s=e.c-r,l=e.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return d3_hcl_lab(n+o*t,r+s*t,i+l*t)+""}}function d3_interpolateHsl(t,e){t=a.hsl(t),e=a.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,s=e.s-r,l=e.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return d3_hsl_rgb(n+o*t,r+s*t,i+l*t)+""}}function d3_interpolateLab(t,e){t=a.lab(t),e=a.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,s=e.a-r,l=e.b-i;return function(t){return d3_lab_rgb(n+o*t,r+s*t,i+l*t)+""}}function d3_interpolateRound(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function d3_transform(t){var e=[t.a,t.b],n=[t.c,t.d],r=d3_transformNormalize(e),i=d3_transformDot(e,n),a=d3_transformNormalize(d3_transformCombine(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*H,this.translate=[t.e,t.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*H:0}function d3_transformDot(t,e){return t[0]*e[0]+t[1]*e[1]}function d3_transformNormalize(t){var e=Math.sqrt(d3_transformDot(t,t));return e&&(t[0]/=e,t[1]/=e),e}function d3_transformCombine(t,e,n){
return t[0]+=n*e[0],t[1]+=n*e[1],t}function d3_interpolateTransformPop(t){return t.length?t.pop()+",":""}function d3_interpolateTranslate(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:d3_interpolateNumber(t[0],e[0])},{i:i-2,x:d3_interpolateNumber(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function d3_interpolateRotate(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(d3_interpolateTransformPop(n)+"rotate(",null,")")-2,x:d3_interpolateNumber(t,e)})):e&&n.push(d3_interpolateTransformPop(n)+"rotate("+e+")")}function d3_interpolateSkew(t,e,n,r){t!==e?r.push({i:n.push(d3_interpolateTransformPop(n)+"skewX(",null,")")-2,x:d3_interpolateNumber(t,e)}):e&&n.push(d3_interpolateTransformPop(n)+"skewX("+e+")")}function d3_interpolateScale(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(d3_interpolateTransformPop(n)+"scale(",null,",",null,")");r.push({i:i-4,x:d3_interpolateNumber(t[0],e[0])},{i:i-2,x:d3_interpolateNumber(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(d3_interpolateTransformPop(n)+"scale("+e+")")}function d3_interpolateTransform(t,e){var n=[],r=[];return t=a.transform(t),e=a.transform(e),d3_interpolateTranslate(t.translate,e.translate,n,r),d3_interpolateRotate(t.rotate,e.rotate,n,r),d3_interpolateSkew(t.skew,e.skew,n,r),d3_interpolateScale(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,a=r.length;++i<a;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function d3_uninterpolateNumber(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function d3_uninterpolateClamp(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function d3_layout_bundlePath(t){for(var e=t.source,n=t.target,r=d3_layout_bundleLeastCommonAncestor(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function d3_layout_bundleAncestors(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function d3_layout_bundleLeastCommonAncestor(t,e){if(t===e)return t;for(var n=d3_layout_bundleAncestors(t),r=d3_layout_bundleAncestors(e),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}function d3_layout_forceDragstart(t){t.fixed|=2}function d3_layout_forceDragend(t){t.fixed&=-7}function d3_layout_forceMouseover(t){t.fixed|=4,t.px=t.x,t.py=t.y}function d3_layout_forceMouseout(t){t.fixed&=-5}function d3_layout_forceAccumulate(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,l=-1;++l<s;)a=o[l],null!=a&&(d3_layout_forceAccumulate(a,e,n),t.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function d3_layout_hierarchyRebind(t,e){return a.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=d3_layout_hierarchyLinks,t}function d3_layout_hierarchyVisitBefore(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function d3_layout_hierarchyVisitAfter(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(a=t.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(t=r.pop());)e(t)}function d3_layout_hierarchyChildren(t){return t.children}function d3_layout_hierarchyValue(t){return t.value}function d3_layout_hierarchySort(t,e){return e.value-t.value}function d3_layout_hierarchyLinks(t){return a.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function d3_layout_stackX(t){return t.x}function d3_layout_stackY(t){return t.y}function d3_layout_stackOut(t,e,n){t.y0=e,t.y=n}function d3_layout_stackOrderDefault(t){return a.range(t.length)}function d3_layout_stackOffsetZero(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function d3_layout_stackMaxIndex(t){for(var e,n=1,r=0,i=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function d3_layout_stackReduceSum(t){return t.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(t,e){return t+e[1]}function d3_layout_histogramBinSturges(t,e){return d3_layout_histogramBinFixed(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];++n<=e;)a[n]=i*n+r;return a}function d3_layout_histogramRange(t){return[a.min(t),a.max(t)]}function d3_layout_packSort(t,e){return t.value-e.value}function d3_layout_packInsert(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function d3_layout_packSplice(t,e){t._pack_next=e,e._pack_prev=t}function d3_layout_packIntersects(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function d3_layout_packSiblings(t){function bound(t){c=Math.min(t.x-t.r,c),u=Math.max(t.x+t.r,u),d=Math.min(t.y-t.r,d),h=Math.max(t.y+t.r,h)}if((e=t.children)&&(l=e.length)){var e,n,r,i,a,o,s,l,c=1/0,u=-(1/0),d=1/0,h=-(1/0);if(e.forEach(d3_layout_packLink),n=e[0],n.x=-n.r,n.y=0,bound(n),l>1&&(r=e[1],r.x=r.r,r.y=0,bound(r),l>2))for(i=e[2],d3_layout_packPlace(n,r,i),bound(i),d3_layout_packInsert(n,i),n._pack_prev=i,d3_layout_packInsert(i,r),r=n._pack_next,a=3;a<l;a++){d3_layout_packPlace(n,r,i=e[a]);var f=0,p=1,g=1;for(o=r._pack_next;o!==r;o=o._pack_next,p++)if(d3_layout_packIntersects(o,i)){f=1;break}if(1==f)for(s=n._pack_prev;s!==o._pack_prev&&!d3_layout_packIntersects(s,i);s=s._pack_prev,g++);f?(p<g||p==g&&r.r<n.r?d3_layout_packSplice(n,r=o):d3_layout_packSplice(n=s,r),a--):(d3_layout_packInsert(n,i),r=i,bound(i))}var v=(c+u)/2,m=(d+h)/2,_=0;for(a=0;a<l;a++)i=e[a],i.x-=v,i.y-=m,_=Math.max(_,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=_,e.forEach(d3_layout_packUnlink)}}function d3_layout_packLink(t){t._pack_next=t._pack_prev=t}function d3_layout_packUnlink(t){delete t._pack_next,delete t._pack_prev}function d3_layout_packTransform(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var a=-1,o=i.length;++a<o;)d3_layout_packTransform(i[a],e,n,r)}function d3_layout_packPlace(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var o=e.r+n.r,s=i*i+a*a;o*=o,r*=r;var l=.5+(r-o)/(2*s),c=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=t.x+l*i+c*a,n.y=t.y+l*a-c*i}else n.x=t.x+r,n.y=t.y}function d3_layout_treeSeparation(t,e){return t.parent==e.parent?1:2}function d3_layout_treeLeft(t){var e=t.children;return e.length?e[0]:t.t}function d3_layout_treeRight(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function d3_layout_treeMove(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function d3_layout_treeShift(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)e=i[a],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function d3_layout_treeAncestor(t,e,n){return t.a.parent===e.parent?t.a:n}function d3_layout_clusterY(t){return 1+a.max(t,function(t){return t.y})}function d3_layout_clusterX(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function d3_layout_clusterLeft(t){var e=t.children;return e&&e.length?d3_layout_clusterLeft(e[0]):t}function d3_layout_clusterRight(t){var e,n=t.children;return n&&(e=n.length)?d3_layout_clusterRight(n[e-1]):t}function d3_layout_treemapPadNull(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function d3_layout_treemapPad(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function d3_scaleExtent(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function d3_scaleRange(t){return t.rangeExtent?t.rangeExtent():d3_scaleExtent(t.range())}function d3_scale_bilinear(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(t){return a(i(t))}}function d3_scale_nice(t,e){var n,r=0,i=t.length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function d3_scale_niceStep(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:be}function d3_scale_polylinear(t,e,n,r){var i=[],o=[],s=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=l;)i.push(n(t[s-1],t[s])),o.push(r(e[s-1],e[s]));return function(e){var n=a.bisect(t,e,1,l)-1;return o[n](i[n](e))}}function d3_scale_linear(t,e,n,r){function rescale(){var o=Math.min(t.length,e.length)>2?d3_scale_polylinear:d3_scale_bilinear,s=r?d3_uninterpolateClamp:d3_uninterpolateNumber;return i=o(t,e,s,n),a=o(e,t,s,d3_interpolate),scale}function scale(t){return i(t)}var i,a;return scale.invert=function(t){return a(t)},scale.domain=function(e){return arguments.length?(t=e.map(Number),rescale()):t},scale.range=function(t){return arguments.length?(e=t,rescale()):e},scale.rangeRound=function(t){return scale.range(t).interpolate(d3_interpolateRound)},scale.clamp=function(t){return arguments.length?(r=t,rescale()):r},scale.interpolate=function(t){return arguments.length?(n=t,rescale()):n},scale.ticks=function(e){return d3_scale_linearTicks(t,e)},scale.tickFormat=function(e,n){return d3_scale_linearTickFormat(t,e,n)},scale.nice=function(e){return d3_scale_linearNice(t,e),rescale()},scale.copy=function(){return d3_scale_linear(t,e,n,r)},rescale()}function d3_scale_linearRebind(t,e){return a.rebind(t,e,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(t,e){return d3_scale_nice(t,d3_scale_niceStep(d3_scale_linearTickRange(t,e)[2])),d3_scale_nice(t,d3_scale_niceStep(d3_scale_linearTickRange(t,e)[2])),t}function d3_scale_linearTickRange(t,e){null==e&&(e=10);var n=d3_scaleExtent(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function d3_scale_linearTicks(t,e){return a.range.apply(a,d3_scale_linearTickRange(t,e))}function d3_scale_linearTickFormat(t,e,n){var r=d3_scale_linearTickRange(t,e);if(n){var i=ct.exec(n);if(i.shift(),"s"===i[8]){var o=a.formatPrefix(Math.max(m(r[0]),m(r[1])));return i[7]||(i[7]="."+d3_scale_linearPrecision(o.scale(r[2]))),i[8]="f",n=a.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+d3_scale_linearFormatPrecision(i[8],r)),n=i.join("")}else n=",."+d3_scale_linearPrecision(r[2])+"f";return a.format(n)}function d3_scale_linearPrecision(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(t,e){var n=d3_scale_linearPrecision(e[2]);return t in ke?Math.abs(n-d3_scale_linearPrecision(Math.max(m(e[0]),m(e[1]))))+ +("e"!==t):n-2*("%"===t)}function d3_scale_log(t,e,n,r){function log(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function pow(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function scale(e){return t(log(e))}return scale.invert=function(e){return pow(t.invert(e))},scale.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(log)),scale):r},scale.base=function(n){return arguments.length?(e=+n,t.domain(r.map(log)),scale):e},scale.nice=function(){var e=d3_scale_nice(r.map(log),n?Math:Me);return t.domain(e),r=e.map(pow),scale},scale.ticks=function(){var t=d3_scaleExtent(r),i=[],a=t[0],o=t[1],s=Math.floor(log(a)),l=Math.ceil(log(o)),c=e%1?2:e;if(isFinite(l-s)){if(n){for(;s<l;s++)for(var u=1;u<c;u++)i.push(pow(s)*u);i.push(pow(s))}else for(i.push(pow(s));s++<l;)for(var u=c-1;u>0;u--)i.push(pow(s)*u);for(s=0;i[s]<a;s++);for(l=i.length;i[l-1]>o;l--);i=i.slice(s,l)}return i},scale.tickFormat=function(t,n){if(!arguments.length)return we;arguments.length<2?n=we:"function"!=typeof n&&(n=a.format(n));var r=Math.max(1,e*t/scale.ticks().length);return function(t){var i=t/pow(Math.round(log(t)));return i*e<e-.5&&(i*=e),i<=r?n(t):""}},scale.copy=function(){return d3_scale_log(t.copy(),e,n,r)},d3_scale_linearRebind(scale,t)}function d3_scale_pow(t,e,n){function scale(e){return t(r(e))}var r=d3_scale_powPow(e),i=d3_scale_powPow(1/e);return scale.invert=function(e){return i(t.invert(e))},scale.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),scale):n},scale.ticks=function(t){return d3_scale_linearTicks(n,t)},scale.tickFormat=function(t,e){return d3_scale_linearTickFormat(n,t,e)},scale.nice=function(t){return scale.domain(d3_scale_linearNice(n,t))},scale.exponent=function(a){return arguments.length?(r=d3_scale_powPow(e=a),i=d3_scale_powPow(1/e),t.domain(n.map(r)),scale):e},scale.copy=function(){return d3_scale_pow(t.copy(),e,n)},d3_scale_linearRebind(scale,t)}function d3_scale_powPow(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function d3_scale_ordinal(t,e){function scale(i){return r[((n.get(i)||("range"===e.t?n.set(i,t.push(i)):NaN))-1)%r.length]}function steps(e,n){return a.range(t.length).map(function(t){return e+n*t})}var n,r,i;return scale.domain=function(r){if(!arguments.length)return t;t=[],n=new d3_Map;for(var i,a=-1,o=r.length;++a<o;)n.has(i=r[a])||n.set(i,t.push(i));return scale[e.t].apply(scale,e.a)},scale.range=function(t){return arguments.length?(r=t,i=0,e={t:"range",a:arguments},scale):r},scale.rangePoints=function(n,a){arguments.length<2&&(a=0);var o=n[0],s=n[1],l=t.length<2?(o=(o+s)/2,0):(s-o)/(t.length-1+a);return r=steps(o+l*a/2,l),i=0,e={t:"rangePoints",a:arguments},scale},scale.rangeRoundPoints=function(n,a){arguments.length<2&&(a=0);var o=n[0],s=n[1],l=t.length<2?(o=s=Math.round((o+s)/2),0):(s-o)/(t.length-1+a)|0;return r=steps(o+Math.round(l*a/2+(s-o-(t.length-1+a)*l)/2),l),i=0,e={t:"rangeRoundPoints",a:arguments},scale},scale.rangeBands=function(n,a,o){arguments.length<2&&(a=0),arguments.length<3&&(o=a);var s=n[1]<n[0],l=n[s-0],c=n[1-s],u=(c-l)/(t.length-a+2*o);return r=steps(l+u*o,u),s&&r.reverse(),i=u*(1-a),e={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(n,a,o){arguments.length<2&&(a=0),arguments.length<3&&(o=a);var s=n[1]<n[0],l=n[s-0],c=n[1-s],u=Math.floor((c-l)/(t.length-a+2*o));return r=steps(l+Math.round((c-l-(t.length-a)*u)/2),u),s&&r.reverse(),i=Math.round(u*(1-a)),e={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return i},scale.rangeExtent=function(){return d3_scaleExtent(e.a[0])},scale.copy=function(){return d3_scale_ordinal(t,e)},scale.domain(t)}function d3_scale_quantile(t,e){function rescale(){var r=0,i=e.length;for(n=[];++r<i;)n[r-1]=a.quantile(t,r/i);return scale}function scale(t){if(!isNaN(t=+t))return e[a.bisect(n,t)]}var n;return scale.domain=function(e){return arguments.length?(t=e.map(d3_number).filter(d3_numeric).sort(d3_ascending),rescale()):t},scale.range=function(t){return arguments.length?(e=t,rescale()):e},scale.quantiles=function(){return n},scale.invertExtent=function(r){return r=e.indexOf(r),r<0?[NaN,NaN]:[r>0?n[r-1]:t[0],r<n.length?n[r]:t[t.length-1]]},scale.copy=function(){return d3_scale_quantile(t,e)},rescale()}function d3_scale_quantize(t,e,n){function scale(e){return n[Math.max(0,Math.min(i,Math.floor(r*(e-t))))]}function rescale(){return r=n.length/(e-t),i=n.length-1,scale}var r,i;return scale.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],rescale()):[t,e]},scale.range=function(t){return arguments.length?(n=t,rescale()):n},scale.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/r+t,[e,e+1/r]},scale.copy=function(){return d3_scale_quantize(t,e,n)},rescale()}function d3_scale_threshold(t,e){function scale(n){if(n<=n)return e[a.bisect(t,n)]}return scale.domain=function(e){return arguments.length?(t=e,scale):t},scale.range=function(t){return arguments.length?(e=t,scale):e},scale.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},scale.copy=function(){return d3_scale_threshold(t,e)},scale}function d3_scale_identity(t){function identity(t){return+t}return identity.invert=identity,identity.domain=identity.range=function(e){return arguments.length?(t=e.map(identity),identity):t},identity.ticks=function(e){return d3_scale_linearTicks(t,e)},identity.tickFormat=function(e,n){return d3_scale_linearTickFormat(t,e,n)},identity.copy=function(){return d3_scale_identity(t)},identity}function d3_zero(){return 0}function d3_svg_arcInnerRadius(t){return t.innerRadius}function d3_svg_arcOuterRadius(t){return t.outerRadius}function d3_svg_arcStartAngle(t){return t.startAngle}function d3_svg_arcEndAngle(t){return t.endAngle}function d3_svg_arcPadAngle(t){return t&&t.padAngle}function d3_svg_arcSweep(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function d3_svg_arcCornerTangents(t,e,n,r,i){var a=t[0]-e[0],o=t[1]-e[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),l=s*o,c=-s*a,u=t[0]+l,d=t[1]+c,h=e[0]+l,f=e[1]+c,p=(u+h)/2,g=(d+f)/2,v=h-u,m=f-d,_=v*v+m*m,y=n-r,x=u*f-h*d,b=(m<0?-1:1)*Math.sqrt(Math.max(0,y*y*_-x*x)),k=(x*m-v*b)/_,w=(-x*v-m*b)/_,M=(x*m+v*b)/_,C=(-x*v+m*b)/_,S=k-p,A=w-g,E=M-p,N=C-g;return S*S+A*A>E*E+N*N&&(k=M,w=C),[[k-l,w-c],[k*n/y,w*n/y]]}function d3_svg_line(t){function line(a){function segment(){l.push("M",i(t(c),o))}for(var s,l=[],c=[],u=-1,d=a.length,h=d3_functor(e),f=d3_functor(n);++u<d;)r.call(this,s=a[u],u)?c.push([+h.call(this,s,u),+f.call(this,s,u)]):c.length&&(segment(),c=[]);return c.length&&segment(),l.length?l.join(""):null}var e=d3_geom_pointX,n=d3_geom_pointY,r=d3_true,i=d3_svg_lineLinear,a=i.key,o=.7;return line.x=function(t){return arguments.length?(e=t,line):e},line.y=function(t){return arguments.length?(n=t,line):n},line.defined=function(t){return arguments.length?(r=t,line):r},line.interpolate=function(t){return arguments.length?(a="function"==typeof t?i=t:(i=Pe.get(t)||d3_svg_lineLinear).key,line):a},line.tension=function(t){return arguments.length?(o=t,line):o},line}function d3_svg_lineLinear(t){return t.length>1?t.join("L"):t+"Z"}function d3_svg_lineLinearClosed(t){return t.join("L")+"Z"}function d3_svg_lineStep(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function d3_svg_lineStepBefore(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function d3_svg_lineStepAfter(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function d3_svg_lineCardinalOpen(t,e){return t.length<4?d3_svg_lineLinear(t):t[1]+d3_svg_lineHermite(t.slice(1,-1),d3_svg_lineCardinalTangents(t,e))}function d3_svg_lineCardinalClosed(t,e){return t.length<3?d3_svg_lineLinearClosed(t):t[0]+d3_svg_lineHermite((t.push(t[0]),t),d3_svg_lineCardinalTangents([t[t.length-2]].concat(t,[t[1]]),e))}function d3_svg_lineCardinal(t,e){return t.length<3?d3_svg_lineLinear(t):t[0]+d3_svg_lineHermite(t,d3_svg_lineCardinalTangents(t,e))}function d3_svg_lineHermite(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return d3_svg_lineLinear(t);var n=t.length!=e.length,r="",i=t[0],a=t[1],o=e[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=t[1],l=2),e.length>1){s=e[1],a=t[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var c=2;c<e.length;c++,l++)a=t[l],s=e[c],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var u=t[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+u[0]+","+u[1]}return r}function d3_svg_lineCardinalTangents(t,e){for(var n,r=[],i=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s<l;)n=a,a=o,o=t[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function d3_svg_lineBasis(t){if(t.length<3)return d3_svg_lineLinear(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],o=[i,i,i,(r=t[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",d3_svg_lineDot4(Te,o),",",d3_svg_lineDot4(Te,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),d3_svg_lineBasisBezier(l,o,s);return t.pop(),l.push("L",r),l.join("")}function d3_svg_lineBasisOpen(t){if(t.length<4)return d3_svg_lineLinear(t);for(var e,n=[],r=-1,i=t.length,a=[0],o=[0];++r<3;)e=t[r],a.push(e[0]),o.push(e[1]);for(n.push(d3_svg_lineDot4(Te,a)+","+d3_svg_lineDot4(Te,o)),--r;++r<i;)e=t[r],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),d3_svg_lineBasisBezier(n,a,o);return n.join("")}function d3_svg_lineBasisClosed(t){for(var e,n,r=-1,i=t.length,a=i+4,o=[],s=[];++r<4;)n=t[r%i],o.push(n[0]),s.push(n[1]);for(e=[d3_svg_lineDot4(Te,o),",",d3_svg_lineDot4(Te,s)],--r;++r<a;)n=t[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),d3_svg_lineBasisBezier(e,o,s);return e.join("")}function d3_svg_lineBundle(t,e){var n=t.length-1;if(n)for(var r,i,a=t[0][0],o=t[0][1],s=t[n][0]-a,l=t[n][1]-o,c=-1;++c<=n;)r=t[c],i=c/n,r[0]=e*r[0]+(1-e)*(a+i*s),r[1]=e*r[1]+(1-e)*(o+i*l);return d3_svg_lineBasis(t)}function d3_svg_lineDot4(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function d3_svg_lineBasisBezier(t,e,n){t.push("C",d3_svg_lineDot4(Re,e),",",d3_svg_lineDot4(Re,n),",",d3_svg_lineDot4(Le,e),",",d3_svg_lineDot4(Le,n),",",d3_svg_lineDot4(Te,e),",",d3_svg_lineDot4(Te,n))}function d3_svg_lineSlope(t,e){return(e[1]-t[1])/(e[0]-t[0])}function d3_svg_lineFiniteDifferences(t){for(var e=0,n=t.length-1,r=[],i=t[0],a=t[1],o=r[0]=d3_svg_lineSlope(i,a);++e<n;)r[e]=(o+(o=d3_svg_lineSlope(i=a,a=t[e+1])))/2;return r[e]=o,r}function d3_svg_lineMonotoneTangents(t){for(var e,n,r,i,a=[],o=d3_svg_lineFiniteDifferences(t),s=-1,l=t.length-1;++s<l;)e=d3_svg_lineSlope(t[s],t[s+1]),m(e)<D?o[s]=o[s+1]=0:(n=o[s]/e,r=o[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r));for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}function d3_svg_lineMonotone(t){return t.length<3?d3_svg_lineLinear(t):t[0]+d3_svg_lineHermite(t,d3_svg_lineMonotoneTangents(t))}function d3_svg_lineRadial(t){for(var e,n,r,i=-1,a=t.length;++i<a;)e=t[i],n=e[0],r=e[1]-O,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function d3_svg_area(t){function area(s){function segment(){p.push("M",o(t(v),u),c,l(t(g.reverse()),u),"Z")}for(var d,h,f,p=[],g=[],v=[],m=-1,_=s.length,y=d3_functor(e),x=d3_functor(r),b=e===n?function(){return h}:d3_functor(n),k=r===i?function(){return f}:d3_functor(i);++m<_;)a.call(this,d=s[m],m)?(g.push([h=+y.call(this,d,m),f=+x.call(this,d,m)]),v.push([+b.call(this,d,m),+k.call(this,d,m)])):g.length&&(segment(),g=[],v=[]);return g.length&&segment(),p.length?p.join(""):null}var e=d3_geom_pointX,n=d3_geom_pointX,r=0,i=d3_geom_pointY,a=d3_true,o=d3_svg_lineLinear,s=o.key,l=o,c="L",u=.7;return area.x=function(t){return arguments.length?(e=n=t,area):n},area.x0=function(t){return arguments.length?(e=t,area):e},area.x1=function(t){return arguments.length?(n=t,area):n},area.y=function(t){return arguments.length?(r=i=t,area):i},area.y0=function(t){return arguments.length?(r=t,area):r},area.y1=function(t){return arguments.length?(i=t,area):i},area.defined=function(t){return arguments.length?(a=t,area):a},area.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=Pe.get(t)||d3_svg_lineLinear).key,l=o.reverse||o,c=o.closed?"M":"L",area):s},area.tension=function(t){return arguments.length?(u=t,area):u},area}function d3_svg_chordRadius(t){return t.radius}function d3_svg_diagonalProjection(t){return[t.x,t.y]}function d3_svg_diagonalRadialProjection(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-O;return[n*Math.cos(r),n*Math.sin(r)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(t){var e=Math.sqrt(t/B);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function d3_selection_interruptNS(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function d3_transition(t,e,n){return k(t,Ie),t.namespace=e,t.id=n,t}function d3_transition_tween(t,e,n,r){var i=t.id,a=t.namespace;return d3_selection_each(t,"function"==typeof n?function(t,o,s){t[a][i].tween.set(e,r(n.call(t,t.__data__,o,s)))}:(n=r(n),function(t){t[a][i].tween.set(e,n)}))}function d3_transition_text(t){return null==t&&(t=""),function(){this.textContent=t}}function d3_transitionNamespace(t){return null==t?"__transition__":"__transition_"+t+"__"}function d3_transitionNode(t,e,n,r,i){function schedule(t){var e=d.delay;return o.t=e+a,e<=t?start(t-e):void(o.c=start)}function start(n){var i=u.active,h=u[i];h&&(h.timer.c=null,h.timer.t=NaN,--u.count,delete u[i],h.event&&h.event.interrupt.call(t,t.__data__,h.index));for(var f in u)if(+f<r){var p=u[f];p.timer.c=null,p.timer.t=NaN,--u.count,delete u[f]}o.c=tick,d3_timer(function(){return o.c&&tick(n||1)&&(o.c=null,o.t=NaN),1},0,a),u.active=r,d.event&&d.event.start.call(t,t.__data__,e),c=[],d.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&c.push(r)}),l=d.ease,s=d.duration}function tick(i){for(var a=i/s,o=l(a),h=c.length;h>0;)c[--h].call(t,o);if(a>=1)return d.event&&d.event.end.call(t,t.__data__,e),--u.count?delete u[r]:delete t[n],1}var a,o,s,l,c,u=t[n]||(t[n]={active:0,count:0}),d=u[r];d||(a=i.time,o=d3_timer(schedule,0,a),d=u[r]={tween:new d3_Map,time:a,timer:o,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++u.count)}function d3_svg_axisX(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function d3_svg_axisY(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function d3_time_formatIsoNative(t){return t.toISOString()}function d3_time_scale(t,e,n){function scale(e){return t(e)}function tickMethod(t,n){var r=t[1]-t[0],i=r/n,o=a.bisect(Ze,i);return o==Ze.length?[e.year,d3_scale_linearTickRange(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/Ze[o-1]<Ze[o]/i?o-1:o]:[Ke,d3_scale_linearTickRange(t,n)[2]]}return scale.invert=function(e){return d3_time_scaleDate(t.invert(e))},scale.domain=function(e){return arguments.length?(t.domain(e),scale):t.domain().map(d3_time_scaleDate)},scale.nice=function(t,e){function skipped(n){return!isNaN(n)&&!t.range(n,d3_time_scaleDate(+n+1),e).length}var n=scale.domain(),r=d3_scaleExtent(n),i=null==t?tickMethod(r,10):"number"==typeof t&&tickMethod(r,t);return i&&(t=i[0],e=i[1]),scale.domain(d3_scale_nice(n,e>1?{floor:function(e){for(;skipped(e=t.floor(e));)e=d3_time_scaleDate(e-1);return e},ceil:function(e){for(;skipped(e=t.ceil(e));)e=d3_time_scaleDate(+e+1);return e}}:t))},scale.ticks=function(t,e){var n=d3_scaleExtent(scale.domain()),r=null==t?tickMethod(n,10):"number"==typeof t?tickMethod(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],d3_time_scaleDate(+n[1]+1),e<1?1:e)},scale.tickFormat=function(){return n},scale.copy=function(){return d3_time_scale(t.copy(),e,n)},d3_scale_linearRebind(scale,t)}function d3_time_scaleDate(t){return new Date(t)}function d3_json(t){return JSON.parse(t.responseText)}function d3_html(t){var e=l.createRange();return e.selectNode(l.body),e.createContextualFragment(t.responseText)}var a={version:"3.5.17"},o=[].slice,s=function(t){return o.call(t)},l=this.document;if(l)try{s(l.documentElement.childNodes)[0].nodeType}catch(c){s=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(u){var d=this.Element.prototype,h=d.setAttribute,f=d.setAttributeNS,p=this.CSSStyleDeclaration.prototype,g=p.setProperty;d.setAttribute=function(t,e){h.call(this,t,e+"")},d.setAttributeNS=function(t,e,n){f.call(this,t,e,n+"")},p.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}a.ascending=d3_ascending,a.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},a.min=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},a.max=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},a.extent=function(t,e){var n,r,i,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=t[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t[a])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++a<o;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e.call(t,t[a],a))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},a.sum=function(t,e){var n,r=0,i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)d3_numeric(n=+t[a])&&(r+=n);else for(;++a<i;)d3_numeric(n=+e.call(t,t[a],a))&&(r+=n);return r},a.mean=function(t,e){var n,r=0,i=t.length,a=-1,o=i;if(1===arguments.length)for(;++a<i;)d3_numeric(n=d3_number(t[a]))?r+=n:--o;else for(;++a<i;)d3_numeric(n=d3_number(e.call(t,t[a],a)))?r+=n:--o;if(o)return r/o},a.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},a.median=function(t,e){var n,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)d3_numeric(n=d3_number(t[o]))&&r.push(n);else for(;++o<i;)d3_numeric(n=d3_number(e.call(t,t[o],o)))&&r.push(n);if(r.length)return a.quantile(r.sort(d3_ascending),.5)},a.variance=function(t,e){var n,r,i=t.length,a=0,o=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)d3_numeric(n=d3_number(t[s]))&&(r=n-a,a+=r/++l,o+=r*(n-a));else for(;++s<i;)d3_numeric(n=d3_number(e.call(t,t[s],s)))&&(r=n-a,a+=r/++l,o+=r*(n-a));if(l>1)return o/(l-1)},a.deviation=function(){var t=a.variance.apply(this,arguments);return t?Math.sqrt(t):t};var v=d3_bisector(d3_ascending);a.bisectLeft=v.left,a.bisect=a.bisectRight=v.right,a.bisector=function(t){return d3_bisector(1===t.length?function(e,n){return d3_ascending(t(e),n)}:t)},a.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,a<2&&(e=0));for(var r,i,a=n-e;a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},a.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},a.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=[e=i,i=t[++n]];return a},a.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=a.min(t,d3_transposeLength),r=new Array(n);++e<n;)for(var i,o=-1,s=r[e]=new Array(i);++o<i;)s[o]=t[o][e];return r},a.zip=function(){return a.transpose(arguments)},a.keys=function(t){var e=[];for(var n in t)e.push(n);return e},a.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},a.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},a.merge=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--o]=r[e];return n};var m=Math.abs;a.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],a=d3_range_integerScale(m(n)),o=-1;if(t*=a,e*=a,n*=a,n<0)for(;(r=t+n*++o)>e;)i.push(r/a);else for(;(r=t+n*++o)<e;)i.push(r/a);return i},a.map=function(t,e){var n=new d3_Map;if(t instanceof d3_Map)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,a=t.length;if(1===arguments.length)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e.call(t,r=t[i],i),r)}else for(var o in t)n.set(o,t[o]);return n};var _="__proto__",y="\0";d3_class(d3_Map,{has:d3_map_has,get:function(t){return this._[d3_map_escape(t)]},set:function(t,e){return this._[d3_map_escape(t)]=e},remove:d3_map_remove,keys:d3_map_keys,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:d3_map_unescape(e),value:this._[e]});return t},size:d3_map_size,empty:d3_map_empty,forEach:function(t){for(var e in this._)t.call(this,d3_map_unescape(e),this._[e])}}),a.nest=function(){function map(i,a,o){if(o>=r.length)return e?e.call(n,a):t?a.sort(t):a;for(var s,l,c,u,d=-1,h=a.length,f=r[o++],p=new d3_Map;++d<h;)(u=p.get(s=f(l=a[d])))?u.push(l):p.set(s,[l]);return i?(l=i(),c=function(t,e){l.set(t,map(i,e,o))}):(l={},c=function(t,e){l[t]=map(i,e,o)}),p.forEach(c),l}function entries(t,e){if(e>=r.length)return t;var n=[],a=i[e++];return t.forEach(function(t,r){n.push({key:t,values:entries(r,e)
})}),a?n.sort(function(t,e){return a(t.key,e.key)}):n}var t,e,n={},r=[],i=[];return n.map=function(t,e){return map(e,t,0)},n.entries=function(t){return entries(map(a.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},a.set=function(t){var e=new d3_Set;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},d3_class(d3_Set,{has:d3_map_has,add:function(t){return this._[d3_map_escape(t+="")]=!0,t},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(t){for(var e in this._)t.call(this,d3_map_unescape(e))}}),a.behavior={},a.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=d3_rebind(t,e,e[n]);return t};var x=["webkit","ms","moz","Moz","o","O"];a.dispatch=function(){for(var t=new d3_dispatch,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=d3_dispatch_event(t);return t},d3_dispatch.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},a.event=null,a.requote=function(t){return t.replace(b,"\\$&")};var b=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,k={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},w=function(t,e){return e.querySelector(t)},M=function(t,e){return e.querySelectorAll(t)},C=function(t,e){var n=t.matches||t[d3_vendorSymbol(t,"matchesSelector")];return(C=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(w=function(t,e){return Sizzle(t,e)[0]||null},M=Sizzle,C=Sizzle.matchesSelector),a.selection=function(){return a.select(l.documentElement)};var S=a.selection.prototype=[];S.select=function(t){var e,n,r,i,a=[];t=d3_selection_selector(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return d3_selection(a)},S.selectAll=function(t){var e,n,r=[];t=d3_selection_selectorAll(t);for(var i=-1,a=this.length;++i<a;)for(var o=this[i],l=-1,c=o.length;++l<c;)(n=o[l])&&(r.push(e=s(t.call(n,n.__data__,l,i))),e.parentNode=n);return d3_selection(r)};var A="http://www.w3.org/1999/xhtml",E={svg:"http://www.w3.org/2000/svg",xhtml:A,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:E,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),E.hasOwnProperty(n)?{space:E[n],local:t}:t}},S.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=a.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(d3_selection_attr(e,t[e]));return this}return this.each(d3_selection_attr(t,e))},S.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=d3_selection_classes(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!d3_selection_classedRe(t[i]).test(e))return!1;return!0}for(e in t)this.each(d3_selection_classed(e,t[e]));return this}return this.each(d3_selection_classed(t,e))},S.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e="");for(n in t)this.each(d3_selection_style(n,t[n],e));return this}if(r<2){var i=this.node();return d3_window(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(d3_selection_style(t,e,n))},S.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(d3_selection_property(e,t[e]));return this}return this.each(d3_selection_property(t,e))},S.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},S.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},S.append=function(t){return t=d3_selection_creator(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},S.insert=function(t,e){return t=d3_selection_creator(t),e=d3_selection_selector(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},S.remove=function(){return this.each(d3_selectionRemove)},S.data=function(t,e){function bind(t,n){var r,i,a,c=t.length,u=n.length,d=Math.min(c,u),h=new Array(u),f=new Array(u),p=new Array(c);if(e){var g,v=new d3_Map,m=new Array(c);for(r=-1;++r<c;)(i=t[r])&&(v.has(g=e.call(i,i.__data__,r))?p[r]=i:v.set(g,i),m[r]=g);for(r=-1;++r<u;)(i=v.get(g=e.call(n,a=n[r],r)))?i!==!0&&(h[r]=i,i.__data__=a):f[r]=d3_selection_dataNode(a),v.set(g,!0);for(r=-1;++r<c;)r in m&&v.get(m[r])!==!0&&(p[r]=t[r])}else{for(r=-1;++r<d;)i=t[r],a=n[r],i?(i.__data__=a,h[r]=i):f[r]=d3_selection_dataNode(a);for(;r<u;++r)f[r]=d3_selection_dataNode(n[r]);for(;r<c;++r)p[r]=t[r]}f.update=h,f.parentNode=h.parentNode=p.parentNode=t.parentNode,o.push(f),s.push(h),l.push(p)}var n,r,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(n=this[0]).length);++i<a;)(r=n[i])&&(t[i]=r.__data__);return t}var o=d3_selection_enter([]),s=d3_selection([]),l=d3_selection([]);if("function"==typeof t)for(;++i<a;)bind(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<a;)bind(n=this[i],t);return s.enter=function(){return o},s.exit=function(){return l},s},S.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},S.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=d3_selection_filter(t));for(var a=0,o=this.length;a<o;a++){i.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return d3_selection(i)},S.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},S.sort=function(t){t=d3_selection_sortComparator.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},S.each=function(t){return d3_selection_each(this,function(e,n,r){t.call(e,e.__data__,n,r)})},S.call=function(t){var e=s(arguments);return t.apply(e[0]=this,e),this},S.empty=function(){return!this.node()},S.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},S.size=function(){var t=0;return d3_selection_each(this,function(){++t}),t};var N=[];a.selection.enter=d3_selection_enter,a.selection.enter.prototype=N,N.append=S.append,N.empty=S.empty,N.node=S.node,N.call=S.call,N.size=S.size,N.select=function(t){for(var e,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;)(a=i[c])?(e.push(r[c]=n=t.call(i.parentNode,a.__data__,c,s)),n.__data__=a.__data__):e.push(null)}return d3_selection(o)},N.insert=function(t,e){return arguments.length<2&&(e=d3_selection_enterInsertBefore(this)),S.insert.call(this,t,e)},a.select=function(t){var e;return"string"==typeof t?(e=[w(t,l)],e.parentNode=l.documentElement):(e=[t],e.parentNode=d3_documentElement(t)),d3_selection([e])},a.selectAll=function(t){var e;return"string"==typeof t?(e=s(M(t,l)),e.parentNode=l.documentElement):(e=s(t),e.parentNode=null),d3_selection([e])},S.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e=!1);for(n in t)this.each(d3_selection_on(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(d3_selection_on(t,e,n))};var P=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});l&&P.forEach(function(t){"on"+t in l&&P.remove(t)});var R,L=0;a.mouse=function(t){return d3_mousePoint(t,d3_eventSource())};var T=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;a.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=d3_eventSource().changedTouches),e)for(var r,i=0,a=e.length;i<a;++i)if((r=e[i]).identifier===n)return d3_mousePoint(t,r)},a.behavior.drag=function(){function drag(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function dragstart(n,r,i,o,s){return function(){function moved(){var t,e,n=r(d,p);n&&(t=n[0]-_[0],e=n[1]-_[1],f|=t|e,_=n,h({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:t,dy:e}))}function ended(){r(d,p)&&(v.on(o+g,null).on(s+g,null),m(f),h({type:"dragend"}))}var l,c=this,u=a.event.target.correspondingElement||a.event.target,d=c.parentNode,h=t.of(c,arguments),f=0,p=n(),g=".drag"+(null==p?"":"-"+p),v=a.select(i(u)).on(o+g,moved).on(s+g,ended),m=d3_event_dragSuppress(u),_=r(d,p);e?(l=e.apply(c,arguments),l=[l.x-_[0],l.y-_[1]]):l=[0,0],h({type:"dragstart"})}}var t=d3_eventDispatch(drag,"drag","dragstart","dragend"),e=null,n=dragstart(d3_noop,a.mouse,d3_window,"mousemove","mouseup"),r=dragstart(d3_behavior_dragTouchId,a.touch,d3_identity,"touchmove","touchend");return drag.origin=function(t){return arguments.length?(e=t,drag):e},a.rebind(drag,t,"on")},a.touches=function(t,e){return arguments.length<2&&(e=d3_eventSource().touches),e?s(e).map(function(e){var n=d3_mousePoint(t,e);return n.identifier=e.identifier,n}):[]};var D=1e-6,z=D*D,B=Math.PI,F=2*B,W=F-D,O=B/2,I=B/180,H=180/B,q=Math.SQRT2,V=2,j=4;a.interpolateZoom=function(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],l=e[1],c=e[2],u=s-i,d=l-a,h=u*u+d*d;if(h<z)r=Math.log(c/o)/q,n=function(t){return[i+t*u,a+t*d,o*Math.exp(q*t*r)]};else{var f=Math.sqrt(h),p=(c*c-o*o+j*h)/(2*o*V*f),g=(c*c-o*o-j*h)/(2*c*V*f),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/q,n=function(t){var e=t*r,n=d3_cosh(v),s=o/(V*f)*(n*d3_tanh(q*e+v)-d3_sinh(v));return[i+s*u,a+s*d,o*n/d3_cosh(q*e+v)]}}return n.duration=1e3*r,n},a.behavior.zoom=function(){function zoom(t){t.on(v,mousedowned).on(X+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(y,touchstarted)}function location(t){return[(t[0]-d.x)/d.k,(t[1]-d.y)/d.k]}function point(t){return[t[0]*d.k+d.x,t[1]*d.k+d.y]}function scaleTo(t){d.k=Math.max(f[0],Math.min(f[1],t))}function translateTo(t,e){e=point(e),d.x+=t[0]-e[0],d.y+=t[1]-e[1]}function zoomTo(t,n,r,i){t.__chart__={x:d.x,y:d.y,k:d.k},scaleTo(Math.pow(2,i)),translateTo(e=n,r),t=a.select(t),p>0&&(t=t.transition().duration(p)),t.call(zoom.event)}function rescale(){s&&s.domain(o.range().map(function(t){return(t-d.x)/d.k}).map(o.invert)),u&&u.domain(c.range().map(function(t){return(t-d.y)/d.k}).map(c.invert))}function zoomstarted(t){g++||t({type:"zoomstart"})}function zoomed(t){rescale(),t({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function zoomended(t){--g||(t({type:"zoomend"}),e=null)}function mousedowned(){function moved(){n=1,translateTo(a.mouse(t),i),zoomed(e)}function ended(){r.on(m,null).on(_,null),o(n),zoomended(e)}var t=this,e=x.of(t,arguments),n=0,r=a.select(d3_window(t)).on(m,moved).on(_,ended),i=location(a.mouse(t)),o=d3_event_dragSuppress(t);Oe.call(t),zoomstarted(e)}function touchstarted(){function relocate(){var n=a.touches(e);return t=d.k,n.forEach(function(t){t.identifier in r&&(r[t.identifier]=location(t))}),n}function started(){var t=a.event.target;a.select(t).on(l,moved).on(c,ended),u.push(t);for(var n=a.event.changedTouches,s=0,h=n.length;s<h;++s)r[n[s].identifier]=null;var f=relocate(),p=Date.now();if(1===f.length){if(p-i<500){var g=f[0];zoomTo(e,g,r[g.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),d3_eventPreventDefault()}i=p}else if(f.length>1){var g=f[0],v=f[1],m=g[0]-v[0],_=g[1]-v[1];o=m*m+_*_}}function moved(){var s,l,c,u,d=a.touches(e);Oe.call(e);for(var h=0,f=d.length;h<f;++h,u=null)if(c=d[h],u=r[c.identifier]){if(l)break;s=c,l=u}if(u){var p=(p=c[0]-s[0])*p+(p=c[1]-s[1])*p,g=o&&Math.sqrt(p/o);s=[(s[0]+c[0])/2,(s[1]+c[1])/2],l=[(l[0]+u[0])/2,(l[1]+u[1])/2],scaleTo(g*t)}i=null,translateTo(s,l),zoomed(n)}function ended(){if(a.event.touches.length){for(var t=a.event.changedTouches,e=0,i=t.length;e<i;++e)delete r[t[e].identifier];for(var o in r)return void relocate()}a.selectAll(u).on(s,null),h.on(v,mousedowned).on(y,touchstarted),f(),zoomended(n)}var t,e=this,n=x.of(e,arguments),r={},o=0,s=".zoom-"+a.event.changedTouches[0].identifier,l="touchmove"+s,c="touchend"+s,u=[],h=a.select(e),f=d3_event_dragSuppress(e);started(),zoomstarted(n),h.on(v,null).on(y,started)}function mousewheeled(){var i=x.of(this,arguments);r?clearTimeout(r):(Oe.call(this),t=location(e=n||a.mouse(this)),zoomstarted(i)),r=setTimeout(function(){r=null,zoomended(i)},50),d3_eventPreventDefault(),scaleTo(Math.pow(2,.002*Y())*d.k),translateTo(e,t),zoomed(i)}function dblclicked(){var t=a.mouse(this),e=Math.log(d.k)/Math.LN2;zoomTo(this,t,location(t),a.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var t,e,n,r,i,o,s,c,u,d={x:0,y:0,k:1},h=[960,500],f=G,p=250,g=0,v="mousedown.zoom",m="mousemove.zoom",_="mouseup.zoom",y="touchstart.zoom",x=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend");return X||(X="onwheel"in l?(Y=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(Y=function(){return a.event.wheelDelta},"mousewheel"):(Y=function(){return-a.event.detail},"MozMousePixelScroll")),zoom.event=function(t){t.each(function(){var t=x.of(this,arguments),n=d;Fe?a.select(this).transition().each("start.zoom",function(){d=this.__chart__||{x:0,y:0,k:1},zoomstarted(t)}).tween("zoom:zoom",function(){var r=h[0],i=h[1],o=e?e[0]:r/2,s=e?e[1]:i/2,l=a.interpolateZoom([(o-d.x)/d.k,(s-d.y)/d.k,r/d.k],[(o-n.x)/n.k,(s-n.y)/n.k,r/n.k]);return function(e){var n=l(e),i=r/n[2];this.__chart__=d={x:o-n[0]*i,y:s-n[1]*i,k:i},zoomed(t)}}).each("interrupt.zoom",function(){zoomended(t)}).each("end.zoom",function(){zoomended(t)}):(this.__chart__=d,zoomstarted(t),zoomed(t),zoomended(t))})},zoom.translate=function(t){return arguments.length?(d={x:+t[0],y:+t[1],k:d.k},rescale(),zoom):[d.x,d.y]},zoom.scale=function(t){return arguments.length?(d={x:d.x,y:d.y,k:null},scaleTo(+t),rescale(),zoom):d.k},zoom.scaleExtent=function(t){return arguments.length?(f=null==t?G:[+t[0],+t[1]],zoom):f},zoom.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],zoom):n},zoom.size=function(t){return arguments.length?(h=t&&[+t[0],+t[1]],zoom):h},zoom.duration=function(t){return arguments.length?(p=+t,zoom):p},zoom.x=function(t){return arguments.length?(s=t,o=t.copy(),d={x:0,y:0,k:1},zoom):s},zoom.y=function(t){return arguments.length?(u=t,c=t.copy(),d={x:0,y:0,k:1},zoom):u},a.rebind(zoom,x,"on")};var Y,X,G=[0,1/0];a.color=d3_color,d3_color.prototype.toString=function(){return this.rgb()+""},a.hsl=d3_hsl;var U=d3_hsl.prototype=new d3_color;U.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new d3_hsl(this.h,this.s,this.l/t)},U.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new d3_hsl(this.h,this.s,t*this.l)},U.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},a.hcl=d3_hcl;var Z=d3_hcl.prototype=new d3_color;Z.brighter=function(t){return new d3_hcl(this.h,this.c,Math.min(100,this.l+$*(arguments.length?t:1)))},Z.darker=function(t){return new d3_hcl(this.h,this.c,Math.max(0,this.l-$*(arguments.length?t:1)))},Z.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},a.lab=d3_lab;var $=18,J=.95047,K=1,Q=1.08883,tt=d3_lab.prototype=new d3_color;tt.brighter=function(t){return new d3_lab(Math.min(100,this.l+$*(arguments.length?t:1)),this.a,this.b)},tt.darker=function(t){return new d3_lab(Math.max(0,this.l-$*(arguments.length?t:1)),this.a,this.b)},tt.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},a.rgb=d3_rgb;var et=d3_rgb.prototype=new d3_color;et.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new d3_rgb(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new d3_rgb(i,i,i)},et.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new d3_rgb(t*this.r,t*this.g,t*this.b)},et.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},et.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var nt=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});nt.forEach(function(t,e){nt.set(t,d3_rgbNumber(e))}),a.functor=d3_functor,a.xhr=d3_xhrType(d3_identity),a.dsv=function(t,e){function dsv(t,n,r){arguments.length<3&&(r=n,n=null);var i=d3_xhr(t,e,null==n?response:typedResponse(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?response:typedResponse(t)):n},i}function response(t){return dsv.parse(t.responseText)}function typedResponse(t){return function(e){return dsv.parse(e.responseText,t)}}function formatRow(e){return e.map(formatValue).join(t)}function formatValue(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);return dsv.parse=function(t,e){var n;return dsv.parseRows(t,function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i})},dsv.parseRows=function(t,e){function token(){if(c>=l)return o;if(i)return i=!1,a;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var s=t.charCodeAt(n+1);return 13===s?(i=!0,10===t.charCodeAt(n+2)&&++c):10===s&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<l;){var s=t.charCodeAt(c++),u=1;if(10===s)i=!0;else if(13===s)i=!0,10===t.charCodeAt(c)&&(++c,++u);else if(s!==r)continue;return t.slice(e,c-u)}return t.slice(e)}for(var n,i,a={},o={},s=[],l=t.length,c=0,u=0;(n=token())!==o;){for(var d=[];n!==a&&n!==o;)d.push(n),n=token();e&&null==(d=e(d,u++))||s.push(d)}return s},dsv.format=function(e){if(Array.isArray(e[0]))return dsv.formatRows(e);var n=new d3_Set,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(formatValue).join(t)].concat(e.map(function(e){return r.map(function(t){return formatValue(e[t])}).join(t)})).join("\n")},dsv.formatRows=function(t){return t.map(formatRow).join("\n")},dsv},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("\t","text/tab-separated-values");var rt,it,at,ot,st=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};a.timer=function(){d3_timer.apply(this,arguments)},a.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},a.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var lt=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(d3_formatPrefix);a.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=a.round(t,d3_format_precision(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),lt[8+n/3]};var ct=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ut=a.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=a.round(t,d3_format_precision(t,e))).toFixed(Math.max(0,Math.min(20,d3_format_precision(t*(1+1e-15),e))))}}),dt=a.time={},ht=Date;d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ft.setUTCDate.apply(this._,arguments)},setDay:function(){ft.setUTCDay.apply(this._,arguments)},setFullYear:function(){ft.setUTCFullYear.apply(this._,arguments)},setHours:function(){ft.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ft.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ft.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ft.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ft.setUTCSeconds.apply(this._,arguments)},setTime:function(){ft.setTime.apply(this._,arguments)}};var ft=Date.prototype;dt.year=d3_time_interval(function(t){return t=dt.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),dt.years=dt.year.range,dt.years.utc=dt.year.utc.range,dt.day=d3_time_interval(function(t){var e=new ht(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),dt.days=dt.day.range,dt.days.utc=dt.day.utc.range,dt.dayOfYear=function(t){var e=dt.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=dt[t]=d3_time_interval(function(t){return(t=dt.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=dt.year(t).getDay();return Math.floor((dt.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});dt[t+"s"]=n.range,dt[t+"s"].utc=n.utc.range,dt[t+"OfYear"]=function(t){var n=dt.year(t).getDay();return Math.floor((dt.dayOfYear(t)+(n+e)%7)/7)}}),dt.week=dt.sunday,dt.weeks=dt.sunday.range,dt.weeks.utc=dt.sunday.utc.range,dt.weekOfYear=dt.sundayOfYear;var pt={"-":"",_:" ",0:"0"},gt=/^\s*\d+/,vt=/^%/;a.locale=function(t){return{numberFormat:d3_locale_numberFormat(t),timeFormat:d3_locale_timeFormat(t)}};var mt=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});a.format=mt.numberFormat,a.geo={},d3_adder.prototype={s:0,t:0,add:function(t){d3_adderSum(t,this.t,_t),d3_adderSum(_t.s,this.s,this),this.s?this.t+=_t.t:this.s=_t.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var _t=new d3_adder;a.geo.stream=function(t,e){t&&yt.hasOwnProperty(t.type)?yt[t.type](t,e):d3_geo_streamGeometry(t,e)};var yt={Feature:function(t,e){d3_geo_streamGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)d3_geo_streamGeometry(n[r].geometry,e)}},xt={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){d3_geo_streamLine(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)d3_geo_streamLine(n[r],e,0)},Polygon:function(t,e){d3_geo_streamPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)d3_geo_streamPolygon(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)d3_geo_streamGeometry(n[r],e)}};a.geo.area=function(t){return bt=0,a.geo.stream(t,wt),bt};var bt,kt=new d3_adder,wt={sphere:function(){bt+=4*B},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){kt.reset(),wt.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var t=2*kt;bt+=t<0?4*B+t:t,wt.lineStart=wt.lineEnd=wt.point=d3_noop}};a.geo.bounds=function(){function point(i,a){u.push(d=[t=i,n=i]),a<e&&(e=a),a>r&&(r=a)}function linePoint(a,o){var s=d3_geo_cartesian([a*I,o*I]);if(l){var c=d3_geo_cartesianCross(l,s),u=[c[1],-c[0],0],d=d3_geo_cartesianCross(u,c);d3_geo_cartesianNormalize(d),d=d3_geo_spherical(d);var h=a-i,f=h>0?1:-1,p=d[0]*H*f,g=m(h)>180;if(g^(f*i<p&&p<f*a)){var v=d[1]*H;v>r&&(r=v)}else if(p=(p+360)%360-180,g^(f*i<p&&p<f*a)){var v=-d[1]*H;v<e&&(e=v)}else o<e&&(e=o),o>r&&(r=o);g?a<i?angle(t,a)>angle(t,n)&&(n=a):angle(a,n)>angle(t,n)&&(t=a):n>=t?(a<t&&(t=a),a>n&&(n=a)):a>i?angle(t,a)>angle(t,n)&&(n=a):angle(a,n)>angle(t,n)&&(t=a)}else point(a,o);l=s,i=a}function lineStart(){h.point=linePoint}function lineEnd(){d[0]=t,d[1]=n,h.point=point,l=null}function ringPoint(t,e){if(l){var n=t-i;c+=m(n)>180?n+(n>0?360:-360):n}else o=t,s=e;wt.point(t,e),linePoint(t,e)}function ringStart(){wt.lineStart()}function ringEnd(){ringPoint(o,s),wt.lineEnd(),m(c)>D&&(t=-(n=180)),d[0]=t,d[1]=n,l=null}function angle(t,e){return(e-=t)<0?e+360:e}function compareRanges(t,e){return t[0]-e[0]}function withinRange(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var t,e,n,r,i,o,s,l,c,u,d,h={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){h.point=ringPoint,h.lineStart=ringStart,h.lineEnd=ringEnd,c=0,wt.polygonStart()},polygonEnd:function(){wt.polygonEnd(),h.point=point,h.lineStart=lineStart,h.lineEnd=lineEnd,kt<0?(t=-(n=180),e=-(r=90)):c>D?r=90:c<-D&&(e=-90),d[0]=t,d[1]=n}};return function(i){r=n=-(t=e=1/0),u=[],a.geo.stream(i,h);var o=u.length;if(o){u.sort(compareRanges);for(var s,l=1,c=u[0],f=[c];l<o;++l)s=u[l],withinRange(s[0],c)||withinRange(s[1],c)?(angle(c[0],s[1])>angle(c[0],c[1])&&(c[1]=s[1]),angle(s[0],c[1])>angle(c[0],c[1])&&(c[0]=s[0])):f.push(c=s);for(var p,s,g=-(1/0),o=f.length-1,l=0,c=f[o];l<=o;c=s,++l)s=f[l],(p=angle(c[1],s[0]))>g&&(g=p,t=s[0],n=c[1])}return u=d=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),a.geo.centroid=function(t){Mt=Ct=St=At=Et=Nt=Pt=Rt=Lt=Tt=Dt=0,a.geo.stream(t,zt);var e=Lt,n=Tt,r=Dt,i=e*e+n*n+r*r;return i<z&&(e=Nt,n=Pt,r=Rt,Ct<D&&(e=St,n=At,r=Et),i=e*e+n*n+r*r,i<z)?[NaN,NaN]:[Math.atan2(n,e)*H,d3_asin(r/Math.sqrt(i))*H]};var Mt,Ct,St,At,Et,Nt,Pt,Rt,Lt,Tt,Dt,zt={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){zt.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){zt.lineStart=d3_geo_centroidLineStart}},Bt=d3_geo_clip(d3_true,d3_geo_clipAntimeridianLine,d3_geo_clipAntimeridianInterpolate,[-B,-B/2]),Ft=1e9;a.geo.clipExtent=function(){var t,e,n,r,i,a,o={stream:function(t){return i&&(i.valid=!1),i=a(t),i.valid=!0,i},extent:function(s){return arguments.length?(a=d3_geo_clipExtent(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[t,e],[n,r]]}};return o.extent([[0,0],[960,500]])},(a.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},a.geo.albersUsa=function(){function albersUsa(i){var a=i[0],o=i[1];return t=null,e(a,o),t||(n(a,o),t)||r(a,o),t}var t,e,n,r,i=a.geo.albers(),o=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return albersUsa.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,a=(t[1]-n[1])/e;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?o:a>=.166&&a<.234&&r>=-.214&&r<-.115?s:i).invert(t)},albersUsa.stream=function(t){var e=i.stream(t),n=o.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},albersUsa.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),s.precision(t),albersUsa):i.precision()},albersUsa.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),s.scale(t),albersUsa.translate(i.translate())):i.scale()},albersUsa.translate=function(t){if(!arguments.length)return i.translate();var a=i.scale(),c=+t[0],u=+t[1];return e=i.translate(t).clipExtent([[c-.455*a,u-.238*a],[c+.455*a,u+.238*a]]).stream(l).point,n=o.translate([c-.307*a,u+.201*a]).clipExtent([[c-.425*a+D,u+.12*a+D],[c-.214*a-D,u+.234*a-D]]).stream(l).point,r=s.translate([c-.205*a,u+.212*a]).clipExtent([[c-.214*a+D,u+.166*a+D],[c-.115*a-D,u+.234*a-D]]).stream(l).point,albersUsa},albersUsa.scale(1070)};var Wt,Ot,It,Ht,qt,Vt,jt={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){Ot=0,jt.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){jt.lineStart=jt.lineEnd=jt.point=d3_noop,Wt+=m(Ot/2)}},Yt={point:d3_geo_pathBoundsPoint,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},Xt={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){Xt.lineStart=d3_geo_pathCentroidRingStart;
},polygonEnd:function(){Xt.point=d3_geo_pathCentroidPoint,Xt.lineStart=d3_geo_pathCentroidLineStart,Xt.lineEnd=d3_geo_pathCentroidLineEnd}};a.geo.path=function(){function path(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),i&&i.valid||(i=n(r)),a.geo.stream(t,i)),r.result()}function reset(){return i=null,path}var t,e,n,r,i,o=4.5;return path.area=function(t){return Wt=0,a.geo.stream(t,n(jt)),Wt},path.centroid=function(t){return St=At=Et=Nt=Pt=Rt=Lt=Tt=Dt=0,a.geo.stream(t,n(Xt)),Dt?[Lt/Dt,Tt/Dt]:Rt?[Nt/Rt,Pt/Rt]:Et?[St/Et,At/Et]:[NaN,NaN]},path.bounds=function(t){return qt=Vt=-(It=Ht=1/0),a.geo.stream(t,n(Yt)),[[It,Ht],[qt,Vt]]},path.projection=function(e){return arguments.length?(n=(t=e)?e.stream||d3_geo_pathProjectStream(e):d3_identity,reset()):t},path.context=function(t){return arguments.length?(r=null==(e=t)?new d3_geo_pathBuffer:new d3_geo_pathContext(t),"function"!=typeof o&&r.pointRadius(o),reset()):e},path.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),path):o},path.projection(a.geo.albersUsa()).context(null)},a.geo.transform=function(t){return{stream:function(e){var n=new d3_geo_transform(e);for(var r in t)n[r]=t[r];return n}}},d3_geo_transform.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},a.geo.projection=d3_geo_projection,a.geo.projectionMutator=d3_geo_projectionMutator,(a.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,a.geo.rotation=function(t){function forward(e){return e=t(e[0]*I,e[1]*I),e[0]*=H,e[1]*=H,e}return t=d3_geo_rotation(t[0]%360*I,t[1]*I,t.length>2?t[2]*I:0),forward.invert=function(e){return e=t.invert(e[0]*I,e[1]*I),e[0]*=H,e[1]*=H,e},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,a.geo.circle=function(){function circle(){var t="function"==typeof n?n.apply(this,arguments):n,r=d3_geo_rotation(-t[0]*I,-t[1]*I,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=H,t[1]*=H}}),{type:"Polygon",coordinates:[i]}}var t,e,n=[0,0],r=6;return circle.origin=function(t){return arguments.length?(n=t,circle):n},circle.angle=function(n){return arguments.length?(e=d3_geo_circleInterpolate((t=+n)*I,r*I),circle):t},circle.precision=function(n){return arguments.length?(e=d3_geo_circleInterpolate(t*I,(r=+n)*I),circle):r},circle.angle(90)},a.geo.distance=function(t,e){var n,r=(e[0]-t[0])*I,i=t[1]*I,a=e[1]*I,o=Math.sin(r),s=Math.cos(r),l=Math.sin(i),c=Math.cos(i),u=Math.sin(a),d=Math.cos(a);return Math.atan2(Math.sqrt((n=d*o)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},a.geo.graticule=function(){function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return a.range(Math.ceil(r/g)*g,n,g).map(d).concat(a.range(Math.ceil(l/v)*v,s,v).map(h)).concat(a.range(Math.ceil(e/f)*f,t,f).filter(function(t){return m(t%g)>D}).map(c)).concat(a.range(Math.ceil(o/p)*p,i,p).filter(function(t){return m(t%v)>D}).map(u))}var t,e,n,r,i,o,s,l,c,u,d,h,f=10,p=f,g=90,v=360,_=2.5;return graticule.lines=function(){return lines().map(function(t){return{type:"LineString",coordinates:t}})},graticule.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(h(s).slice(1),d(n).reverse().slice(1),h(l).reverse().slice(1))]}},graticule.extent=function(t){return arguments.length?graticule.majorExtent(t).minorExtent(t):graticule.minorExtent()},graticule.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],l=+t[0][1],s=+t[1][1],r>n&&(t=r,r=n,n=t),l>s&&(t=l,l=s,s=t),graticule.precision(_)):[[r,l],[n,s]]},graticule.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),graticule.precision(_)):[[e,o],[t,i]]},graticule.step=function(t){return arguments.length?graticule.majorStep(t).minorStep(t):graticule.minorStep()},graticule.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],graticule):[g,v]},graticule.minorStep=function(t){return arguments.length?(f=+t[0],p=+t[1],graticule):[f,p]},graticule.precision=function(a){return arguments.length?(_=+a,c=d3_geo_graticuleX(o,i,90),u=d3_geo_graticuleY(e,t,_),d=d3_geo_graticuleX(l,s,90),h=d3_geo_graticuleY(r,n,_),graticule):_},graticule.majorExtent([[-180,-90+D],[180,90-D]]).minorExtent([[-180,-80-D],[180,80+D]])},a.geo.greatArc=function(){function greatArc(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}var t,e,n=d3_source,r=d3_target;return greatArc.distance=function(){return a.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},greatArc.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,greatArc):n},greatArc.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,greatArc):r},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},a.geo.interpolate=function(t,e){return d3_geo_interpolate(t[0]*I,t[1]*I,e[0]*I,e[1]*I)},a.geo.length=function(t){return Gt=0,a.geo.stream(t,Ut),Gt};var Gt,Ut={sphere:d3_noop,point:d3_noop,lineStart:d3_geo_lengthLineStart,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},Zt=d3_geo_azimuthal(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(a.geo.azimuthalEqualArea=function(){return d3_geo_projection(Zt)}).raw=Zt;var $t=d3_geo_azimuthal(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},d3_identity);(a.geo.azimuthalEquidistant=function(){return d3_geo_projection($t)}).raw=$t,(a.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,(a.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var Jt=d3_geo_azimuthal(function(t){return 1/t},Math.atan);(a.geo.gnomonic=function(){return d3_geo_projection(Jt)}).raw=Jt,d3_geo_mercator.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-O]},(a.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var Kt=d3_geo_azimuthal(function(){return 1},Math.asin);(a.geo.orthographic=function(){return d3_geo_projection(Kt)}).raw=Kt;var Qt=d3_geo_azimuthal(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(a.geo.stereographic=function(){return d3_geo_projection(Qt)}).raw=Qt,d3_geo_transverseMercator.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-O]},(a.geo.transverseMercator=function(){var t=d3_geo_mercatorProjection(d3_geo_transverseMercator),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=d3_geo_transverseMercator,a.geom={},a.geom.hull=function(t){function hull(t){if(t.length<3)return[];var r,i=d3_functor(e),a=d3_functor(n),o=t.length,s=[],l=[];for(r=0;r<o;r++)s.push([+i.call(this,t[r],r),+a.call(this,t[r],r),r]);for(s.sort(d3_geom_hullOrder),r=0;r<o;r++)l.push([s[r][0],-s[r][1]]);var c=d3_geom_hullUpper(s),u=d3_geom_hullUpper(l),d=u[0]===c[0],h=u[u.length-1]===c[c.length-1],f=[];for(r=c.length-1;r>=0;--r)f.push(t[s[c[r]][2]]);for(r=+d;r<u.length-h;++r)f.push(t[s[u[r]][2]]);return f}var e=d3_geom_pointX,n=d3_geom_pointY;return arguments.length?hull(t):(hull.x=function(t){return arguments.length?(e=t,hull):e},hull.y=function(t){return arguments.length?(n=t,hull):n},hull)},a.geom.polygon=function(t){return k(t,te),t};var te=a.geom.polygon.prototype=[];te.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},te.centroid=function(t){var e,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},te.clip=function(t){for(var e,n,r,i,a,o,s=d3_geom_polygonClosed(t),l=-1,c=this.length-d3_geom_polygonClosed(this),u=this[c-1];++l<c;){for(e=t.slice(),t.length=0,i=this[l],a=e[(r=e.length-s)-1],n=-1;++n<r;)o=e[n],d3_geom_polygonInside(o,u,i)?(d3_geom_polygonInside(a,u,i)||t.push(d3_geom_polygonIntersect(a,o,u,i)),t.push(o)):d3_geom_polygonInside(a,u,i)&&t.push(d3_geom_polygonIntersect(a,o,u,i)),a=o;s&&t.push(t[0]),u=i}return t};var ee,ne,re,ie,ae,oe=[],se=[];d3_geom_voronoiCell.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(d3_geom_voronoiHalfEdgeOrder),e.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=d3_geom_voronoiRedBlackFirst(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(d3_geom_voronoiRedBlackRotateLeft(this,n),t=n,n=t.U),n.C=!1,r.C=!0,d3_geom_voronoiRedBlackRotateRight(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(d3_geom_voronoiRedBlackRotateRight(this,n),t=n,n=t.U),n.C=!1,r.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?d3_geom_voronoiRedBlackFirst(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,d3_geom_voronoiRedBlackRotateRight(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateRight(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},a.geom.voronoi=function(t){function voronoi(t){var e=new Array(t.length),n=a[0][0],r=a[0][1],i=a[1][0],o=a[1][1];return d3_geom_voronoi(sites(t),a).cells.forEach(function(a,s){var l=a.edges,c=a.site,u=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=n&&c.x<=i&&c.y>=r&&c.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[];u.point=t[s]}),e}function sites(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/D)*D,y:Math.round(i(t,e)/D)*D,i:e}})}var e=d3_geom_pointX,n=d3_geom_pointY,r=e,i=n,a=le;return t?voronoi(t):(voronoi.links=function(t){return d3_geom_voronoi(sites(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},voronoi.triangles=function(t){var e=[];return d3_geom_voronoi(sites(t)).cells.forEach(function(n,r){for(var i,a,o=n.site,s=n.edges.sort(d3_geom_voronoiHalfEdgeOrder),l=-1,c=s.length,u=s[c-1].edge,d=u.l===o?u.r:u.l;++l<c;)i=u,a=d,u=s[l].edge,d=u.l===o?u.r:u.l,r<a.i&&r<d.i&&d3_geom_voronoiTriangleArea(o,a,d)<0&&e.push([t[r],t[a.i],t[d.i]])}),e},voronoi.x=function(t){return arguments.length?(r=d3_functor(e=t),voronoi):e},voronoi.y=function(t){return arguments.length?(i=d3_functor(n=t),voronoi):n},voronoi.clipExtent=function(t){return arguments.length?(a=null==t?le:t,voronoi):a===le?null:a},voronoi.size=function(t){return arguments.length?voronoi.clipExtent(t&&[[0,0],t]):a===le?null:a&&a[1]},voronoi)};var le=[[-1e6,-1e6],[1e6,1e6]];a.geom.delaunay=function(t){return a.geom.voronoi().triangles(t)},a.geom.quadtree=function(t,e,n,r,i){function quadtree(t){function insert(t,e,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(m(l-n)+m(c-r)<.01)insertChild(t,e,n,r,i,a,o,s);else{var u=t.point;t.x=t.y=t.point=null,insertChild(t,u,l,c,i,a,o,s),insertChild(t,e,n,r,i,a,o,s)}else t.x=n,t.y=r,t.point=e}else insertChild(t,e,n,r,i,a,o,s)}function insertChild(t,e,n,r,i,a,o,s){var l=.5*(i+o),c=.5*(a+s),u=n>=l,d=r>=c,h=d<<1|u;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=d3_geom_quadtreeNode()),u?i=l:o=l,d?a=c:s=c,insert(t,e,n,r,i,a,o,s)}var l,c,u,d,h,f,p,g,v,_=d3_functor(o),y=d3_functor(s);if(null!=e)f=e,p=n,g=r,v=i;else if(g=v=-(f=p=1/0),c=[],u=[],h=t.length,a)for(d=0;d<h;++d)l=t[d],l.x<f&&(f=l.x),l.y<p&&(p=l.y),l.x>g&&(g=l.x),l.y>v&&(v=l.y),c.push(l.x),u.push(l.y);else for(d=0;d<h;++d){var x=+_(l=t[d],d),b=+y(l,d);x<f&&(f=x),b<p&&(p=b),x>g&&(g=x),b>v&&(v=b),c.push(x),u.push(b)}var k=g-f,w=v-p;k>w?v=p+k:g=f+w;var M=d3_geom_quadtreeNode();if(M.add=function(t){insert(M,t,+_(t,++d),+y(t,d),f,p,g,v)},M.visit=function(t){d3_geom_quadtreeVisit(t,M,f,p,g,v)},M.find=function(t){return d3_geom_quadtreeFind(M,t[0],t[1],f,p,g,v)},d=-1,null==e){for(;++d<h;)insert(M,t[d],c[d],u[d],f,p,g,v);--d}else t.forEach(M.add);return c=u=t=l=null,M}var a,o=d3_geom_pointX,s=d3_geom_pointY;return(a=arguments.length)?(o=d3_geom_quadtreeCompatX,s=d3_geom_quadtreeCompatY,3===a&&(i=n,r=e,n=e=0),quadtree(t)):(quadtree.x=function(t){return arguments.length?(o=t,quadtree):o},quadtree.y=function(t){return arguments.length?(s=t,quadtree):s},quadtree.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),quadtree):null==e?null:[[e,n],[r,i]]},quadtree.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),quadtree):null==e?null:[r-e,i-n]},quadtree)},a.interpolateRgb=d3_interpolateRgb,a.interpolateObject=d3_interpolateObject,a.interpolateNumber=d3_interpolateNumber,a.interpolateString=d3_interpolateString;var ce=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ue=new RegExp(ce.source,"g");a.interpolate=d3_interpolate,a.interpolators=[function(t,e){var n=typeof e;return("string"===n?nt.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?d3_interpolateRgb:d3_interpolateString:e instanceof d3_color?d3_interpolateRgb:Array.isArray(e)?d3_interpolateArray:"object"===n&&isNaN(e)?d3_interpolateObject:d3_interpolateNumber)(t,e)}],a.interpolateArray=d3_interpolateArray;var de=function(){return d3_identity},he=a.map({linear:de,poly:d3_ease_poly,quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:d3_ease_elastic,back:d3_ease_back,bounce:function(){return d3_ease_bounce}}),fe=a.map({"in":d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(t){return d3_ease_reflect(d3_ease_reverse(t))}});a.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=he.get(n)||de,r=fe.get(r)||d3_identity,d3_ease_clamp(r(n.apply(null,o.call(arguments,1))))},a.interpolateHcl=d3_interpolateHcl,a.interpolateHsl=d3_interpolateHsl,a.interpolateLab=d3_interpolateLab,a.interpolateRound=d3_interpolateRound,a.transform=function(t){var e=l.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new d3_transform(n?n.matrix:pe)})(t)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var pe={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=d3_interpolateTransform,a.layout={},a.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(d3_layout_bundlePath(t[n]));return e}},a.layout.chord=function(){function relayout(){var l,u,d,h,f,p={},g=[],v=a.range(r),m=[];for(t=[],e=[],l=0,h=-1;++h<r;){for(u=0,f=-1;++f<r;)u+=n[h][f];g.push(u),m.push(a.range(r)),l+=u}for(i&&v.sort(function(t,e){return i(g[t],g[e])}),o&&m.forEach(function(t,e){t.sort(function(t,r){return o(n[e][t],n[e][r])})}),l=(F-c*r)/l,u=0,h=-1;++h<r;){for(d=u,f=-1;++f<r;){var _=v[h],y=m[_][f],x=n[_][y],b=u,k=u+=x*l;p[_+"-"+y]={index:_,subindex:y,startAngle:b,endAngle:k,value:x}}e[_]={index:_,startAngle:d,endAngle:u,value:g[_]},u+=c}for(h=-1;++h<r;)for(f=h-1;++f<r;){var w=p[h+"-"+f],M=p[f+"-"+h];(w.value||M.value)&&t.push(w.value<M.value?{source:M,target:w}:{source:w,target:M})}s&&resort()}function resort(){t.sort(function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var t,e,n,r,i,o,s,l={},c=0;return l.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,l):n},l.padding=function(n){return arguments.length?(c=n,t=e=null,l):c},l.sortGroups=function(n){return arguments.length?(i=n,t=e=null,l):i},l.sortSubgroups=function(e){return arguments.length?(o=e,t=null,l):o},l.sortChords=function(e){return arguments.length?(s=e,t&&resort(),l):s},l.chords=function(){return t||relayout(),t},l.groups=function(){return e||relayout(),e},l},a.layout.force=function(){function repulse(t){return function(e,n,r,i){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=i-n,l=a*a+o*o;if(s*s/v<l){if(l<p){var c=e.charge/l;t.px-=a*c,t.py-=o*c}return!0}if(e.point&&l&&l<p){var c=e.pointCharge/l;t.px-=a*c,t.py-=o*c}}return!e.charge}}function dragmove(t){t.px=a.event.x,t.py=a.event.y,s.resume()}var t,e,n,r,i,o,s={},l=a.dispatch("start","tick","end"),c=[1,1],u=.9,d=ge,h=ve,f=-30,p=me,g=.1,v=.64,m=[],_=[];return s.tick=function(){if((n*=.99)<.005)return t=null,l.end({type:"end",alpha:n=0}),!0;var e,s,d,h,p,v,y,x,b,k=m.length,w=_.length;for(s=0;s<w;++s)d=_[s],h=d.source,p=d.target,x=p.x-h.x,b=p.y-h.y,(v=x*x+b*b)&&(v=n*i[s]*((v=Math.sqrt(v))-r[s])/v,x*=v,b*=v,p.x-=x*(y=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=b*y,h.x+=x*(y=1-y),h.y+=b*y);if((y=n*g)&&(x=c[0]/2,b=c[1]/2,s=-1,y))for(;++s<k;)d=m[s],d.x+=(x-d.x)*y,d.y+=(b-d.y)*y;if(f)for(d3_layout_forceAccumulate(e=a.geom.quadtree(m),n,o),s=-1;++s<k;)(d=m[s]).fixed||e.visit(repulse(d));for(s=-1;++s<k;)d=m[s],d.fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*u,d.y-=(d.py-(d.py=d.y))*u);l.tick({type:"tick",alpha:n})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(_=t,s):_},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.friction=function(t){return arguments.length?(u=+t,s):u},s.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(v=t*t,s):Math.sqrt(v)},s.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:n=0})):e>0&&(l.start({type:"start",alpha:n=e}),t=d3_timer(s.tick)),s):n},s.start=function(){function position(n,r){if(!e){for(e=new Array(a),c=0;c<a;++c)e[c]=[];for(c=0;c<l;++c){var i=_[c];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var o,s=e[t],c=-1,u=s.length;++c<u;)if(!isNaN(o=s[c][n]))return o;return Math.random()*r}var t,e,n,a=m.length,l=_.length,u=c[0],p=c[1];for(t=0;t<a;++t)(n=m[t]).index=t,n.weight=0;for(t=0;t<l;++t)n=_[t],"number"==typeof n.source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<a;++t)n=m[t],isNaN(n.x)&&(n.x=position("x",u)),isNaN(n.y)&&(n.y=position("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof d)for(t=0;t<l;++t)r[t]=+d.call(this,_[t],t);else for(t=0;t<l;++t)r[t]=d;if(i=[],"function"==typeof h)for(t=0;t<l;++t)i[t]=+h.call(this,_[t],t);else for(t=0;t<l;++t)i[t]=h;if(o=[],"function"==typeof f)for(t=0;t<a;++t)o[t]=+f.call(this,m[t],t);else for(t=0;t<a;++t)o[t]=f;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return e||(e=a.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend)),arguments.length?void this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(e):e},a.rebind(s,l,"on")};var ge=20,ve=1,me=1/0;a.layout.hierarchy=function(){function hierarchy(r){var i,a=[r],o=[];for(r.depth=0;null!=(i=a.pop());)if(o.push(i),(l=e.call(hierarchy,i,i.depth))&&(s=l.length)){for(var s,l,c;--s>=0;)a.push(c=l[s]),c.parent=i,c.depth=i.depth+1;n&&(i.value=0),i.children=l}else n&&(i.value=+n.call(hierarchy,i,i.depth)||0),delete i.children;return d3_layout_hierarchyVisitAfter(r,function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)}),o}var t=d3_layout_hierarchySort,e=d3_layout_hierarchyChildren,n=d3_layout_hierarchyValue;return hierarchy.sort=function(e){return arguments.length?(t=e,hierarchy):t},hierarchy.children=function(t){return arguments.length?(e=t,hierarchy):e},hierarchy.value=function(t){return arguments.length?(n=t,hierarchy):n},hierarchy.revalue=function(t){return n&&(d3_layout_hierarchyVisitBefore(t,function(t){t.children&&(t.value=0)}),d3_layout_hierarchyVisitAfter(t,function(t){var e;t.children||(t.value=+n.call(hierarchy,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},hierarchy},a.layout.partition=function(){function position(t,e,n,r){var i=t.children;if(t.x=e,t.y=t.depth*r,t.dx=n,t.dy=r,i&&(a=i.length)){var a,o,s,l=-1;for(n=t.value?n/t.value:0;++l<a;)position(o=i[l],e,s=o.value*n,r),e+=s}}function depth(t){var e=t.children,n=0;if(e&&(r=e.length))for(var r,i=-1;++i<r;)n=Math.max(n,depth(e[i]));return 1+n}function partition(n,r){var i=t.call(this,n,r);return position(i[0],0,e[0],e[1]/depth(i[0])),i}var t=a.layout.hierarchy(),e=[1,1];return partition.size=function(t){return arguments.length?(e=t,partition):e},d3_layout_hierarchyRebind(partition,t)},a.layout.pie=function(){function pie(o){var s,l=o.length,c=o.map(function(e,n){return+t.call(pie,e,n)}),u=+("function"==typeof n?n.apply(this,arguments):n),d=("function"==typeof r?r.apply(this,arguments):r)-u,h=Math.min(Math.abs(d)/l,+("function"==typeof i?i.apply(this,arguments):i)),f=h*(d<0?-1:1),p=a.sum(c),g=p?(d-l*f)/p:0,v=a.range(l),m=[];return null!=e&&v.sort(e===_e?function(t,e){return c[e]-c[t]}:function(t,n){return e(o[t],o[n])}),v.forEach(function(t){m[t]={data:o[t],value:s=c[t],startAngle:u,endAngle:u+=s*g+f,padAngle:h}}),m}var t=Number,e=_e,n=0,r=F,i=0;return pie.value=function(e){return arguments.length?(t=e,pie):t},pie.sort=function(t){return arguments.length?(e=t,pie):e},pie.startAngle=function(t){return arguments.length?(n=t,pie):n},pie.endAngle=function(t){return arguments.length?(r=t,pie):r},pie.padAngle=function(t){return arguments.length?(i=t,pie):i},pie};var _e={};a.layout.stack=function(){function stack(s,l){if(!(h=s.length))return s;var c=s.map(function(e,n){return t.call(stack,e,n)}),u=c.map(function(t){return t.map(function(t,e){return[i.call(stack,t,e),o.call(stack,t,e)]})}),d=e.call(stack,u,l);c=a.permute(c,d),u=a.permute(u,d);var h,f,p,g,v=n.call(stack,u,l),m=c[0].length;for(p=0;p<m;++p)for(r.call(stack,c[0][p],g=v[p],u[0][p][1]),f=1;f<h;++f)r.call(stack,c[f][p],g+=u[f-1][p][1],u[f][p][1]);return s}var t=d3_identity,e=d3_layout_stackOrderDefault,n=d3_layout_stackOffsetZero,r=d3_layout_stackOut,i=d3_layout_stackX,o=d3_layout_stackY;return stack.values=function(e){return arguments.length?(t=e,stack):t},stack.order=function(t){return arguments.length?(e="function"==typeof t?t:ye.get(t)||d3_layout_stackOrderDefault,stack):e},stack.offset=function(t){return arguments.length?(n="function"==typeof t?t:xe.get(t)||d3_layout_stackOffsetZero,stack):n},stack.x=function(t){return arguments.length?(i=t,stack):i},stack.y=function(t){return arguments.length?(o=t,stack):o},stack.out=function(t){return arguments.length?(r=t,stack):r},stack};var ye=a.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(d3_layout_stackMaxIndex),o=t.map(d3_layout_stackReduceSum),s=a.range(r).sort(function(t,e){return i[t]-i[e]}),l=0,c=0,u=[],d=[];for(e=0;e<r;++e)n=s[e],l<c?(l+=o[n],u.push(n)):(c+=o[n],d.push(n));return d.reverse().concat(u)},reverse:function(t){return a.range(t.length).reverse()},"default":d3_layout_stackOrderDefault}),xe=a.map({silhouette:function(t){var e,n,r,i=t.length,a=t[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),o.push(r)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,r,i,a,o,s,l,c,u=t.length,d=t[0],h=d.length,f=[];for(f[0]=l=c=0,n=1;n<h;++n){for(e=0,i=0;e<u;++e)i+=t[e][n][1];for(e=0,a=0,s=d[n][0]-d[n-1][0];e<u;++e){for(r=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)o+=(t[r][n][1]-t[r][n-1][1])/s;a+=o*t[e][n][1]}f[n]=l-=i?a/i*s:0,l<c&&(c=l)}for(n=0;n<h;++n)f[n]-=c;return f},expand:function(t){var e,n,r,i=t.length,a=t[0].length,o=1/i,s=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:d3_layout_stackOffsetZero});a.layout.histogram=function(){function histogram(i,o){for(var s,l,c=[],u=i.map(e,this),d=n.call(this,u,o),h=r.call(this,d,u,o),o=-1,f=u.length,p=h.length-1,g=t?1:1/f;++o<p;)s=c[o]=[],s.dx=h[o+1]-(s.x=h[o]),s.y=0;if(p>0)for(o=-1;++o<f;)l=u[o],l>=d[0]&&l<=d[1]&&(s=c[a.bisect(h,l,1,p)-1],s.y+=g,s.push(i[o]));return c}var t=!0,e=Number,n=d3_layout_histogramRange,r=d3_layout_histogramBinSturges;return histogram.value=function(t){return arguments.length?(e=t,histogram):e},histogram.range=function(t){return arguments.length?(n=d3_functor(t),histogram):n},histogram.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return d3_layout_histogramBinFixed(e,t)}:d3_functor(t),histogram):r},histogram.frequency=function(e){return arguments.length?(t=!!e,histogram):t},histogram},a.layout.pack=function(){function pack(i,a){var o=e.call(this,i,a),s=o[0],l=r[0],c=r[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,d3_layout_hierarchyVisitAfter(s,function(t){t.r=+u(t.value)}),d3_layout_hierarchyVisitAfter(s,d3_layout_packSiblings),n){var d=n*(t?1:Math.max(2*s.r/l,2*s.r/c))/2;d3_layout_hierarchyVisitAfter(s,function(t){t.r+=d}),d3_layout_hierarchyVisitAfter(s,d3_layout_packSiblings),d3_layout_hierarchyVisitAfter(s,function(t){t.r-=d})}return d3_layout_packTransform(s,l/2,c/2,t?1:1/Math.max(2*s.r/l,2*s.r/c)),o}var t,e=a.layout.hierarchy().sort(d3_layout_packSort),n=0,r=[1,1];return pack.size=function(t){return arguments.length?(r=t,pack):r},pack.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,pack):t},pack.padding=function(t){return arguments.length?(n=+t,pack):n},d3_layout_hierarchyRebind(pack,e)},a.layout.tree=function(){function tree(i,a){var o=t.call(this,i,a),s=o[0],l=wrapTree(s);if(d3_layout_hierarchyVisitAfter(l,firstWalk),l.parent.m=-l.z,d3_layout_hierarchyVisitBefore(l,secondWalk),r)d3_layout_hierarchyVisitBefore(s,sizeNode);else{var c=s,u=s,d=s;d3_layout_hierarchyVisitBefore(s,function(t){t.x<c.x&&(c=t),t.x>u.x&&(u=t),t.depth>d.depth&&(d=t)});var h=e(c,u)/2-c.x,f=n[0]/(u.x+e(u,c)/2+h),p=n[1]/(d.depth||1);d3_layout_hierarchyVisitBefore(s,function(t){t.x=(t.x+h)*f,t.y=t.depth*p})}return o}function wrapTree(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,a=e.children,o=0,s=a.length;o<s;++o)r.push((a[o]=i={_:a[o],parent:e,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function firstWalk(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){d3_layout_treeShift(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=apportion(t,i,t.parent.A||r[0])}function secondWalk(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function apportion(t,n,r){if(n){for(var i,a=t,o=t,s=n,l=a.parent.children[0],c=a.m,u=o.m,d=s.m,h=l.m;s=d3_layout_treeRight(s),a=d3_layout_treeLeft(a),s&&a;)l=d3_layout_treeLeft(l),o=d3_layout_treeRight(o),o.a=t,i=s.z+d-a.z-c+e(s._,a._),i>0&&(d3_layout_treeMove(d3_layout_treeAncestor(s,t,r),t,i),c+=i,u+=i),d+=s.m,c+=a.m,h+=l.m,u+=o.m;s&&!d3_layout_treeRight(o)&&(o.t=s,o.m+=d-u),a&&!d3_layout_treeLeft(l)&&(l.t=a,l.m+=c-h,r=t)}return r}function sizeNode(t){t.x*=n[0],t.y=t.depth*n[1]}var t=a.layout.hierarchy().sort(null).value(null),e=d3_layout_treeSeparation,n=[1,1],r=null;return tree.separation=function(t){return arguments.length?(e=t,tree):e},tree.size=function(t){return arguments.length?(r=null==(n=t)?sizeNode:null,tree):r?null:n},tree.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:sizeNode,tree):r?n:null},d3_layout_hierarchyRebind(tree,t)},a.layout.cluster=function(){function cluster(i,a){var o,s=t.call(this,i,a),l=s[0],c=0;d3_layout_hierarchyVisitAfter(l,function(t){var n=t.children;n&&n.length?(t.x=d3_layout_clusterX(n),t.y=d3_layout_clusterY(n)):(t.x=o?c+=e(t,o):0,t.y=0,o=t)});var u=d3_layout_clusterLeft(l),d=d3_layout_clusterRight(l),h=u.x-e(u,d)/2,f=d.x+e(d,u)/2;return d3_layout_hierarchyVisitAfter(l,r?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-h)/(f-h)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),s}var t=a.layout.hierarchy().sort(null).value(null),e=d3_layout_treeSeparation,n=[1,1],r=!1;return cluster.separation=function(t){return arguments.length?(e=t,cluster):e},cluster.size=function(t){return arguments.length?(r=null==(n=t),cluster):r?null:n},cluster.nodeSize=function(t){return arguments.length?(r=null!=(n=t),cluster):r?n:null},d3_layout_hierarchyRebind(cluster,t)},a.layout.treemap=function(){function scale(t,e){for(var n,r,i=-1,a=t.length;++i<a;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function squarify(t){var e=t.children;if(e&&e.length){var n,r,i,a=o(t),s=[],c=e.slice(),u=1/0,d="slice"===l?a.dx:"dice"===l?a.dy:"slice-dice"===l?1&t.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(scale(c,a.dx*a.dy/t.value),s.area=0;(i=c.length)>0;)s.push(n=c[i-1]),s.area+=n.area,"squarify"!==l||(r=worst(s,d))<=u?(c.pop(),u=r):(s.area-=s.pop().area,position(s,d,a,!1),d=Math.min(a.dx,a.dy),s.length=s.area=0,u=1/0);s.length&&(position(s,d,a,!0),s.length=s.area=0),e.forEach(squarify)}}function stickify(t){var e=t.children;if(e&&e.length){var n,r=o(t),i=e.slice(),a=[];for(scale(i,r.dx*r.dy/t.value),a.area=0;n=i.pop();)a.push(n),a.area+=n.area,null!=n.z&&(position(a,n.z?r.dx:r.dy,r,!i.length),a.length=a.area=0);e.forEach(stickify)}}function worst(t,e){for(var n,r=t.area,i=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(n<a&&(a=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*c/r,r/(e*a*c)):1/0}function position(t,e,r,i){var a,o=-1,s=t.length,l=r.x,c=r.y,u=e?n(t.area/e):0;if(e==r.dx){for((i||u>r.dy)&&(u=r.dy);++o<s;)a=t[o],a.x=l,a.y=c,a.dy=u,l+=a.dx=Math.min(r.x+r.dx-l,u?n(a.area/u):0);a.z=!0,a.dx+=r.x+r.dx-l,r.y+=u,r.dy-=u}else{for((i||u>r.dx)&&(u=r.dx);++o<s;)a=t[o],a.x=l,a.y=c,a.dx=u,c+=a.dy=Math.min(r.y+r.dy-c,u?n(a.area/u):0);a.z=!1,a.dy+=r.y+r.dy-c,r.x+=u,r.dx-=u}}function treemap(n){var i=t||e(n),a=i[0];return a.x=a.y=0,a.value?(a.dx=r[0],a.dy=r[1]):a.dx=a.dy=0,t&&e.revalue(a),scale([a],a.dx*a.dy/a.value),(t?stickify:squarify)(a),s&&(t=i),i}var t,e=a.layout.hierarchy(),n=Math.round,r=[1,1],i=null,o=d3_layout_treemapPadNull,s=!1,l="squarify",c=.5*(1+Math.sqrt(5));return treemap.size=function(t){return arguments.length?(r=t,treemap):r},treemap.padding=function(t){function padFunction(e){var n=t.call(treemap,e,e.depth);return null==n?d3_layout_treemapPadNull(e):d3_layout_treemapPad(e,"number"==typeof n?[n,n,n,n]:n)}function padConstant(e){return d3_layout_treemapPad(e,t)}if(!arguments.length)return i;var e;return o=null==(i=t)?d3_layout_treemapPadNull:"function"==(e=typeof t)?padFunction:"number"===e?(t=[t,t,t,t],padConstant):padConstant,
treemap},treemap.round=function(t){return arguments.length?(n=t?Math.round:Number,treemap):n!=Number},treemap.sticky=function(e){return arguments.length?(s=e,t=null,treemap):s},treemap.ratio=function(t){return arguments.length?(c=t,treemap):c},treemap.mode=function(t){return arguments.length?(l=t+"",treemap):l},d3_layout_hierarchyRebind(treemap,e)},a.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=a.random.normal.apply(a,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=a.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},a.scale={};var be={floor:d3_identity,ceil:d3_identity};a.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,!1)};var ke={s:1,g:1,p:1,r:1,e:1};a.scale.log=function(){return d3_scale_log(a.scale.linear().domain([0,1]),10,!0,[1,10])};var we=a.format(".0e"),Me={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};a.scale.pow=function(){return d3_scale_pow(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(Ce)},a.scale.category20=function(){return a.scale.ordinal().range(Se)},a.scale.category20b=function(){return a.scale.ordinal().range(Ae)},a.scale.category20c=function(){return a.scale.ordinal().range(Ee)};var Ce=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),Se=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),Ae=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),Ee=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);a.scale.quantile=function(){return d3_scale_quantile([],[])},a.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])},a.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])},a.scale.identity=function(){return d3_scale_identity([0,1])},a.svg={},a.svg.arc=function(){function arc(){var s=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-O,u=a.apply(this,arguments)-O,d=Math.abs(u-c),h=c>u?0:1;if(l<s&&(f=l,l=s,s=f),d>=W)return circleSegment(l,h)+(s?circleSegment(s,1-h):"")+"Z";var f,p,g,v,m,_,y,x,b,k,w,M,C=0,S=0,A=[];if((v=(+o.apply(this,arguments)||0)/2)&&(g=r===Ne?Math.sqrt(s*s+l*l):+r.apply(this,arguments),h||(S*=-1),l&&(S=d3_asin(g/l*Math.sin(v))),s&&(C=d3_asin(g/s*Math.sin(v)))),l){m=l*Math.cos(c+S),_=l*Math.sin(c+S),y=l*Math.cos(u-S),x=l*Math.sin(u-S);var E=Math.abs(u-c-2*S)<=B?0:1;if(S&&d3_svg_arcSweep(m,_,y,x)===h^E){var N=(c+u)/2;m=l*Math.cos(N),_=l*Math.sin(N),y=x=null}}else m=_=0;if(s){b=s*Math.cos(u-C),k=s*Math.sin(u-C),w=s*Math.cos(c+C),M=s*Math.sin(c+C);var P=Math.abs(c-u+2*C)<=B?0:1;if(C&&d3_svg_arcSweep(b,k,w,M)===1-h^P){var R=(c+u)/2;b=s*Math.cos(R),k=s*Math.sin(R),w=M=null}}else b=k=0;if(d>D&&(f=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){p=s<l^h?0:1;var L=f,T=f;if(d<B){var z=null==w?[b,k]:null==y?[m,_]:d3_geom_polygonIntersect([m,_],[w,M],[y,x],[b,k]),F=m-z[0],I=_-z[1],H=y-z[0],q=x-z[1],V=1/Math.sin(Math.acos((F*H+I*q)/(Math.sqrt(F*F+I*I)*Math.sqrt(H*H+q*q)))/2),j=Math.sqrt(z[0]*z[0]+z[1]*z[1]);T=Math.min(f,(s-j)/(V-1)),L=Math.min(f,(l-j)/(V+1))}if(null!=y){var Y=d3_svg_arcCornerTangents(null==w?[b,k]:[w,M],[m,_],l,L,h),X=d3_svg_arcCornerTangents([y,x],[b,k],l,L,h);f===L?A.push("M",Y[0],"A",L,",",L," 0 0,",p," ",Y[1],"A",l,",",l," 0 ",1-h^d3_svg_arcSweep(Y[1][0],Y[1][1],X[1][0],X[1][1]),",",h," ",X[1],"A",L,",",L," 0 0,",p," ",X[0]):A.push("M",Y[0],"A",L,",",L," 0 1,",p," ",X[0])}else A.push("M",m,",",_);if(null!=w){var G=d3_svg_arcCornerTangents([m,_],[w,M],s,-T,h),U=d3_svg_arcCornerTangents([b,k],null==y?[m,_]:[y,x],s,-T,h);f===T?A.push("L",U[0],"A",T,",",T," 0 0,",p," ",U[1],"A",s,",",s," 0 ",h^d3_svg_arcSweep(U[1][0],U[1][1],G[1][0],G[1][1]),",",1-h," ",G[1],"A",T,",",T," 0 0,",p," ",G[0]):A.push("L",U[0],"A",T,",",T," 0 0,",p," ",G[0])}else A.push("L",b,",",k)}else A.push("M",m,",",_),null!=y&&A.push("A",l,",",l," 0 ",E,",",h," ",y,",",x),A.push("L",b,",",k),null!=w&&A.push("A",s,",",s," 0 ",P,",",1-h," ",w,",",M);return A.push("Z"),A.join("")}function circleSegment(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var t=d3_svg_arcInnerRadius,e=d3_svg_arcOuterRadius,n=d3_zero,r=Ne,i=d3_svg_arcStartAngle,a=d3_svg_arcEndAngle,o=d3_svg_arcPadAngle;return arc.innerRadius=function(e){return arguments.length?(t=d3_functor(e),arc):t},arc.outerRadius=function(t){return arguments.length?(e=d3_functor(t),arc):e},arc.cornerRadius=function(t){return arguments.length?(n=d3_functor(t),arc):n},arc.padRadius=function(t){return arguments.length?(r=t==Ne?Ne:d3_functor(t),arc):r},arc.startAngle=function(t){return arguments.length?(i=d3_functor(t),arc):i},arc.endAngle=function(t){return arguments.length?(a=d3_functor(t),arc):a},arc.padAngle=function(t){return arguments.length?(o=d3_functor(t),arc):o},arc.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-O;return[Math.cos(r)*n,Math.sin(r)*n]},arc};var Ne="auto";a.svg.line=function(){return d3_svg_line(d3_identity)};var Pe=a.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:d3_svg_lineStep,"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":d3_svg_lineBasisOpen,"basis-closed":d3_svg_lineBasisClosed,bundle:d3_svg_lineBundle,cardinal:d3_svg_lineCardinal,"cardinal-open":d3_svg_lineCardinalOpen,"cardinal-closed":d3_svg_lineCardinalClosed,monotone:d3_svg_lineMonotone});Pe.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Re=[0,2/3,1/3,0],Le=[0,1/3,2/3,0],Te=[0,1/6,2/3,1/6];a.svg.line.radial=function(){var t=d3_svg_line(d3_svg_lineRadial);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,a.svg.area=function(){return d3_svg_area(d3_identity)},a.svg.area.radial=function(){var t=d3_svg_area(d3_svg_lineRadial);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},a.svg.chord=function(){function chord(n,r){var i=subgroup(this,t,n,r),a=subgroup(this,e,n,r);return"M"+i.p0+arc(i.r,i.p1,i.a1-i.a0)+(equals(i,a)?curve(i.r,i.p1,i.r,i.p0):curve(i.r,i.p1,a.r,a.p0)+arc(a.r,a.p1,a.a1-a.a0)+curve(a.r,a.p1,i.r,i.p0))+"Z"}function subgroup(t,e,a,o){var s=e.call(t,a,o),l=n.call(t,s,o),c=r.call(t,s,o)-O,u=i.call(t,s,o)-O;return{r:l,a0:c,a1:u,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(u),l*Math.sin(u)]}}function equals(t,e){return t.a0==e.a0&&t.a1==e.a1}function arc(t,e,n){return"A"+t+","+t+" 0 "+ +(n>B)+",1 "+e}function curve(t,e,n,r){return"Q 0,0 "+r}var t=d3_source,e=d3_target,n=d3_svg_chordRadius,r=d3_svg_arcStartAngle,i=d3_svg_arcEndAngle;return chord.radius=function(t){return arguments.length?(n=d3_functor(t),chord):n},chord.source=function(e){return arguments.length?(t=d3_functor(e),chord):t},chord.target=function(t){return arguments.length?(e=d3_functor(t),chord):e},chord.startAngle=function(t){return arguments.length?(r=d3_functor(t),chord):r},chord.endAngle=function(t){return arguments.length?(i=d3_functor(t),chord):i},chord},a.svg.diagonal=function(){function diagonal(r,i){var a=t.call(this,r,i),o=e.call(this,r,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return l=l.map(n),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=d3_source,e=d3_target,n=d3_svg_diagonalProjection;return diagonal.source=function(e){return arguments.length?(t=d3_functor(e),diagonal):t},diagonal.target=function(t){return arguments.length?(e=d3_functor(t),diagonal):e},diagonal.projection=function(t){return arguments.length?(n=t,diagonal):n},diagonal},a.svg.diagonal.radial=function(){var t=a.svg.diagonal(),e=d3_svg_diagonalProjection,n=t.projection;return t.projection=function(t){return arguments.length?n(d3_svg_diagonalRadialProjection(e=t)):e},t},a.svg.symbol=function(){function symbol(n,r){return(De.get(t.call(this,n,r))||d3_svg_symbolCircle)(e.call(this,n,r))}var t=d3_svg_symbolType,e=d3_svg_symbolSize;return symbol.type=function(e){return arguments.length?(t=d3_functor(e),symbol):t},symbol.size=function(t){return arguments.length?(e=d3_functor(t),symbol):e},symbol};var De=a.map({circle:d3_svg_symbolCircle,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Be)),n=e*Be;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ze),n=e*ze/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ze),n=e*ze/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});a.svg.symbolTypes=De.keys();var ze=Math.sqrt(3),Be=Math.tan(30*I);S.transition=function(t){for(var e,n,r=Fe||++He,i=d3_transitionNamespace(t),a=[],o=We||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&d3_transitionNode(n,u,i,r,o),e.push(n)}return d3_transition(a,i,r)},S.interrupt=function(t){return this.each(null==t?Oe:d3_selection_interruptNS(d3_transitionNamespace(t)))};var Fe,We,Oe=d3_selection_interruptNS(d3_transitionNamespace()),Ie=[],He=0;Ie.call=S.call,Ie.empty=S.empty,Ie.node=S.node,Ie.size=S.size,a.transition=function(t,e){return t&&t.transition?Fe?t.transition(e):t:a.selection().transition(t)},a.transition.prototype=Ie,Ie.select=function(t){var e,n,r,i=this.id,a=this.namespace,o=[];t=d3_selection_selector(t);for(var s=-1,l=this.length;++s<l;){o.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=t.call(r,r.__data__,u,s))?("__data__"in r&&(n.__data__=r.__data__),d3_transitionNode(n,u,a,i,r[a][i]),e.push(n)):e.push(null)}return d3_transition(o,a,i)},Ie.selectAll=function(t){var e,n,r,i,a,o=this.id,s=this.namespace,l=[];t=d3_selection_selectorAll(t);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],h=-1,f=d.length;++h<f;)if(r=d[h]){a=r[s][o],n=t.call(r,r.__data__,h,c),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&d3_transitionNode(i,p,s,o,a),e.push(i)}return d3_transition(l,s,o)},Ie.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=d3_selection_filter(t));for(var a=0,o=this.length;a<o;a++){i.push(e=[]);for(var n=this[a],s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return d3_transition(i,this.namespace,this.id)},Ie.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):d3_selection_each(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Ie.attr=function(t,e){function attrNull(){this.removeAttribute(r)}function attrNullNS(){this.removeAttributeNS(r.space,r.local)}function attrTween(t){return null==t?attrNull:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})}function attrTweenNS(t){return null==t?attrNullNS:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?d3_interpolateTransform:d3_interpolate,r=a.ns.qualify(t);return d3_transition_tween(this,"attr."+t,e,r.local?attrTweenNS:attrTween)},Ie.attrTween=function(t,e){function attrTween(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}}function attrTweenNS(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}var n=a.ns.qualify(t);return this.tween("attr."+t,n.local?attrTweenNS:attrTween)},Ie.style=function(t,e,n){function styleNull(){this.style.removeProperty(t)}function styleString(e){return null==e?styleNull:(e+="",function(){var r,i=d3_window(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=d3_interpolate(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return d3_transition_tween(this,"style."+t,e,styleString)},Ie.styleTween=function(t,e,n){function styleTween(r,i){var a=e.call(this,r,i,d3_window(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,styleTween)},Ie.text=function(t){return d3_transition_tween(this,"text",t,d3_transition_text)},Ie.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Ie.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=a.ease.apply(a,arguments)),d3_selection_each(this,function(r){r[n][e].ease=t}))},Ie.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:d3_selection_each(this,"function"==typeof t?function(r,i,a){r[n][e].delay=+t.call(r,r.__data__,i,a)}:(t=+t,function(r){r[n][e].delay=t}))},Ie.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:d3_selection_each(this,"function"==typeof t?function(r,i,a){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,a))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Ie.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=We,o=Fe;try{Fe=n,d3_selection_each(this,function(e,i,a){We=e[r][n],t.call(e,e.__data__,i,a)})}finally{We=i,Fe=o}}else d3_selection_each(this,function(i){var o=i[r][n];(o.event||(o.event=a.dispatch("start","end","interrupt"))).on(t,e)});return this},Ie.transition=function(){for(var t,e,n,r,i=this.id,a=++He,o=this.namespace,s=[],l=0,c=this.length;l<c;l++){s.push(t=[]);for(var e=this[l],u=0,d=e.length;u<d;u++)(n=e[u])&&(r=n[o][i],d3_transitionNode(n,u,o,a,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return d3_transition(s,o,a)},a.svg.axis=function(){function axis(s){s.each(function(){var s,u=a.select(this),d=this.__chart__||e,h=this.__chart__=e.copy(),f=null==c?h.ticks?h.ticks.apply(h,l):h.domain():c,p=null==t?h.tickFormat?h.tickFormat.apply(h,l):d3_identity:t,g=u.selectAll(".tick").data(f,h),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",D),m=a.transition(g.exit()).style("opacity",D).remove(),_=a.transition(g.order()).style("opacity",1),y=Math.max(r,0)+o,x=d3_scaleRange(h),b=u.selectAll(".domain").data([0]),k=(b.enter().append("path").attr("class","domain"),a.transition(b));v.append("line"),v.append("text");var w,M,C,S,A=v.select("line"),E=_.select("line"),N=g.select("text").text(p),P=v.select("text"),R=_.select("text"),L="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=d3_svg_axisX,w="x",C="y",M="x2",S="y2",N.attr("dy",L<0?"0em":".71em").style("text-anchor","middle"),k.attr("d","M"+x[0]+","+L*i+"V0H"+x[1]+"V"+L*i)):(s=d3_svg_axisY,w="y",C="x",M="y2",S="x2",N.attr("dy",".32em").style("text-anchor",L<0?"end":"start"),k.attr("d","M"+L*i+","+x[0]+"H0V"+x[1]+"H"+L*i)),A.attr(S,L*r),P.attr(C,L*y),E.attr(M,0).attr(S,L*r),R.attr(w,0).attr(C,L*y),h.rangeBand){var T=h,z=T.rangeBand()/2;d=h=function(t){return T(t)+z}}else d.rangeBand?d=h:m.call(s,h,d);v.call(s,d,h),_.call(s,h,h)})}var t,e=a.scale.linear(),n=qe,r=6,i=6,o=3,l=[10],c=null;return axis.scale=function(t){return arguments.length?(e=t,axis):e},axis.orient=function(t){return arguments.length?(n=t in Ve?t+"":qe,axis):n},axis.ticks=function(){return arguments.length?(l=s(arguments),axis):l},axis.tickValues=function(t){return arguments.length?(c=t,axis):c},axis.tickFormat=function(e){return arguments.length?(t=e,axis):t},axis.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],axis):r},axis.innerTickSize=function(t){return arguments.length?(r=+t,axis):r},axis.outerTickSize=function(t){return arguments.length?(i=+t,axis):i},axis.tickPadding=function(t){return arguments.length?(o=+t,axis):o},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var qe="bottom",Ve={top:1,right:1,bottom:1,left:1};a.svg.brush=function(){function brush(t){t.each(function(){var t=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(u,d3_identity);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return je[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",brush.empty()?"none":null);var o,s=a.transition(t),l=a.transition(e);r&&(o=d3_scaleRange(r),l.attr("x",o[0]).attr("width",o[1]-o[0]),redrawX(s)),i&&(o=d3_scaleRange(i),l.attr("y",o[0]).attr("height",o[1]-o[0]),redrawY(s)),redraw(s)})}function redraw(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+o[+/e$/.test(t)]+","+s[+/^s/.test(t)]+")"})}function redrawX(t){t.select(".extent").attr("x",o[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function redrawY(t){t.select(".extent").attr("y",s[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function brushstart(){function keydown(){32==a.event.keyCode&&(y||(u=null,b[0]-=o[1],b[1]-=s[1],y=2),d3_eventPreventDefault())}function keyup(){32==a.event.keyCode&&2==y&&(b[0]+=o[1],b[1]+=s[1],y=0,d3_eventPreventDefault())}function brushmove(){var t=a.mouse(h),e=!1;d&&(t[0]+=d[0],t[1]+=d[1]),y||(a.event.altKey?(u||(u=[(o[0]+o[1])/2,(s[0]+s[1])/2]),b[0]=o[+(t[0]<u[0])],b[1]=s[+(t[1]<u[1])]):u=null),m&&move1(t,r,0)&&(redrawX(g),e=!0),_&&move1(t,i,1)&&(redrawY(g),e=!0),e&&(redraw(g),p({type:"brush",mode:y?"move":"resize"}))}function move1(n,r,i){var a,d,h=d3_scaleRange(r),f=h[0],p=h[1],g=b[i],v=i?s:o,m=v[1]-v[0];if(y&&(f-=g,p-=m+g),a=(i?c:l)?Math.max(f,Math.min(p,n[i])):n[i],y?d=(a+=g)+m:(u&&(g=Math.max(f,Math.min(p,2*u[i]-a))),g<a?(d=a,a=g):d=g),v[0]!=a||v[1]!=d)return i?e=null:t=null,v[0]=a,v[1]=d,!0}function brushend(){brushmove(),g.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),a.select("body").style("cursor",null),k.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),x(),p({type:"brushend"})}var u,d,h=this,f=a.select(a.event.target),p=n.of(h,arguments),g=a.select(h),v=f.datum(),m=!/^(n|s)$/.test(v)&&r,_=!/^(e|w)$/.test(v)&&i,y=f.classed("extent"),x=d3_event_dragSuppress(h),b=a.mouse(h),k=a.select(d3_window(h)).on("keydown.brush",keydown).on("keyup.brush",keyup);if(a.event.changedTouches?k.on("touchmove.brush",brushmove).on("touchend.brush",brushend):k.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),g.interrupt().selectAll("*").interrupt(),y)b[0]=o[0]-b[0],b[1]=s[0]-b[1];else if(v){var w=+/w$/.test(v),M=+/^n/.test(v);d=[o[1-w]-b[0],s[1-M]-b[1]],b[0]=o[w],b[1]=s[M]}else a.event.altKey&&(u=b.slice());g.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",f.style("cursor")),p({type:"brushstart"}),brushmove()}var t,e,n=d3_eventDispatch(brush,"brushstart","brush","brushend"),r=null,i=null,o=[0,0],s=[0,0],l=!0,c=!0,u=Ye[0];return brush.event=function(r){r.each(function(){var r=n.of(this,arguments),i={x:o,y:s,i:t,j:e},l=this.__chart__||i;this.__chart__=i,Fe?a.select(this).transition().each("start.brush",function(){t=l.i,e=l.j,o=l.x,s=l.y,r({type:"brushstart"})}).tween("brush:brush",function(){var n=d3_interpolateArray(o,i.x),a=d3_interpolateArray(s,i.y);return t=e=null,function(t){o=i.x=n(t),s=i.y=a(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=i.i,e=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},brush.x=function(t){return arguments.length?(r=t,u=Ye[!r<<1|!i],brush):r},brush.y=function(t){return arguments.length?(i=t,u=Ye[!r<<1|!i],brush):i},brush.clamp=function(t){return arguments.length?(r&&i?(l=!!t[0],c=!!t[1]):r?l=!!t:i&&(c=!!t),brush):r&&i?[l,c]:r?l:i?c:null},brush.extent=function(n){var a,l,c,u,d;return arguments.length?(r&&(a=n[0],l=n[1],i&&(a=a[0],l=l[0]),t=[a,l],r.invert&&(a=r(a),l=r(l)),l<a&&(d=a,a=l,l=d),a==o[0]&&l==o[1]||(o=[a,l])),i&&(c=n[0],u=n[1],r&&(c=c[1],u=u[1]),e=[c,u],i.invert&&(c=i(c),u=i(u)),u<c&&(d=c,c=u,u=d),c==s[0]&&u==s[1]||(s=[c,u])),brush):(r&&(t?(a=t[0],l=t[1]):(a=o[0],l=o[1],r.invert&&(a=r.invert(a),l=r.invert(l)),l<a&&(d=a,a=l,l=d))),i&&(e?(c=e[0],u=e[1]):(c=s[0],u=s[1],i.invert&&(c=i.invert(c),u=i.invert(u)),u<c&&(d=c,c=u,u=d))),r&&i?[[a,c],[l,u]]:r?[a,l]:i&&[c,u])},brush.clear=function(){return brush.empty()||(o=[0,0],s=[0,0],t=e=null),brush},brush.empty=function(){return!!r&&o[0]==o[1]||!!i&&s[0]==s[1]},a.rebind(brush,n,"on")};var je={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ye=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Xe=dt.format=mt.timeFormat,Ge=Xe.utc,Ue=Ge("%Y-%m-%dT%H:%M:%S.%LZ");Xe.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:Ue,d3_time_formatIsoNative.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},d3_time_formatIsoNative.toString=Ue.toString,dt.second=d3_time_interval(function(t){return new ht(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),dt.seconds=dt.second.range,dt.seconds.utc=dt.second.utc.range,dt.minute=d3_time_interval(function(t){return new ht(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),dt.minutes=dt.minute.range,dt.minutes.utc=dt.minute.utc.range,dt.hour=d3_time_interval(function(t){var e=t.getTimezoneOffset()/60;return new ht(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),dt.hours=dt.hour.range,dt.hours.utc=dt.hour.utc.range,dt.month=d3_time_interval(function(t){return t=dt.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),dt.months=dt.month.range,dt.months.utc=dt.month.utc.range;var Ze=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],$e=[[dt.second,1],[dt.second,5],[dt.second,15],[dt.second,30],[dt.minute,1],[dt.minute,5],[dt.minute,15],[dt.minute,30],[dt.hour,1],[dt.hour,3],[dt.hour,6],[dt.hour,12],[dt.day,1],[dt.day,2],[dt.week,1],[dt.month,1],[dt.month,3],[dt.year,1]],Je=Xe.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",d3_true]]),Ke={range:function(t,e,n){return a.range(Math.ceil(t/n)*n,+e,n).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};$e.year=dt.year,dt.scale=function(){return d3_time_scale(a.scale.linear(),$e,Je)};var Qe=$e.map(function(t){return[t[0].utc,t[1]]}),tn=Ge.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",d3_true]]);Qe.year=dt.year.utc,dt.scale.utc=function(){return d3_time_scale(a.scale.linear(),Qe,tn)},a.text=d3_xhrType(function(t){return t.responseText}),a.json=function(t,e){return d3_xhr(t,"application/json",d3_json,e)},a.html=function(t,e){return d3_xhr(t,"text/html",d3_html,e)},a.xml=d3_xhrType(function(t){return t.responseXML}),this.d3=a,r=a,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i))}()},722:function(t,e,n){"use strict";(function(t){var r=n(0),i=function(){function JqSparkline(e){this.$el=t(e.nativeElement)}return JqSparkline.prototype.render=function(){var e=this,n="string"===t.type(this.data)?this.data.replace(/(^,)|(,$)/g,""):this.data,r=this.options;if("array"===t.type(n)&&"array"===t.type(r))r.forEach(function(r,i){0===i?e.$el.sparkline(n[i],r):e.$el.sparkline(n[i],t.extend({composite:!0},r))});else{var i;i="array"===t.type(n)?n:n.split(","),t(window).on("sn:resize",function(){e.$el.sparkline(i,r)}),this.$el.sparkline(i,r)}},JqSparkline.prototype.ngOnInit=function(){this.render()},__decorate([r.Input(),__metadata("design:type",Object)],JqSparkline.prototype,"data",void 0),__decorate([r.Input(),__metadata("design:type",Object)],JqSparkline.prototype,"options",void 0),JqSparkline=__decorate([r.Directive({selector:"[jq-sparkline]"}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.ElementRef&&r.ElementRef)&&e||Object])],JqSparkline);var e}();e.JqSparkline=i}).call(e,n(64))},723:function(t,e,n){"use strict";var r=n(0);n(727);var i=n(722),a=function(){function JqSparklineModule(){}return JqSparklineModule=__decorate([r.NgModule({declarations:[i.JqSparkline],exports:[i.JqSparkline]}),__metadata("design:paramtypes",[])],JqSparklineModule)}();e.JqSparklineModule=a},727:function(t,e,n){var r,i,a;(function(o,s,l){(function(o){i=[n(64)],r=o,a="function"==typeof r?r.apply(e,i):r,!(a!==l&&(t.exports=a))})(function(t){"use strict";var e,n,r,i,a,c,u,d,h,f,p,g,v,m,_,y,x,b,k,w,M,C,S,A,E,N,P,R,L,T,D,z,B={},F=0;e=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:l,normalRangeMax:l,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:l,chartRangeMax:l,chartRangeMinX:l,chartRangeMaxX:l,tooltipFormat:new r('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:l,nullColor:l,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:l,chartRangeMin:l,chartRangeClip:!1,colorMap:l,tooltipFormat:new r('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new r('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:l,thresholdValue:0,chartRangeMax:l,chartRangeMin:l,chartRangeClip:!1,tooltipFormat:new r("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:l,tooltipFormat:new r("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new r('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:l,targetColor:"#4a2",chartRangeMax:l,chartRangeMin:l,tooltipFormat:new r("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},N='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',n=function(){var e,n;return e=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(e.prototype=t.extend(new arguments[0],arguments[arguments.length-1]),e._super=arguments[0].prototype):e.prototype=arguments[arguments.length-1],arguments.length>2&&(n=Array.prototype.slice.call(arguments,1,-1),n.unshift(e.prototype),t.extend.apply(t,n))):e.prototype=arguments[0],e.prototype.cls=e,e},t.SPFormatClass=r=n({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,n){var r,i,a,o,s,c=this,u=t;return this.format.replace(this.fre,function(){var t;return i=arguments[1],a=arguments[3],r=c.precre.exec(i),r?(s=r[2],i=r[1]):s=!1,o=u[i],o===l?"":a&&e&&e[a]?(t=e[a],t.get?e[a].get(o)||o:e[a][o]||o):(h(o)&&(o=n.get("numberFormatter")?n.get("numberFormatter")(o):m(o,s,n.get("numberDigitGroupCount"),n.get("numberDigitGroupSep"),n.get("numberDecimalMark"))),o)})}}),t.spformat=function(t,e){return new r(t,e)},i=function(t,e,n){return t<e?e:t>n?n:t},a=function(t,e){var n;return 2===e?(n=s.floor(t.length/2),t.length%2?t[n]:(t[n-1]+t[n])/2):t.length%2?(n=(t.length*e+e)/4,n%1?(t[s.floor(n)]+t[s.floor(n)-1])/2:t[n-1]):(n=(t.length*e+2)/4,n%1?(t[s.floor(n)]+t[s.floor(n)-1])/2:t[n-1])},c=function(t){var e;switch(t){case"undefined":t=l;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:e=parseFloat(t),t==e&&(t=e)}return t},u=function(t){var e,n=[];for(e=t.length;e--;)n[e]=c(t[e]);return n},d=function(t,e){var n,r,i=[];for(n=0,r=t.length;n<r;n++)t[n]!==e&&i.push(t[n]);return i},h=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},m=function(e,n,r,i,a){var o,s;for(e=(n===!1?parseFloat(e).toString():e.toFixed(n)).split(""),o=(o=t.inArray(".",e))<0?e.length:o,o<e.length&&(e[o]=a),s=o-r;s>0;s-=r)e.splice(s,0,i);return e.join("");
},f=function(t,e,n){var r;for(r=e.length;r--;)if((!n||null!==e[r])&&e[r]!==t)return!1;return!0},p=function(t){var e,n=0;for(e=t.length;e--;)n+="number"==typeof t[e]?t[e]:0;return n},v=function(e){return t.isArray(e)?e:[e]},g=function(t){var e,n;if(o.createStyleSheet)try{return void(o.createStyleSheet().cssText=t)}catch(r){n=!0}e=o.createElement("style"),e.type="text/css",o.getElementsByTagName("head")[0].appendChild(e),n?o.styleSheets[o.styleSheets.length-1].cssText=t:e["string"==typeof o.body.style.WebkitAppearance?"innerText":"innerHTML"]=t},t.fn.simpledraw=function(e,n,r,i){var a,s;if(r&&(a=this.data("_jqs_vcanvas")))return a;if(t.fn.sparkline.canvas===!1)return!1;if(t.fn.sparkline.canvas===l){var c=o.createElement("canvas");if(c.getContext&&c.getContext("2d"))t.fn.sparkline.canvas=function(t,e,n,r){return new T(t,e,n,r)};else{if(!o.namespaces||o.namespaces.v)return t.fn.sparkline.canvas=!1,!1;o.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),t.fn.sparkline.canvas=function(t,e,n,r){return new D(t,e,n)}}}return e===l&&(e=t(this).innerWidth()),n===l&&(n=t(this).innerHeight()),a=t.fn.sparkline.canvas(e,n,this,i),s=t(this).data("_jqs_mhandler"),s&&s.registerCanvas(a),a},t.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},t.RangeMapClass=_=n({init:function(t){var e,n,r=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&(n=e.split(":"),n[0]=0===n[0].length?-(1/0):parseFloat(n[0]),n[1]=0===n[1].length?1/0:parseFloat(n[1]),n[2]=t[e],r.push(n));this.map=t,this.rangelist=r||!1},get:function(t){var e,n,r,i=this.rangelist;if((r=this.map[t])!==l)return r;if(i)for(e=i.length;e--;)if(n=i[e],n[0]<=t&&n[1]>=t)return n[2];return l}}),t.range_map=function(t){return new _(t)},y=n({init:function(e,n){var r=t(e);this.$el=r,this.options=n,this.currentPageX=0,this.currentPageY=0,this.el=e,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!n.get("disableTooltips"),this.highlightEnabled=!n.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(e){var n=t(e.canvas);this.canvas=e,this.$canvas=n,n.mouseenter(t.proxy(this.mouseenter,this)),n.mouseleave(t.proxy(this.mouseleave,this)),n.click(t.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=l)},mouseclick:function(e){var n=t.Event("sparklineClick");n.originalEvent=e,n.sparklines=this.splist,this.$el.trigger(n)},mouseenter:function(e){t(o.body).unbind("mousemove.jqs"),t(o.body).bind("mousemove.jqs",t.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new x(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){t(o.body).unbind("mousemove.jqs");var e,n,r=this.splist,i=r.length,a=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),n=0;n<i;n++)e=r[n],e.clearRegionHighlight()&&(a=!0);a&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var e,n,r,i,a,o=this.splist,s=o.length,l=!1,c=this.$canvas.offset(),u=this.currentPageX-c.left,d=this.currentPageY-c.top;if(this.over){for(r=0;r<s;r++)n=o[r],i=n.setRegionHighlight(this.currentEl,u,d),i&&(l=!0);if(l){if(a=t.Event("sparklineRegionChange"),a.sparklines=this.splist,this.$el.trigger(a),this.tooltip){for(e="",r=0;r<s;r++)n=o[r],e+=n.getCurrentRegionTooltip();this.tooltip.setContent(e)}this.disableHighlight||this.canvas.render()}null===i&&this.mouseleave()}}}),x=n({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var n,r=e.get("tooltipClassname","jqstooltip"),i=this.sizeStyle;this.container=e.get("tooltipContainer")||o.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),t("#jqssizetip").remove(),t("#jqstooltip").remove(),this.sizetip=t("<div/>",{id:"jqssizetip",style:i,"class":r}),this.tooltip=t("<div/>",{id:"jqstooltip","class":r}).appendTo(this.container),n=this.tooltip.offset(),this.offsetLeft=n.left,this.offsetTop=n.top,this.hidden=!0,t(window).unbind("resize.jqs scroll.jqs"),t(window).bind("resize.jqs scroll.jqs",t.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=t(window).scrollTop(),this.scrollLeft=t(window).scrollLeft(),this.scrollRight=this.scrollLeft+t(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){return t?(this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),void(this.hidden&&(this.hidden=!1,this.updatePosition()))):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(t,e){if(t===l){if(this.mousex===l)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=l,t(window).unbind("resize.jqs scroll.jqs")}}),P=function(){g(N)},t(P),z=[],t.fn.sparkline=function(e,n){return this.each(function(){var r,i,a=new t.fn.sparkline.options(this,n),s=t(this);if(r=function(){var n,r,i,c,u,d,h;return"html"===e||e===l?(h=this.getAttribute(a.get("tagValuesAttribute")),h!==l&&null!==h||(h=s.html()),n=h.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):n=e,r="auto"===a.get("width")?n.length*a.get("defaultPixelsPerValue"):a.get("width"),"auto"===a.get("height")?a.get("composite")&&t.data(this,"_jqs_vcanvas")||(c=o.createElement("span"),c.innerHTML="a",s.html(c),i=t(c).innerHeight()||t(c).height(),t(c).remove(),c=null):i=a.get("height"),a.get("disableInteraction")?u=!1:(u=t.data(this,"_jqs_mhandler"),u?a.get("composite")||u.reset():(u=new y(this,a),t.data(this,"_jqs_mhandler",u))),a.get("composite")&&!t.data(this,"_jqs_vcanvas")?void(t.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),t.data(this,"_jqs_errnotify",!0))):(d=new(t.fn.sparkline[a.get("type")])(this,n,a,r,i),d.render(),void(u&&u.registerSparkline(d)))},t(this).html()&&!a.get("disableHiddenCheck")&&t(this).is(":hidden")||!t(this).parents("body").length){if(!a.get("composite")&&t.data(this,"_jqs_pending"))for(i=z.length;i;i--)z[i-1][0]==this&&z.splice(i-1,1);z.push([this,r]),t.data(this,"_jqs_pending",!0)}else r.call(this)})},t.fn.sparkline.defaults=e(),t.sparkline_display_visible=function(){var e,n,r,i=[];for(n=0,r=z.length;n<r;n++)e=z[n][0],t(e).is(":visible")&&!t(e).parents().is(":hidden")?(z[n][1].call(e),t.data(z[n][0],"_jqs_pending",!1),i.push(n)):t(e).closest("html").length||t.data(e,"_jqs_pending")||(t.data(z[n][0],"_jqs_pending",!1),i.push(n));for(n=i.length;n;n--)z.splice(i[n-1],1)},t.fn.sparkline.options=n({init:function(e,n){var r,i,a,o;this.userOptions=n=n||{},this.tag=e,this.tagValCache={},i=t.fn.sparkline.defaults,a=i.common,this.tagOptionsPrefix=n.enableTagOptions&&(n.tagOptionsPrefix||a.tagOptionsPrefix),o=this.getTagSetting("type"),r=o===B?i[n.type||a.type]:i[o],this.mergedOptions=t.extend({},a,r,n)},getTagSetting:function(t){var e,n,r,i,a=this.tagOptionsPrefix;if(a===!1||a===l)return B;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if(e=this.tag.getAttribute(a+t),e===l||null===e)e=B;else if("["===e.substr(0,1))for(e=e.substr(1,e.length-2).split(","),n=e.length;n--;)e[n]=c(e[n].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(r=e.substr(1,e.length-2).split(","),e={},n=r.length;n--;)i=r[n].split(":",2),e[i[0].replace(/(^\s*)|(\s*$)/g,"")]=c(i[1].replace(/(^\s*)|(\s*$)/g,""));else e=c(e);this.tagValCache.key=e}return e},get:function(t,e){var n,r=this.getTagSetting(t);return r!==B?r:(n=this.mergedOptions[t])===l?e:n}}),t.fn.sparkline._base=n({disabled:!1,init:function(e,n,r,i,a){this.el=e,this.$el=t(e),this.values=n,this.options=r,this.width=i,this.height=a,this.currentRegion=l},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(t,e){},setRegionHighlight:function(t,e,n){var r,i=this.currentRegion,a=!this.options.get("disableHighlight");return e>this.canvasWidth||n>this.canvasHeight||e<0||n<0?null:(r=this.getRegion(t,e,n),i!==r&&(i!==l&&a&&this.removeHighlight(),this.currentRegion=r,r!==l&&a&&this.renderHighlight(),!0))},clearRegionHighlight:function(){return this.currentRegion!==l&&(this.removeHighlight(),this.currentRegion=l,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var e,n,i,a,o,s,c,u,d,h,f,p,g,v,m=this.options,_="",y=[];if(this.currentRegion===l)return"";if(e=this.getCurrentRegionFields(),f=m.get("tooltipFormatter"))return f(this,m,e);if(m.get("tooltipChartTitle")&&(_+='<div class="jqs jqstitle">'+m.get("tooltipChartTitle")+"</div>\n"),n=this.options.get("tooltipFormat"),!n)return"";if(t.isArray(n)||(n=[n]),t.isArray(e)||(e=[e]),c=this.options.get("tooltipFormatFieldlist"),u=this.options.get("tooltipFormatFieldlistKey"),c&&u){for(d=[],s=e.length;s--;)h=e[s][u],(v=t.inArray(h,c))!=-1&&(d[v]=e[s]);e=d}for(i=n.length,g=e.length,s=0;s<i;s++)for(p=n[s],"string"==typeof p&&(p=new r(p)),a=p.fclass||"jqsfield",v=0;v<g;v++)e[v].isNull&&m.get("tooltipSkipNull")||(t.extend(e[v],{prefix:m.get("tooltipPrefix"),suffix:m.get("tooltipSuffix")}),o=p.render(e[v],m.get("tooltipValueLookups"),m),y.push('<div class="'+a+'">'+o+"</div>"));return y.length?_+y.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,e){var n,r,a,o,l=e.get("highlightColor"),c=e.get("highlightLighten");if(l)return l;if(c&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(a=[],r=4===t.length?16:1,o=0;o<3;o++)a[o]=i(s.round(parseInt(n[o+1],16)*r*c),0,255);return"rgb("+a.join(",")+")"}return t}}),b={changeHighlight:function(e){var n,r=this.currentRegion,i=this.target,a=this.regionShapes[r];a&&(n=this.renderRegion(r,e),t.isArray(n)||t.isArray(a)?(i.replaceWithShapes(a,n),this.regionShapes[r]=t.map(n,function(t){return t.id})):(i.replaceWithShape(a,n),this.regionShapes[r]=n.id))},render:function(){var e,n,r,i,a=this.values,o=this.target,s=this.regionShapes;if(this.cls._super.render.call(this)){for(r=a.length;r--;)if(e=this.renderRegion(r))if(t.isArray(e)){for(n=[],i=e.length;i--;)e[i].append(),n.push(e[i].id);s[r]=n}else e.append(),s[r]=e.id;else s[r]=null;o.render()}}},t.fn.sparkline.line=k=n(t.fn.sparkline._base,{type:"line",init:function(t,e,n,r,i){k._super.init.call(this,t,e,n,r,i),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,n){var r,i=this.regionMap;for(r=i.length;r--;)if(null!==i[r]&&e>=i[r][0]&&e<=i[r][1])return i[r][2];return l},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,n=this.currentRegion,r=this.target,i=this.vertices[n],a=this.options,o=a.get("spotRadius"),s=a.get("highlightSpotColor"),c=a.get("highlightLineColor");i&&(o&&s&&(t=r.drawCircle(i[0],i[1],o,l,s),this.highlightSpotId=t.id,r.insertAfterShape(this.lastShapeId,t)),c&&(e=r.drawLine(i[0],this.canvasTop,i[0],this.canvasTop+this.canvasHeight,c),this.highlightLineId=e.id,r.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,e,n,r,i,a=this.values,o=a.length,l=this.xvalues,c=this.yvalues,u=this.yminmax;for(t=0;t<o;t++)e=a[t],n="string"==typeof a[t],r="object"==typeof a[t]&&a[t]instanceof Array,i=n&&a[t].split(":"),n&&2===i.length?(l.push(Number(i[0])),c.push(Number(i[1])),u.push(Number(i[1]))):r?(l.push(e[0]),c.push(e[1]),u.push(e[1])):(l.push(t),null===a[t]||"null"===a[t]?c.push(null):(c.push(Number(e)),u.push(Number(e))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=s.max.apply(s,u),this.miny=this.minyorg=s.min.apply(s,u),this.maxx=s.max.apply(s,l),this.minx=s.min.apply(s,l),this.xvalues=l,this.yvalues=c,this.yminmax=u},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),n=t.get("normalRangeMax");e!==l&&(e<this.miny&&(this.miny=e),n>this.maxy&&(this.maxy=n)),t.get("chartRangeMin")!==l&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==l&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==l&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==l&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,e,n,r,i){var a=this.options.get("normalRangeMin"),o=this.options.get("normalRangeMax"),c=e+s.round(n-n*((o-this.miny)/i)),u=s.round(n*(o-a)/i);this.target.drawRect(t,c,r,u,l,this.options.get("normalRangeColor")).append()},render:function(){var e,n,r,i,a,o,c,u,d,h,f,p,g,v,m,y,x,b,w,M,C,S,A,E,N,P=this.options,R=this.target,L=this.canvasWidth,T=this.canvasHeight,D=this.vertices,z=P.get("spotRadius"),B=this.regionMap;if(k._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),A=this.xvalues,E=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(i=a=0,e=this.maxx-this.minx===0?1:this.maxx-this.minx,n=this.maxy-this.miny===0?1:this.maxy-this.miny,r=this.yvalues.length-1,z&&(L<4*z||T<4*z)&&(z=0),z&&(C=P.get("highlightSpotColor")&&!P.get("disableInteraction"),(C||P.get("minSpotColor")||P.get("spotColor")&&E[r]===this.miny)&&(T-=s.ceil(z)),(C||P.get("maxSpotColor")||P.get("spotColor")&&E[r]===this.maxy)&&(T-=s.ceil(z),i+=s.ceil(z)),(C||(P.get("minSpotColor")||P.get("maxSpotColor"))&&(E[0]===this.miny||E[0]===this.maxy))&&(a+=s.ceil(z),L-=s.ceil(z)),(C||P.get("spotColor")||P.get("minSpotColor")||P.get("maxSpotColor")&&(E[r]===this.miny||E[r]===this.maxy))&&(L-=s.ceil(z))),T--,P.get("normalRangeMin")===l||P.get("drawNormalOnTop")||this.drawNormalRange(a,i,T,L,n),c=[],u=[c],v=m=null,y=E.length,N=0;N<y;N++)d=A[N],f=A[N+1],h=E[N],p=a+s.round((d-this.minx)*(L/e)),g=N<y-1?a+s.round((f-this.minx)*(L/e)):L,m=p+(g-p)/2,B[N]=[v||0,m,N],v=m,null===h?N&&(null!==E[N-1]&&(c=[],u.push(c)),D.push(null)):(h<this.miny&&(h=this.miny),h>this.maxy&&(h=this.maxy),c.length||c.push([p,i+T]),o=[p,i+s.round(T-T*((h-this.miny)/n))],c.push(o),D.push(o));for(x=[],b=[],w=u.length,N=0;N<w;N++)c=u[N],c.length&&(P.get("fillColor")&&(c.push([c[c.length-1][0],i+T]),b.push(c.slice(0)),c.pop()),c.length>2&&(c[0]=[c[0][0],c[1][1]]),x.push(c));for(w=b.length,N=0;N<w;N++)R.drawShape(b[N],P.get("fillColor"),P.get("fillColor")).append();for(P.get("normalRangeMin")!==l&&P.get("drawNormalOnTop")&&this.drawNormalRange(a,i,T,L,n),w=x.length,N=0;N<w;N++)R.drawShape(x[N],P.get("lineColor"),l,P.get("lineWidth")).append();if(z&&P.get("valueSpots"))for(M=P.get("valueSpots"),M.get===l&&(M=new _(M)),N=0;N<y;N++)S=M.get(E[N]),S&&R.drawCircle(a+s.round((A[N]-this.minx)*(L/e)),i+s.round(T-T*((E[N]-this.miny)/n)),z,l,S).append();z&&P.get("spotColor")&&null!==E[r]&&R.drawCircle(a+s.round((A[A.length-1]-this.minx)*(L/e)),i+s.round(T-T*((E[r]-this.miny)/n)),z,l,P.get("spotColor")).append(),this.maxy!==this.minyorg&&(z&&P.get("minSpotColor")&&(d=A[t.inArray(this.minyorg,E)],R.drawCircle(a+s.round((d-this.minx)*(L/e)),i+s.round(T-T*((this.minyorg-this.miny)/n)),z,l,P.get("minSpotColor")).append()),z&&P.get("maxSpotColor")&&(d=A[t.inArray(this.maxyorg,E)],R.drawCircle(a+s.round((d-this.minx)*(L/e)),i+s.round(T-T*((this.maxyorg-this.miny)/n)),z,l,P.get("maxSpotColor")).append())),this.lastShapeId=R.getLastShapeId(),this.canvasTop=i,R.render()}}}),t.fn.sparkline.bar=w=n(t.fn.sparkline._base,b,{type:"bar",init:function(e,n,r,a,o){var h,f,p,g,v,m,y,x,b,k,M,C,S,A,E,N,P,R,L,T,D,z,B=parseInt(r.get("barWidth"),10),F=parseInt(r.get("barSpacing"),10),W=r.get("chartRangeMin"),O=r.get("chartRangeMax"),I=r.get("chartRangeClip"),H=1/0,q=-(1/0);for(w._super.init.call(this,e,n,r,a,o),m=0,y=n.length;m<y;m++)T=n[m],h="string"==typeof T&&T.indexOf(":")>-1,(h||t.isArray(T))&&(E=!0,h&&(T=n[m]=u(T.split(":"))),T=d(T,null),f=s.min.apply(s,T),p=s.max.apply(s,T),f<H&&(H=f),p>q&&(q=p));this.stacked=E,this.regionShapes={},this.barWidth=B,this.barSpacing=F,this.totalBarWidth=B+F,this.width=a=n.length*B+(n.length-1)*F,this.initTarget(),I&&(S=W===l?-(1/0):W,A=O===l?1/0:O),v=[],g=E?[]:v;var V=[],j=[];for(m=0,y=n.length;m<y;m++)if(E)for(N=n[m],n[m]=L=[],V[m]=0,g[m]=j[m]=0,P=0,R=N.length;P<R;P++)T=L[P]=I?i(N[P],S,A):N[P],null!==T&&(T>0&&(V[m]+=T),H<0&&q>0?T<0?j[m]+=s.abs(T):g[m]+=T:g[m]+=s.abs(T-(T<0?q:H)),v.push(T));else T=I?i(n[m],S,A):n[m],T=n[m]=c(T),null!==T&&v.push(T);this.max=C=s.max.apply(s,v),this.min=M=s.min.apply(s,v),this.stackMax=q=E?s.max.apply(s,V):C,this.stackMin=H=E?s.min.apply(s,v):M,r.get("chartRangeMin")!==l&&(r.get("chartRangeClip")||r.get("chartRangeMin")<M)&&(M=r.get("chartRangeMin")),r.get("chartRangeMax")!==l&&(r.get("chartRangeClip")||r.get("chartRangeMax")>C)&&(C=r.get("chartRangeMax")),this.zeroAxis=b=r.get("zeroAxis",!0),k=M<=0&&C>=0&&b?0:0==b?M:M>0?M:C,this.xaxisOffset=k,x=E?s.max.apply(s,g)+s.max.apply(s,j):C-M,this.canvasHeightEf=b&&M<0?this.canvasHeight-2:this.canvasHeight-1,M<k?(z=E&&C>=0?q:C,D=(z-k)/x*this.canvasHeight,D!==s.ceil(D)&&(this.canvasHeightEf-=2,D=s.ceil(D))):D=this.canvasHeight,this.yoffset=D,t.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===l&&(this.colorMapByValue=new _(this.colorMapByValue))),this.range=x},getRegion:function(t,e,n){var r=s.floor(e/this.totalBarWidth);return r<0||r>=this.values.length?l:r},getCurrentRegionFields:function(){var t,e,n=this.currentRegion,r=v(this.values[n]),i=[];for(e=r.length;e--;)t=r[e],i.push({isNull:null===t,value:t,color:this.calcColor(e,t,n),offset:n});return i},calcColor:function(e,n,r){var i,a,o=this.colorMapByIndex,s=this.colorMapByValue,c=this.options;return i=this.stacked?c.get("stackedBarColor"):n<0?c.get("negBarColor"):c.get("barColor"),0===n&&c.get("zeroColor")!==l&&(i=c.get("zeroColor")),s&&(a=s.get(n))?i=a:o&&o.length>r&&(i=o[r]),t.isArray(i)?i[e%i.length]:i},renderRegion:function(e,n){var r,i,a,o,c,u,d,h,p,g,v=this.values[e],m=this.options,_=this.xaxisOffset,y=[],x=this.range,b=this.stacked,k=this.target,w=e*this.totalBarWidth,M=this.canvasHeightEf,C=this.yoffset;if(v=t.isArray(v)?v:[v],d=v.length,h=v[0],o=f(null,v),g=f(_,v,!0),o)return m.get("nullColor")?(a=n?m.get("nullColor"):this.calcHighlightColor(m.get("nullColor"),m),r=C>0?C-1:C,k.drawRect(w,r,this.barWidth-1,0,a,a)):l;for(c=C,u=0;u<d;u++){if(h=v[u],b&&h===_){if(!g||p)continue;p=!0}i=x>0?s.floor(M*(s.abs(h-_)/x))+1:1,h<_||h===_&&0===C?(r=c,c+=i):(r=C-i,C-=i),a=this.calcColor(u,h,e),n&&(a=this.calcHighlightColor(a,m)),y.push(k.drawRect(w,r,this.barWidth-1,i-1,a,a))}return 1===y.length?y[0]:y}}),t.fn.sparkline.tristate=M=n(t.fn.sparkline._base,b,{type:"tristate",init:function(e,n,r,i,a){var o=parseInt(r.get("barWidth"),10),s=parseInt(r.get("barSpacing"),10);M._super.init.call(this,e,n,r,i,a),this.regionShapes={},this.barWidth=o,this.barSpacing=s,this.totalBarWidth=o+s,this.values=t.map(n,Number),this.width=i=n.length*o+(n.length-1)*s,t.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===l&&(this.colorMapByValue=new _(this.colorMapByValue))),this.initTarget()},getRegion:function(t,e,n){return s.floor(e/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===l,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var n,r,i=this.values,a=this.options,o=this.colorMapByIndex,s=this.colorMapByValue;return n=s&&(r=s.get(t))?r:o&&o.length>e?o[e]:i[e]<0?a.get("negBarColor"):i[e]>0?a.get("posBarColor"):a.get("zeroBarColor")},renderRegion:function(t,e){var n,r,i,a,o,l,c=this.values,u=this.options,d=this.target;if(n=d.pixelHeight,i=s.round(n/2),a=t*this.totalBarWidth,c[t]<0?(o=i,r=i-1):c[t]>0?(o=0,r=i-1):(o=i-1,r=2),l=this.calcColor(c[t],t),null!==l)return e&&(l=this.calcHighlightColor(l,u)),d.drawRect(a,o,this.barWidth-1,r-1,l,l)}}),t.fn.sparkline.discrete=C=n(t.fn.sparkline._base,b,{type:"discrete",init:function(e,n,r,i,a){C._super.init.call(this,e,n,r,i,a),this.regionShapes={},this.values=n=t.map(n,Number),this.min=s.min.apply(s,n),this.max=s.max.apply(s,n),this.range=this.max-this.min,this.width=i="auto"===r.get("width")?2*n.length:this.width,this.interval=s.floor(i/n.length),this.itemWidth=i/n.length,r.get("chartRangeMin")!==l&&(r.get("chartRangeClip")||r.get("chartRangeMin")<this.min)&&(this.min=r.get("chartRangeMin")),r.get("chartRangeMax")!==l&&(r.get("chartRangeClip")||r.get("chartRangeMax")>this.max)&&(this.max=r.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===r.get("lineHeight")?s.round(.3*this.canvasHeight):r.get("lineHeight"))},getRegion:function(t,e,n){return s.floor(e/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===l,value:this.values[t],offset:t}},renderRegion:function(t,e){var n,r,a,o,l=this.values,c=this.options,u=this.min,d=this.max,h=this.range,f=this.interval,p=this.target,g=this.canvasHeight,v=this.lineHeight,m=g-v;return r=i(l[t],u,d),o=t*f,n=s.round(m-m*((r-u)/h)),a=c.get("thresholdColor")&&r<c.get("thresholdValue")?c.get("thresholdColor"):c.get("lineColor"),e&&(a=this.calcHighlightColor(a,c)),p.drawLine(o,n,o,n+v,a)}}),t.fn.sparkline.bullet=S=n(t.fn.sparkline._base,{type:"bullet",init:function(t,e,n,r,i){var a,o,c;S._super.init.call(this,t,e,n,r,i),this.values=e=u(e),c=e.slice(),c[0]=null===c[0]?c[2]:c[0],c[1]=null===e[1]?c[2]:c[1],a=s.min.apply(s,e),o=s.max.apply(s,e),a=n.get("base")===l?a<0?a:0:n.get("base"),this.min=a,this.max=o,this.range=o-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=r="auto"===n.get("width")?"4.0em":r,this.target=this.$el.simpledraw(r,i,n.get("composite")),e.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,n){var r=this.target.getShapeAt(t,e,n);return r!==l&&this.shapes[r]!==l?this.shapes[r]:l},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,n=this.currentRegion,r=this.valueShapes[n];switch(delete this.shapes[r],n.substr(0,1)){case"r":e=this.renderRange(n.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[n]=e.id,this.shapes[e.id]=n,this.target.replaceWithShape(r,e)},renderRange:function(t,e){var n=this.values[t],r=s.round(this.canvasWidth*((n-this.min)/this.range)),i=this.options.get("rangeColors")[t-2];return e&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(0,0,r-1,this.canvasHeight-1,i,i)},renderPerformance:function(t){var e=this.values[1],n=s.round(this.canvasWidth*((e-this.min)/this.range)),r=this.options.get("performanceColor");return t&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,s.round(.3*this.canvasHeight),n-1,s.round(.4*this.canvasHeight)-1,r,r)},renderTarget:function(t){var e=this.values[0],n=s.round(this.canvasWidth*((e-this.min)/this.range)-this.options.get("targetWidth")/2),r=s.round(.1*this.canvasHeight),i=this.canvasHeight-2*r,a=this.options.get("targetColor");return t&&(a=this.calcHighlightColor(a,this.options)),this.target.drawRect(n,r,this.options.get("targetWidth")-1,i-1,a,a)},render:function(){var t,e,n=this.values.length,r=this.target;if(S._super.render.call(this)){for(t=2;t<n;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),r.render()}}}),t.fn.sparkline.pie=A=n(t.fn.sparkline._base,{type:"pie",init:function(e,n,r,i,a){var o,l=0;if(A._super.init.call(this,e,n,r,i,a),this.shapes={},this.valueShapes={},this.values=n=t.map(n,Number),"auto"===r.get("width")&&(this.width=this.height),n.length>0)for(o=n.length;o--;)l+=n[o];this.total=l,this.initTarget(),this.radius=s.floor(s.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,n){var r=this.target.getShapeAt(t,e,n);return r!==l&&this.shapes[r]!==l?this.shapes[r]:l},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===l,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,n=this.renderSlice(e,t),r=this.valueShapes[e];delete this.shapes[r],this.target.replaceWithShape(r,n),this.valueShapes[e]=n.id,this.shapes[n.id]=e},renderSlice:function(t,e){var n,r,i,a,o,c=this.target,u=this.options,d=this.radius,h=u.get("borderWidth"),f=u.get("offset"),p=2*s.PI,g=this.values,v=this.total,m=f?2*s.PI*(f/360):0;for(a=g.length,i=0;i<a;i++){if(n=m,r=m,v>0&&(r=m+p*(g[i]/v)),t===i)return o=u.get("sliceColors")[i%u.get("sliceColors").length],e&&(o=this.calcHighlightColor(o,u)),c.drawPieSlice(d,d,d-h,n,r,l,o);m=r}},render:function(){var t,e,n=this.target,r=this.values,i=this.options,a=this.radius,o=i.get("borderWidth");if(A._super.render.call(this)){for(o&&n.drawCircle(a,a,s.floor(a-o/2),i.get("borderColor"),l,o).append(),e=r.length;e--;)r[e]&&(t=this.renderSlice(e).append(),this.valueShapes[e]=t.id,this.shapes[t.id]=e);n.render()}}}),t.fn.sparkline.box=E=n(t.fn.sparkline._base,{type:"box",init:function(e,n,r,i,a){E._super.init.call(this,e,n,r,i,a),this.values=t.map(n,Number),this.width="auto"===r.get("width")?"4.0em":i,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==l&&t.push({field:"lo",value:this.loutlier}),this.routlier!==l&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==l&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==l&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,e,n,r,i,o,c,u,d,h,f,p=this.target,g=this.values,v=g.length,m=this.options,_=this.canvasWidth,y=this.canvasHeight,x=m.get("chartRangeMin")===l?s.min.apply(s,g):m.get("chartRangeMin"),b=m.get("chartRangeMax")===l?s.max.apply(s,g):m.get("chartRangeMax"),k=0;if(E._super.render.call(this)){if(m.get("raw"))m.get("showOutliers")&&g.length>5?(e=g[0],t=g[1],r=g[2],i=g[3],o=g[4],c=g[5],u=g[6]):(t=g[0],r=g[1],i=g[2],o=g[3],c=g[4]);else if(g.sort(function(t,e){return t-e}),r=a(g,1),i=a(g,2),o=a(g,3),n=o-r,m.get("showOutliers")){for(t=c=l,d=0;d<v;d++)t===l&&g[d]>r-n*m.get("outlierIQR")&&(t=g[d]),g[d]<o+n*m.get("outlierIQR")&&(c=g[d]);e=g[0],u=g[v-1]}else t=g[0],c=g[v-1];this.quartiles=[r,i,o],this.lwhisker=t,this.rwhisker=c,this.loutlier=e,this.routlier=u,f=_/(b-x+1),m.get("showOutliers")&&(k=s.ceil(m.get("spotRadius")),_-=2*s.ceil(m.get("spotRadius")),f=_/(b-x+1),e<t&&p.drawCircle((e-x)*f+k,y/2,m.get("spotRadius"),m.get("outlierLineColor"),m.get("outlierFillColor")).append(),u>c&&p.drawCircle((u-x)*f+k,y/2,m.get("spotRadius"),m.get("outlierLineColor"),m.get("outlierFillColor")).append()),p.drawRect(s.round((r-x)*f+k),s.round(.1*y),s.round((o-r)*f),s.round(.8*y),m.get("boxLineColor"),m.get("boxFillColor")).append(),p.drawLine(s.round((t-x)*f+k),s.round(y/2),s.round((r-x)*f+k),s.round(y/2),m.get("lineColor")).append(),p.drawLine(s.round((t-x)*f+k),s.round(y/4),s.round((t-x)*f+k),s.round(y-y/4),m.get("whiskerColor")).append(),p.drawLine(s.round((c-x)*f+k),s.round(y/2),s.round((o-x)*f+k),s.round(y/2),m.get("lineColor")).append(),p.drawLine(s.round((c-x)*f+k),s.round(y/4),s.round((c-x)*f+k),s.round(y-y/4),m.get("whiskerColor")).append(),p.drawLine(s.round((i-x)*f+k),s.round(.1*y),s.round((i-x)*f+k),s.round(.9*y),m.get("medianColor")).append(),m.get("target")&&(h=s.ceil(m.get("spotRadius")),p.drawLine(s.round((m.get("target")-x)*f+k),s.round(y/2-h),s.round((m.get("target")-x)*f+k),s.round(y/2+h),m.get("targetColor")).append(),p.drawLine(s.round((m.get("target")-x)*f+k-h),s.round(y/2),s.round((m.get("target")-x)*f+k+h),s.round(y/2),m.get("targetColor")).append()),p.render()}}}),R=n({init:function(t,e,n,r){this.target=t,this.id=e,this.type=n,this.args=r},append:function(){return this.target.appendShape(this),this}}),L=n({_pxregex:/(\d+)(px)?\s*$/i,init:function(e,n,r){e&&(this.width=e,this.height=n,this.target=r,this.lastShapeId=null,r[0]&&(r=r[0]),t.data(r,"_jqs_vcanvas",this))},drawLine:function(t,e,n,r,i,a){return this.drawShape([[t,e],[n,r]],i,a)},drawShape:function(t,e,n,r){return this._genShape("Shape",[t,e,n,r])},drawCircle:function(t,e,n,r,i,a){return this._genShape("Circle",[t,e,n,r,i,a])},drawPieSlice:function(t,e,n,r,i,a,o){return this._genShape("PieSlice",[t,e,n,r,i,a,o])},drawRect:function(t,e,n,r,i,a){return this._genShape("Rect",[t,e,n,r,i,a])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(e,n){t(n).html(e)},_calculatePixelDims:function(e,n,r){var i;i=this._pxregex.exec(n),i?this.pixelHeight=i[1]:this.pixelHeight=t(r).height(),i=this._pxregex.exec(e),i?this.pixelWidth=i[1]:this.pixelWidth=t(r).width()},_genShape:function(t,e){var n=F++;return e.unshift(n),new R(this,n,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,n){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),T=n(L,{init:function(e,n,r,i){T._super.init.call(this,e,n,r),this.canvas=o.createElement("canvas"),r[0]&&(r=r[0]),t.data(r,"_jqs_vcanvas",this),t(this.canvas).css({display:"inline-block",width:e,height:n,verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(e,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=i,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=l,t(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,n){var r=this.canvas.getContext("2d");
return t!==l&&(r.strokeStyle=t),r.lineWidth=n===l?1:n,e!==l&&(r.fillStyle=e),r},reset:function(){var t=this._getContext();t.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=l},_drawShape:function(t,e,n,r,i){var a,o,s=this._getContext(n,r,i);for(s.beginPath(),s.moveTo(e[0][0]+.5,e[0][1]+.5),a=1,o=e.length;a<o;a++)s.lineTo(e[a][0]+.5,e[a][1]+.5);n!==l&&s.stroke(),r!==l&&s.fill(),this.targetX!==l&&this.targetY!==l&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,e,n,r,i,a,o){var c=this._getContext(i,a,o);c.beginPath(),c.arc(e,n,r,0,2*s.PI,!1),this.targetX!==l&&this.targetY!==l&&c.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),i!==l&&c.stroke(),a!==l&&c.fill()},_drawPieSlice:function(t,e,n,r,i,a,o,s){var c=this._getContext(o,s);c.beginPath(),c.moveTo(e,n),c.arc(e,n,r,i,a,!1),c.lineTo(e,n),c.closePath(),o!==l&&c.stroke(),s&&c.fill(),this.targetX!==l&&this.targetY!==l&&c.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,n,r,i,a,o){return this._drawShape(t,[[e,n],[e+r,n],[e+r,n+i],[e,n+i],[e,n]],a,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var n,r=this.shapeseq;for(this.shapes[e.id]=e,n=r.length;n--;)r[n]==t&&(r[n]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var n,r,i,a=this.shapeseq,o={};for(r=t.length;r--;)o[t[r]]=!0;for(r=a.length;r--;)n=a[r],o[n]&&(a.splice(r,1),delete this.shapes[n],i=r);for(r=e.length;r--;)a.splice(i,0,e[r].id),this.shapes[e[r].id]=e[r]},insertAfterShape:function(t,e){var n,r=this.shapeseq;for(n=r.length;n--;)if(r[n]===t)return r.splice(n+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,n=this.shapeseq;for(e=n.length;e--;)if(n[e]===t){n.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,n){return this.targetX=e,this.targetY=n,this.render(),this.currentTargetShapeId},render:function(){var t,e,n,r=this.shapeseq,i=this.shapes,a=r.length,o=this._getContext();for(o.clearRect(0,0,this.pixelWidth,this.pixelHeight),n=0;n<a;n++)t=r[n],e=i[t],this["_draw"+e.type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),D=n(L,{init:function(e,n,r){var i;D._super.init.call(this,e,n,r),r[0]&&(r=r[0]),t.data(r,"_jqs_vcanvas",this),this.canvas=o.createElement("span"),t(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:n,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(e,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,i='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",i),this.group=t(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,n,r,i){var a,o,s,c,u,d,h,f=[];for(h=0,d=e.length;h<d;h++)f[h]=""+e[h][0]+","+e[h][1];return a=f.splice(0,1),i=i===l?1:i,o=n===l?' stroked="false" ':' strokeWeight="'+i+'px" strokeColor="'+n+'" ',s=r===l?' filled="false"':' fillColor="'+r+'" filled="true" ',c=f[0]===f[f.length-1]?"x ":"",u='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+o+s+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+a+" l "+f.join(", ")+" "+c+'e"> </v:shape>'},_drawCircle:function(t,e,n,r,i,a,o){var s,c,u;return e-=r,n-=r,s=i===l?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+i+'" ',c=a===l?' filled="false"':' fillColor="'+a+'" filled="true" ',u='<v:oval  id="jqsshape'+t+'" '+s+c+' style="position:absolute;top:'+n+"px; left:"+e+"px; width:"+2*r+"px; height:"+2*r+'px"></v:oval>'},_drawPieSlice:function(t,e,n,r,i,a,o,c){var u,d,h,f,p,g,v,m;if(i===a)return"";if(a-i===2*s.PI&&(i=0,a=2*s.PI),d=e+s.round(s.cos(i)*r),h=n+s.round(s.sin(i)*r),f=e+s.round(s.cos(a)*r),p=n+s.round(s.sin(a)*r),d===f&&h===p){if(a-i<s.PI)return"";d=f=e+r,h=p=n}return d===f&&h===p&&a-i<s.PI?"":(u=[e-r,n-r,e+r,n+r,d,h,f,p],g=o===l?' stroked="false" ':' strokeWeight="1px" strokeColor="'+o+'" ',v=c===l?' filled="false"':' fillColor="'+c+'" filled="true" ',m='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+g+v+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+e+","+n+" wa "+u.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,n,r,i,a,o){return this._drawShape(t,[[e,n],[e,n+i],[e+r,n+i],[e+r,n],[e,n]],a,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(e,n){var r=t("#jqsshape"+e),i=this["_draw"+n.type].apply(this,n.args);r[0].outerHTML=i},replaceWithShapes:function(e,n){var r,i=t("#jqsshape"+e[0]),a="",o=n.length;for(r=0;r<o;r++)a+=this["_draw"+n[r].type].apply(this,n[r].args);for(i[0].outerHTML=a,r=1;r<e.length;r++)t("#jqsshape"+e[r]).remove()},insertAfterShape:function(e,n){var r=t("#jqsshape"+e),i=this["_draw"+n.type].apply(this,n.args);r[0].insertAdjacentHTML("afterEnd",i)},removeShapeId:function(e){var n=t("#jqsshape"+e);this.group.removeChild(n[0])},getShapeAt:function(t,e,n){var r=t.id.substr(8);return r},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})})(document,Math)},753:function(t,e,n){(function(r){(function(){var i={};i.dev=!1,i.tooltip=i.tooltip||{},i.utils=i.utils||{},i.models=i.models||{},i.charts={},i.logs={},i.dom={},"undefined"!=typeof t&&"undefined"!=typeof e&&"undefined"==typeof r&&(r=n(720)),i.dispatch=r.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),i.dev&&(i.dispatch.on("render_start",function(t){i.logs.startTime=+new Date}),i.dispatch.on("render_end",function(t){i.logs.endTime=+new Date,i.logs.totalTime=i.logs.endTime-i.logs.startTime,i.log("total",i.logs.totalTime)})),i.log=function(){if(i.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(i.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]},i.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},i.render=function(t){t=t||1,i.render.active=!0,i.dispatch.render_start();var e=function(){for(var n,r,a=0;a<t&&(r=i.render.queue[a]);a++)n=r.generate(),typeof r.callback==typeof Function&&r.callback(n);i.render.queue.splice(0,a),i.render.queue.length?setTimeout(e):(i.dispatch.render_end(),i.render.active=!1)};setTimeout(e)},i.render.active=!1,i.render.queue=[],i.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),i.render.queue.push(t),i.render.active||i.render()},t.exports=i,"undefined"!=typeof window&&(window.nv=i),i.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},i.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},i.interactiveGuideline=function(){"use strict";function layer(d){d.each(function(d){function mouseHandler(){var e=r.mouse(this),n=e[0],i=e[1],s=!0,l=!1;if(u&&(n=r.event.offsetX,i=r.event.offsetY,"svg"!==r.event.target.tagName&&(s=!1),r.event.target.className.baseVal.match("nv-legend")&&(l=!0)),s&&(n-=t.left,i-=t.top),"mouseout"===r.event.type||n<0||i<0||n>f||i>p||r.event.relatedTarget&&void 0===r.event.relatedTarget.ownerSVGElement||l){if(u&&r.event.relatedTarget&&void 0===r.event.relatedTarget.ownerSVGElement&&(void 0===r.event.relatedTarget.className||r.event.relatedTarget.className.match(c.nvPointerEventsClass)))return;return o.elementMouseout({mouseX:n,mouseY:i}),layer.renderGuideLine(null),void c.hidden(!0)}c.hidden(!1);var d="function"==typeof a.rangeBands,h=void 0;if(d){var g=r.bisect(a.range(),n)-1;if(!(a.range()[g]+a.rangeBand()>=n))return o.elementMouseout({mouseX:n,mouseY:i}),layer.renderGuideLine(null),void c.hidden(!0);h=a.domain()[r.bisect(a.range(),n)-1]}else h=a.invert(n);o.elementMousemove({mouseX:n,mouseY:i,pointXValue:h}),"dblclick"===r.event.type&&o.elementDblclick({mouseX:n,mouseY:i,pointXValue:h}),"click"===r.event.type&&o.elementClick({mouseX:n,mouseY:i,pointXValue:h}),"mousedown"===r.event.type&&o.elementMouseDown({mouseX:n,mouseY:i,pointXValue:h}),"mouseup"===r.event.type&&o.elementMouseUp({mouseX:n,mouseY:i,pointXValue:h})}var h=r.select(this),f=e||960,p=n||400,g=h.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]),v=g.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");v.append("g").attr("class","nv-interactiveGuideLine"),l&&(l.on("touchmove",mouseHandler).on("mousemove",mouseHandler,!0).on("mouseout",mouseHandler,!0).on("mousedown",mouseHandler,!0).on("mouseup",mouseHandler,!0).on("dblclick",mouseHandler).on("click",mouseHandler),layer.guideLine=null,layer.renderGuideLine=function(t){s&&(layer.guideLine&&layer.guideLine.attr("x1")===t||i.dom.write(function(){var e=g.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[i.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",p).attr("y2",0),e.exit().remove()}))})})}var t={left:0,top:0},e=null,n=null,a=r.scale.linear(),o=r.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),s=!0,l=null,c=i.models.tooltip(),u=window.ActiveXObject;return c.duration(0).hideDelay(0).hidden(!1),layer.dispatch=o,layer.tooltip=c,layer.margin=function(e){return arguments.length?(t.top="undefined"!=typeof e.top?e.top:t.top,t.left="undefined"!=typeof e.left?e.left:t.left,layer):t},layer.width=function(t){return arguments.length?(e=t,layer):e},layer.height=function(t){return arguments.length?(n=t,layer):n},layer.xScale=function(t){return arguments.length?(a=t,layer):a},layer.showGuideLine=function(t){return arguments.length?(s=t,layer):s},layer.svgContainer=function(t){return arguments.length?(l=t,layer):l},layer},i.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var i;i="function"!=typeof n?function(t){return t.x}:n;var a=function(t,e){return i(t)-e},o=r.bisector(a).left,s=r.max([0,o(t,e)-1]),l=i(t[s]);if("undefined"==typeof l&&(l=s),l===e)return s;var c=r.min([s+1,t.length-1]),u=i(t[c]);return"undefined"==typeof u&&(u=c),Math.abs(u-e)>=Math.abs(l-e)?s:c},i.nearestValueIndex=function(t,e,n){"use strict";var r=1/0,i=null;return t.forEach(function(t,a){var o=Math.abs(e-t);null!=t&&o<=r&&o<n&&(r=o,i=a)}),i},i.models.tooltip=function(){"use strict";function initTooltip(){if(!u||!u.node()){var e=[1];u=r.select(document.body).selectAll(".nvtooltip").data(e),u.enter().append("div").attr("class","nvtooltip "+(s?s:"xy-tooltip")).attr("id",t).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(g,!0).classed(g,!0),u.exit().remove()}}function nvtooltip(){if(h&&b(e))return i.dom.write(function(){initTooltip();var t=y(e);t&&(u.node().innerHTML=t),w()}),nvtooltip}var t="nvtooltip-"+Math.floor(1e5*Math.random()),e=null,n="w",a=25,o=0,s=null,l=!0,c=200,u=null,d={left:null,top:null},h=!0,f=100,p=!0,g="nv-pointer-events-none",v=function(t,e){return t},m=function(t){return t},_=function(t,e){return t},y=function(t){if(null===t)return"";var e=r.select(document.createElement("table"));if(p){var n=e.selectAll("thead").data([t]).enter().append("thead");n.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(m(t.value))}var i=e.selectAll("tbody").data([t]).enter().append("tbody"),a=i.selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});a.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),a.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return _(t.key,e)}),a.append("td").classed("value",!0).html(function(t,e){return v(t.value,e)}),a.filter(function(t,e){return void 0!==t.percent}).append("td").classed("percent",!0).html(function(t,e){return"("+r.format("%")(t.percent)+")"}),a.selectAll("td").each(function(t){if(t.highlight){var e=r.scale.linear().domain([0,1]).range(["#fff",t.color]),n=.6;r.select(this).style("border-bottom-color",e(n)).style("border-top-color",e(n))}});var o=e.node().outerHTML;return void 0!==t.footer&&(o+="<div class='footer'>"+t.footer+"</div>"),o},x=function(){var t={left:null!==r.event?r.event.clientX:0,top:null!==r.event?r.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},b=function(t){if(t&&t.series){if(i.utils.isArray(t.series))return!0;if(i.utils.isObject(t.series))return t.series=[t.series],!0}return!1},k=function(t){var e,r,i,o=u.node().offsetHeight,s=u.node().offsetWidth,l=document.documentElement.clientWidth,c=document.documentElement.clientHeight;switch(n){case"e":e=-s-a,r=-(o/2),t.left+e<0&&(e=a),(i=t.top+r)<0&&(r-=i),(i=t.top+r+o)>c&&(r-=i-c);break;case"w":e=a,r=-(o/2),t.left+e+s>l&&(e=-s-a),(i=t.top+r)<0&&(r-=i),(i=t.top+r+o)>c&&(r-=i-c);break;case"n":e=-(s/2)-5,r=a,t.top+r+o>c&&(r=-o-a),(i=t.left+e)<0&&(e-=i),(i=t.left+e+s)>l&&(e-=i-l);break;case"s":e=-(s/2),r=-o-a,t.top+r<0&&(r=a),(i=t.left+e)<0&&(e-=i),(i=t.left+e+s)>l&&(e-=i-l);break;case"center":e=-(s/2),r=-(o/2);break;default:e=0,r=0}return{left:e,top:r}},w=function(){i.dom.read(function(){var t=x(),e=k(t),n=t.left+e.left,i=t.top+e.top;if(l)u.interrupt().transition().delay(c).duration(0).style("opacity",0);else{var a="translate("+d.left+"px, "+d.top+"px)",o="translate("+Math.round(n)+"px, "+Math.round(i)+"px)",s=r.interpolateString(a,o),h=u.style("opacity")<.1;u.interrupt().transition().duration(h?0:f).styleTween("transform",function(t){return s},"important").styleTween("-webkit-transform",function(t){return s}).style("-ms-transform",o).style("opacity",1)}d.left=n,d.top=i})};return nvtooltip.nvPointerEventsClass=g,nvtooltip.options=i.utils.optionsFunc.bind(nvtooltip),nvtooltip._options=Object.create({},{duration:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return n},set:function(t){n=t}},distance:{get:function(){return a},set:function(t){a=t}},snapDistance:{get:function(){return o},set:function(t){o=t}},classes:{get:function(){return s},set:function(t){s=t}},enabled:{get:function(){return h},set:function(t){h=t}},hideDelay:{get:function(){return c},set:function(t){c=t}},contentGenerator:{get:function(){return y},set:function(t){y=t}},valueFormatter:{get:function(){return v},set:function(t){v=t}},headerFormatter:{get:function(){return m},set:function(t){m=t}},keyFormatter:{get:function(){return _},set:function(t){_=t}},headerEnabled:{get:function(){return p},set:function(t){p=t}},position:{get:function(){return x},set:function(t){x=t}},chartContainer:{get:function(){return document.body},set:function(t){i.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(t){i.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){i.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return l},set:function(t){l!=t&&(l=!!t,nvtooltip())}},data:{get:function(){return e},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),e=t}},node:{get:function(){return u.node()},set:function(t){}},id:{get:function(){return t},set:function(t){}}}),i.utils.initOptions(nvtooltip),nvtooltip},i.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight,t):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight,t):document.body&&document.body.offsetWidth?(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight,t):t},i.utils.isArray=Array.isArray,i.utils.isObject=function(t){return null!==t&&"object"==typeof t},i.utils.isFunction=function(t){return"function"==typeof t},i.utils.isDate=function(t){return"[object Date]"===toString.call(t)},i.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},i.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):i.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},i.utils.getColor=function(t){if(void 0===t)return i.utils.defaultColor();if(i.utils.isArray(t)){var e=r.scale.ordinal().range(t);return function(t,n){var r=void 0===n?t:n;return t.color||e(r)}}return t},i.utils.defaultColor=function(){return i.utils.getColor(r.scale.category20().range())},i.utils.customTheme=function(t,e,n){e=e||function(t){return t.key},n=n||r.scale.category20().range();var a=n.length;return function(r,o){var s=e(r);return i.utils.isFunction(t[s])?t[s]():void 0!==t[s]?t[s]:(a||(a=n.length),a-=1,n[a])}},i.utils.pjax=function(t,e){var n=function(n){r.html(n,function(n){var a=r.select(e).node();a.parentNode.replaceChild(r.select(n).select(e).node(),a),i.utils.pjax(t,e)})};r.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),n(this.href),r.event.preventDefault()}),r.select(window).on("popstate",function(){r.event.state&&n(r.event.state)})},i.utils.calcApproxTextWidth=function(t){if(i.utils.isFunction(t.style)&&i.utils.isFunction(t.text)){var e=parseInt(t.style("font-size").replace("px",""),10),n=t.text().length;return i.utils.NaNtoZero(n*e*.5)}return 0},i.utils.NaNtoZero=function(t){return!i.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-(1/0)?0:t},r.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},i.utils.renderWatch=function(t,e){if(!(this instanceof i.utils.renderWatch))return new i.utils.renderWatch(t,e);var n=void 0!==e?e:250,r=[],a=this;this.models=function(t){return t=[].slice.call(arguments,0),t.forEach(function(t){t.__rendered=!1,function(t){t.dispatch.on("renderEnd",function(e){t.__rendered=!0,a.renderEnd("model")})}(t),r.indexOf(t)<0&&r.push(t)}),this},this.reset=function(t){void 0!==t&&(n=t),r=[]},this.transition=function(t,e,i){if(e=arguments.length>1?[].slice.call(arguments,1):[],i=e.length>1?e.pop():void 0!==n?n:250,t.__rendered=!1,r.indexOf(t)<0&&r.push(t),0===i)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;0===t.length?t.__rendered=!0:t.every(function(t){return!t.length})?t.__rendered=!0:t.__rendered=!1;var o=0;return t.transition().duration(i).each(function(){++o}).each("end",function(n,r){0===--o&&(t.__rendered=!0,a.renderEnd.apply(this,e))})},this.renderEnd=function(){r.every(function(t){return t.__rendered})&&(r.forEach(function(t){t.__rendered=!1}),t.renderEnd.apply(this,arguments))}},i.utils.deepExtend=function(t){var e=arguments.length>1?[].slice.call(arguments,1):[];e.forEach(function(e){for(var n in e){var r=i.utils.isArray(t[n]),a=i.utils.isObject(t[n]),o=i.utils.isObject(e[n]);a&&!r&&o?i.utils.deepExtend(t[n],e[n]):t[n]=e[n]}})},i.utils.state=function(){if(!(this instanceof i.utils.state))return new i.utils.state;var t={},e=function(){},n=function(){return{}},a=null,o=null;this.dispatch=r.dispatch("change","set"),this.dispatch.on("set",function(t){e(t,!0)}),this.getter=function(t){return n=t,this},this.setter=function(t,n){return n||(n=function(){}),e=function(e,r){t(e),r&&n()},this},this.init=function(t){a=a||{},i.utils.deepExtend(a,t)};var s=function(){var e=n();if(JSON.stringify(e)===JSON.stringify(t))return!1;for(var r in e)void 0===t[r]&&(t[r]={}),t[r]=e[r],o=!0;return!0};this.update=function(){a&&(e(a,!1),a=null),s.call(this)&&this.dispatch.change(t)}},i.utils.optionsFunc=function(t){return t&&r.map(t).forEach(function(t,e){i.utils.isFunction(this[t])&&this[t](e)}.bind(this)),this},i.utils.calcTicksX=function(t,e){var n=1,r=0;for(r;r<e.length;r+=1){var a=e[r]&&e[r].values?e[r].values.length:0;n=a>n?a:n}return i.log("Requested number of ticks: ",t),i.log("Calculated max values to be: ",n),t=t>n?t=n-1:t,t=t<1?1:t,t=Math.floor(t),i.log("Calculating tick count as: ",t),t},i.utils.calcTicksY=function(t,e){return i.utils.calcTicksX(t,e)},i.utils.initOption=function(t,e){t._calls&&t._calls[e]?t[e]=t._calls[e]:(t[e]=function(n){return arguments.length?(t._overrides[e]=!0,t._options[e]=n,t):t._options[e]},t["_"+e]=function(n){return arguments.length?(t._overrides[e]||(t._options[e]=n),t):t._options[e]})},i.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),n=Object.getOwnPropertyNames(t._calls||{});e=e.concat(n);for(var r in e)i.utils.initOption(t,e[r])},i.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),n.unshift(e),n.unshift(t),r.rebind.apply(this,n)},i.utils.arrayUnique=function(t){return t.sort().filter(function(e,n){return!n||e!=t[n-1]})},i.utils.symbolMap=r.map(),i.utils.symbol=function(){function symbol(n,a){var o=t.call(this,n,a),s=e.call(this,n,a);return r.svg.symbolTypes.indexOf(o)!==-1?r.svg.symbol().type(o).size(s)():i.utils.symbolMap.get(o)(s)}var t,e=64;return symbol.type=function(e){return arguments.length?(t=r.functor(e),symbol):t},symbol.size=function(t){return arguments.length?(e=r.functor(t),symbol):e},symbol},i.utils.inheritOptions=function(t,e){var n=Object.getOwnPropertyNames(e._options||{}),a=Object.getOwnPropertyNames(e._calls||{}),o=e._inherited||[],s=e._d3options||[],l=n.concat(a).concat(o).concat(s);l.unshift(e),l.unshift(t),r.rebind.apply(this,l),t._inherited=i.utils.arrayUnique(n.concat(a).concat(o).concat(n).concat(t._inherited||[])),t._d3options=i.utils.arrayUnique(s.concat(t._d3options||[]))},i.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},i.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},i.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},i.utils.availableHeight=function(t,e,n){return Math.max(0,i.utils.sanitizeHeight(t,e)-n.top-n.bottom)},i.utils.availableWidth=function(t,e,n){return Math.max(0,i.utils.sanitizeWidth(t,e)-n.left-n.right)},i.utils.noData=function(t,e){var n=t.options(),r=n.margin(),a=n.noData(),o=null==a?["No Data Available."]:[a],s=i.utils.availableHeight(null,e,r),l=i.utils.availableWidth(null,e,r),c=r.left+l/2,u=r.top+s/2;e.selectAll("g").remove();var d=e.selectAll(".nv-noData").data(o);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),d.attr("x",c).attr("y",u).text(function(t){return t})},i.utils.wrapTicks=function(t,e){t.each(function(){for(var t,n=r.select(this),i=n.text().split(/\s+/).reverse(),a=[],o=0,s=1.1,l=n.attr("y"),c=parseFloat(n.attr("dy")),u=n.text(null).append("tspan").attr("x",0).attr("y",l).attr("dy",c+"em");t=i.pop();)a.push(t),u.text(a.join(" ")),u.node().getComputedTextLength()>e&&(a.pop(),u.text(a.join(" ")),a=[t],u=n.append("tspan").attr("x",0).attr("y",l).attr("dy",++o*s+c+"em").text(t))})},i.utils.arrayEquals=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!i.arrayEquals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},i.models.axis=function(){"use strict";function chart(o){return y.reset(),o.each(function(o){var v=r.select(this);i.utils.initSVG(v);var m=v.selectAll("g.nv-wrap.nv-axis").data([o]),x=m.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),b=(x.append("g"),m.select("g"));null!==f?t.ticks(f):"top"!=t.orient()&&"bottom"!=t.orient()||t.ticks(Math.abs(e.range()[1]-e.range()[0])/100),b.watchTransition(y,"axis").call(t),_=_||t.scale();var k=t.tickFormat();null==k&&(k=_.tickFormat());var w=b.selectAll("text.nv-axislabel").data([s||null]);w.exit().remove(),void 0!==g&&b.selectAll("g").select("text").style("font-size",g);var M,C,S;switch(t.orient()){case"top":w.enter().append("text").attr("class","nv-axislabel"),S=0,1===e.range().length?S=h?2*e.range()[0]+e.rangeBand():0:2===e.range().length?S=h?e.range()[0]+e.range()[1]+e.rangeBand():e.range()[1]:e.range().length>2&&(S=e.range()[e.range().length-1]+(e.range()[1]-e.range()[0])),w.attr("text-anchor","middle").attr("y",0).attr("x",S/2),l&&(C=m.selectAll("g.nv-axisMaxMin").data(e.domain()),C.enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),C.exit().remove(),C.attr("transform",function(t,n){return"translate("+i.utils.NaNtoZero(e(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-t.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=k(t);return(""+n).match("NaN")?"":n}),C.watchTransition(y,"min-max top").attr("transform",function(t,n){return"translate("+i.utils.NaNtoZero(e.range()[n])+",0)"}));break;case"bottom":M=p+36;var A=30,E=0,N=b.selectAll("g").select("text"),P="";if(c%360){N.attr("transform",""),N.each(function(t,e){var n=this.getBoundingClientRect(),r=n.width;E=n.height,r>A&&(A=r)}),P="rotate("+c+" 0,"+(E/2+t.tickPadding())+")";var R=Math.abs(Math.sin(c*Math.PI/180));M=(R?R*A:A)+30,N.attr("transform",P).style("text-anchor",c%360>0?"start":"end")}else d?N.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}):N.attr("transform","translate(0,0)");w.enter().append("text").attr("class","nv-axislabel"),S=0,1===e.range().length?S=h?2*e.range()[0]+e.rangeBand():0:2===e.range().length?S=h?e.range()[0]+e.range()[1]+e.rangeBand():e.range()[1]:e.range().length>2&&(S=e.range()[e.range().length-1]+(e.range()[1]-e.range()[0])),w.attr("text-anchor","middle").attr("y",M).attr("x",S/2),l&&(C=m.selectAll("g.nv-axisMaxMin").data([e.domain()[0],e.domain()[e.domain().length-1]]),C.enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),C.exit().remove(),C.attr("transform",function(t,n){return"translate("+i.utils.NaNtoZero(e(t)+(h?e.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",t.tickPadding()).attr("transform",P).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(t,e){var n=k(t);return(""+n).match("NaN")?"":n}),C.watchTransition(y,"min-max bottom").attr("transform",function(t,n){return"translate("+i.utils.NaNtoZero(e(t)+(h?e.rangeBand()/2:0))+",0)"}));break;case"right":w.enter().append("text").attr("class","nv-axislabel"),w.style("text-anchor",u?"middle":"begin").attr("transform",u?"rotate(90)":"").attr("y",u?-Math.max(n.right,a)+12-(p||0):-10).attr("x",u?r.max(e.range())/2:t.tickPadding()),l&&(C=m.selectAll("g.nv-axisMaxMin").data(e.domain()),C.enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),C.exit().remove(),C.attr("transform",function(t,n){return"translate(0,"+i.utils.NaNtoZero(e(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",t.tickPadding()).style("text-anchor","start").text(function(t,e){var n=k(t);return(""+n).match("NaN")?"":n}),C.watchTransition(y,"min-max right").attr("transform",function(t,n){return"translate(0,"+i.utils.NaNtoZero(e.range()[n])+")"}).select("text").style("opacity",1));break;case"left":w.enter().append("text").attr("class","nv-axislabel"),w.style("text-anchor",u?"middle":"end").attr("transform",u?"rotate(-90)":"").attr("y",u?-Math.max(n.left,a)+25-(p||0):-10).attr("x",u?-r.max(e.range())/2:-t.tickPadding()),l&&(C=m.selectAll("g.nv-axisMaxMin").data(e.domain()),C.enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),C.exit().remove(),C.attr("transform",function(t,e){return"translate(0,"+i.utils.NaNtoZero(_(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-t.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=k(t);return(""+n).match("NaN")?"":n}),C.watchTransition(y,"min-max right").attr("transform",function(t,n){return"translate(0,"+i.utils.NaNtoZero(e.range()[n])+")"}).select("text").style("opacity",1))}if(w.text(function(t){return t}),!l||"left"!==t.orient()&&"right"!==t.orient()||(b.selectAll("g").each(function(t,n){r.select(this).select("text").attr("opacity",1),(e(t)<e.range()[1]+10||e(t)>e.range()[0]-10)&&((t>1e-10||t<-1e-10)&&r.select(this).attr("opacity",0),r.select(this).select("text").attr("opacity",0))}),e.domain()[0]==e.domain()[1]&&0==e.domain()[0]&&m.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),l&&("top"===t.orient()||"bottom"===t.orient())){var L=[];m.selectAll("g.nv-axisMaxMin").each(function(t,n){try{n?L.push(e(t)-this.getBoundingClientRect().width-4):L.push(e(t)+this.getBoundingClientRect().width+4)}catch(r){n?L.push(e(t)-4):L.push(e(t)+4)}}),b.selectAll("g").each(function(t,n){(e(t)<L[0]||e(t)>L[1])&&(t>1e-10||t<-1e-10?r.select(this).remove():r.select(this).select("text").remove())})}b.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),_=e.copy()}),y.renderEnd("axis immediate"),chart}var t=r.svg.axis(),e=r.scale.linear(),n={top:0,right:0,bottom:0,left:0},a=75,o=60,s=null,l=!0,c=0,u=!0,d=!1,h=!1,f=null,p=0,g=void 0,v=250,m=r.dispatch("renderEnd");t.scale(e).orient("bottom").tickFormat(function(t){return t});var _,y=i.utils.renderWatch(m,v);return chart.axis=t,chart.dispatch=m,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{axisLabelDistance:{get:function(){return p},set:function(t){p=t}},staggerLabels:{get:function(){return d},set:function(t){d=t}},rotateLabels:{get:function(){return c},set:function(t){c=t}},rotateYLabel:{get:function(){return u},set:function(t){u=t}},showMaxMin:{get:function(){return l},set:function(t){l=t}},axisLabel:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return o},set:function(t){o=t}},ticks:{get:function(){return f},set:function(t){f=t}},width:{get:function(){return a},set:function(t){a=t}},fontSize:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},duration:{get:function(){return v},set:function(t){v=t,y.reset(v)}},scale:{get:function(){return e},set:function(n){e=n,t.scale(e),h="function"==typeof e.rangeBands,i.utils.inheritOptionsD3(chart,e,["domain","range","rangeBand","rangeBands"])}}}),i.utils.initOptions(chart),i.utils.inheritOptionsD3(chart,t,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),i.utils.inheritOptionsD3(chart,e,["domain","range","rangeBand","rangeBands"]),chart},i.models.boxPlot=function(){
"use strict";function chart(d){return P.reset(),d.each(function(d){var R=c-l.left-l.right,L=u-l.top-l.bottom;S=r.select(this),i.utils.initSVG(S),h.domain(t||d.map(function(t,e){return p(t,e)})).rangeBands(e||[0,R],.1);var T=[];if(!n){var D,z,B=[];d.forEach(function(t,e){var n=g(t),r=m(t),i=_(t),a=y(t),o=b(t);o&&o.forEach(function(t,e){B.push(k(t,e,void 0))}),i&&B.push(i),n&&B.push(n),r&&B.push(r),a&&B.push(a)}),D=r.min(B),z=r.max(B),T=[D,z]}f.domain(n||T),f.range(a||[L,0]),o=o||h,s=s||f.copy().range([f(0),f(0)]);var F=S.selectAll("g.nv-wrap").data([d]);F.enter().append("g").attr("class","nvd3 nv-wrap");F.attr("transform","translate("+l.left+","+l.top+")");var W=F.selectAll(".nv-boxplot").data(function(t){return t}),O=W.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);W.attr("class","nv-boxplot").attr("transform",function(t,e,n){return"translate("+(h(p(t,e))+.05*h.rangeBand())+", 0)"}).classed("hover",function(t){return t.hover}),W.watchTransition(P,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,e){return e*E/d.length}).attr("transform",function(t,e){return"translate("+(h(p(t,e))+.05*h.rangeBand())+", 0)"}),W.exit().remove(),O.each(function(t,e){var n=r.select(this);[_,y].forEach(function(r){if(r(t)){var i=r===_?"low":"high";n.append("line").style("stroke",x(t)||C(t,e)).attr("class","nv-boxplot-whisker nv-boxplot-"+i),n.append("line").style("stroke",x(t)||C(t,e)).attr("class","nv-boxplot-tick nv-boxplot-"+i)}})});var I=function(){return null===N?.9*h.rangeBand():Math.min(75,.9*h.rangeBand())},H=function(){return.45*h.rangeBand()-I()/2},q=function(){return.45*h.rangeBand()+I()/2};[_,y].forEach(function(t){var e=t===_?"low":"high",n=t===_?g:m;W.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(P,"nv-boxplot: boxplots").attr("x1",.45*h.rangeBand()).attr("y1",function(e,n){return f(t(e))}).attr("x2",.45*h.rangeBand()).attr("y2",function(t,e){return f(n(t))}),W.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(P,"nv-boxplot: boxplots").attr("x1",H).attr("y1",function(e,n){return f(t(e))}).attr("x2",q).attr("y2",function(e,n){return f(t(e))})}),[_,y].forEach(function(t){var e=t===_?"low":"high";O.selectAll(".nv-boxplot-"+e).on("mouseover",function(e,n,i){r.select(this).classed("hover",!0),A.elementMouseover({series:{key:t(e),color:x(e)||C(e,i)},e:r.event})}).on("mouseout",function(e,n,i){r.select(this).classed("hover",!1),A.elementMouseout({series:{key:t(e),color:x(e)||C(e,i)},e:r.event})}).on("mousemove",function(t,e){A.elementMousemove({e:r.event})})}),O.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){r.select(this).classed("hover",!0),A.elementMouseover({key:p(t),value:p(t),series:[{key:"Q3",value:m(t),color:x(t)||C(t,e)},{key:"Q2",value:v(t),color:x(t)||C(t,e)},{key:"Q1",value:g(t),color:x(t)||C(t,e)}],data:t,index:e,e:r.event})}).on("mouseout",function(t,e){r.select(this).classed("hover",!1),A.elementMouseout({key:p(t),value:p(t),series:[{key:"Q3",value:m(t),color:x(t)||C(t,e)},{key:"Q2",value:v(t),color:x(t)||C(t,e)},{key:"Q1",value:g(t),color:x(t)||C(t,e)}],data:t,index:e,e:r.event})}).on("mousemove",function(t,e){A.elementMousemove({e:r.event})}),W.select("rect.nv-boxplot-box").watchTransition(P,"nv-boxplot: boxes").attr("y",function(t,e){return f(m(t))}).attr("width",I).attr("x",H).attr("height",function(t,e){return Math.abs(f(m(t))-f(g(t)))||1}).style("fill",function(t,e){return x(t)||C(t,e)}).style("stroke",function(t,e){return x(t)||C(t,e)}),O.append("line").attr("class","nv-boxplot-median"),W.select("line.nv-boxplot-median").watchTransition(P,"nv-boxplot: boxplots line").attr("x1",H).attr("y1",function(t,e){return f(v(t))}).attr("x2",q).attr("y2",function(t,e){return f(v(t))});var V=W.selectAll(".nv-boxplot-outlier").data(function(t){return b(t)||[]});V.enter().append("circle").style("fill",function(t,e,n){return M(t,e,n)||C(t,n)}).style("stroke",function(t,e,n){return M(t,e,n)||C(t,n)}).style("z-index",9e3).on("mouseover",function(t,e,n){r.select(this).classed("hover",!0),A.elementMouseover({series:{key:w(t,e,n),color:M(t,e,n)||C(t,n)},e:r.event})}).on("mouseout",function(t,e,n){r.select(this).classed("hover",!1),A.elementMouseout({series:{key:w(t,e,n),color:M(t,e,n)||C(t,n)},e:r.event})}).on("mousemove",function(t,e){A.elementMousemove({e:r.event})}),V.attr("class","nv-boxplot-outlier"),V.watchTransition(P,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*h.rangeBand()).attr("cy",function(t,e,n){return f(k(t,e,n))}).attr("r","3"),V.exit().remove(),o=h.copy(),s=f.copy()}),P.renderEnd("nv-boxplot immediate"),chart}var t,e,n,a,o,s,l={top:0,right:0,bottom:0,left:0},c=960,u=500,d=Math.floor(1e4*Math.random()),h=r.scale.ordinal(),f=r.scale.linear(),p=function(t){return t.label},g=function(t){return t.values.Q1},v=function(t){return t.values.Q2},m=function(t){return t.values.Q3},_=function(t){return t.values.whisker_low},y=function(t){return t.values.whisker_high},x=function(t){return t.color},b=function(t){return t.values.outliers},k=function(t,e,n){return t},w=function(t,e,n){return t},M=function(t,e,n){},C=i.utils.defaultColor(),S=null,A=r.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),E=250,N=null,P=i.utils.renderWatch(A,E);return chart.dispatch=A,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return u},set:function(t){u=t}},maxBoxWidth:{get:function(){return N},set:function(t){N=t}},x:{get:function(){return p},set:function(t){p=t}},q1:{get:function(){return g},set:function(t){g=t}},q2:{get:function(){return v},set:function(t){v=t}},q3:{get:function(){return m},set:function(t){m=t}},wl:{get:function(){return _},set:function(t){_=t}},wh:{get:function(){return y},set:function(t){y=t}},itemColor:{get:function(){return x},set:function(t){x=t}},outliers:{get:function(){return b},set:function(t){b=t}},outlierValue:{get:function(){return k},set:function(t){k=t}},outlierLabel:{get:function(){return w},set:function(t){w=t}},outlierColor:{get:function(){return M},set:function(t){M=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return e},set:function(t){e=t}},yRange:{get:function(){return a},set:function(t){a=t}},id:{get:function(){return d},set:function(t){d=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},color:{get:function(){return C},set:function(t){C=i.utils.getColor(t)}},duration:{get:function(){return E},set:function(t){E=t,P.reset(E)}}}),i.utils.initOptions(chart),chart},i.models.boxPlotChart=function(){"use strict";function chart(u){return y.reset(),y.models(n),d&&y.models(a),h&&y.models(o),u.each(function(u){var g=r.select(this);i.utils.initSVG(g);var y=(l||parseInt(g.style("width"))||960)-s.left-s.right,x=(c||parseInt(g.style("height"))||400)-s.top-s.bottom;if(chart.update=function(){m.beforeUpdate(),g.transition().duration(_).call(chart)},chart.container=this,!u||!u.length){var b=g.selectAll(".nv-noData").data([v]);return b.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),b.attr("x",s.left+y/2).attr("y",s.top+x/2).text(function(t){return t}),chart}g.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var k=g.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([u]),w=k.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),M=w.append("defs"),C=k.select("g");w.append("g").attr("class","nv-x nv-axis"),w.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),w.append("g").attr("class","nv-barsWrap"),C.attr("transform","translate("+s.left+","+s.top+")"),f&&C.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)"),n.width(y).height(x);var S=C.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled}));if(S.transition().call(n),M.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),C.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",t.rangeBand()*(p?2:1)).attr("height",16).attr("x",-t.rangeBand()/(p?1:2)),d){a.scale(t).ticks(i.utils.calcTicksX(y/100,u)).tickSize(-x,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),C.select(".nv-x.nv-axis").call(a);var A=C.select(".nv-x.nv-axis").selectAll("g");p&&A.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2===0?"5":"17")+")"})}h&&(o.scale(e).ticks(Math.floor(x/36)).tickSize(-y,0),C.select(".nv-y.nv-axis").call(o)),C.select(".nv-zeroLine line").attr("x1",0).attr("x2",y).attr("y1",e(0)).attr("y2",e(0))}),y.renderEnd("nv-boxplot chart immediate"),chart}var t,e,n=i.models.boxPlot(),a=i.models.axis(),o=i.models.axis(),s={top:15,right:10,bottom:50,left:60},l=null,c=null,u=i.utils.getColor(),d=!0,h=!0,f=!1,p=!1,g=i.models.tooltip(),v="No Data Available.",m=r.dispatch("beforeUpdate","renderEnd"),_=250;a.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),o.orient(f?"right":"left").tickFormat(r.format(",.1f")),g.duration(0);var y=i.utils.renderWatch(m,_);return n.dispatch.on("elementMouseover.tooltip",function(t){g.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){g.data(t).hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){g()}),chart.dispatch=m,chart.boxplot=n,chart.xAxis=a,chart.yAxis=o,chart.tooltip=g,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},staggerLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return d},set:function(t){d=t}},showYAxis:{get:function(){return h},set:function(t){h=t}},tooltipContent:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return _},set:function(t){_=t,y.reset(_),n.duration(_),a.duration(_),o.duration(_)}},color:{get:function(){return u},set:function(t){u=i.utils.getColor(t),n.color(u)}},rightAlignYAxis:{get:function(){return f},set:function(t){f=t,o.orient(t?"right":"left")}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.bullet=function(){"use strict";function sortLabels(t,e){var n=t.slice();t.sort(function(t,i){var a=n.indexOf(t),o=n.indexOf(i);return r.descending(e[a],e[o])})}function chart(e){return e.each(function(e,m){var k=p-t.left-t.right,w=g-t.top-t.bottom;v=r.select(this),i.utils.initSVG(v);var M=a.call(this,e,m).slice(),C=o.call(this,e,m).slice(),S=s.call(this,e,m).slice().sort(r.descending),A=l.call(this,e,m).slice(),E=c.call(this,e,m).slice(),N=u.call(this,e,m).slice(),P=d.call(this,e,m).slice(),R=h.call(this,e,m).slice();sortLabels(E,M),sortLabels(N,C),sortLabels(P,S),sortLabels(R,A),M.sort(r.descending),C.sort(r.descending),A.sort(r.descending);var L=r.scale.linear().domain(r.extent(r.merge([f,M]))).range(n?[k,0]:[0,k]);this.__chart__||r.scale.linear().domain([0,1/0]).range(L.range());this.__chart__=L;for(var T=(r.min(M),r.max(M),M[1],v.selectAll("g.nv-wrap.nv-bullet").data([e])),D=T.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),z=D.append("g"),B=T.select("g"),m=0,F=M.length;m<F;m++){var W="nv-range nv-range"+m;m<=2&&(W=W+" nv-range"+b[m]),z.append("rect").attr("class",W)}z.append("rect").attr("class","nv-measure"),T.attr("transform","translate("+t.left+","+t.top+")");for(var O=function(t){return Math.abs(L(t)-L(0))},I=function(t){return L(t<0?t:0)},m=0,F=M.length;m<F;m++){var H=M[m];B.select("rect.nv-range"+m).attr("height",w).attr("width",O(H)).attr("x",I(H)).datum(H)}B.select("rect.nv-measure").style("fill",_).attr("height",w/3).attr("y",w/3).attr("width",A<0?L(0)-L(A[0]):L(A[0])-L(0)).attr("x",I(A)).on("mouseover",function(){y.elementMouseover({value:A[0],label:R[0]||"Current",color:r.select(this).style("fill")})}).on("mousemove",function(){y.elementMousemove({value:A[0],label:R[0]||"Current",color:r.select(this).style("fill")})}).on("mouseout",function(){y.elementMouseout({value:A[0],label:R[0]||"Current",color:r.select(this).style("fill")})});var q=w/6,V=C.map(function(t,e){return{value:t,label:N[e]}});z.selectAll("path.nv-markerTriangle").data(V).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+q+"L"+q+","+-q+" "+-q+","+-q+"Z").on("mouseover",function(t){y.elementMouseover({value:t.value,label:t.label||"Previous",color:r.select(this).style("fill"),pos:[L(t.value),w/2]})}).on("mousemove",function(t){y.elementMousemove({value:t.value,label:t.label||"Previous",color:r.select(this).style("fill")})}).on("mouseout",function(t,e){y.elementMouseout({value:t.value,label:t.label||"Previous",color:r.select(this).style("fill")})}),B.selectAll("path.nv-markerTriangle").data(V).attr("transform",function(t){return"translate("+L(t.value)+","+w/2+")"});var j=S.map(function(t,e){return{value:t,label:P[e]}});z.selectAll("path.nv-markerLine").data(j).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(t){return L(t.value)}).attr("y1","2").attr("x2",function(t){return L(t.value)}).attr("y2",w-2).on("mouseover",function(t){y.elementMouseover({value:t.value,label:t.label||"Previous",color:r.select(this).style("fill"),pos:[L(t.value),w/2]})}).on("mousemove",function(t){y.elementMousemove({value:t.value,label:t.label||"Previous",color:r.select(this).style("fill")})}).on("mouseout",function(t,e){y.elementMouseout({value:t.value,label:t.label||"Previous",color:r.select(this).style("fill")})}),B.selectAll("path.nv-markerLines").data(j).attr("transform",function(t){return"translate("+L(t.value)+","+w/2+")"}),T.selectAll(".nv-range").on("mouseover",function(t,e){var n=E[e]||x[e];y.elementMouseover({value:t,label:n,color:r.select(this).style("fill")})}).on("mousemove",function(){y.elementMousemove({value:A[0],label:R[0]||"Previous",color:r.select(this).style("fill")})}).on("mouseout",function(t,e){var n=E[e]||x[e];y.elementMouseout({value:t,label:n,color:r.select(this).style("fill")})})}),chart}var t={top:0,right:0,bottom:0,left:0},e="left",n=!1,a=function(t){return t.ranges},o=function(t){return t.markers?t.markers:[]},s=function(t){return t.markerLines?t.markerLines:[0]},l=function(t){return t.measures},c=function(t){return t.rangeLabels?t.rangeLabels:[]},u=function(t){return t.markerLabels?t.markerLabels:[]},d=function(t){return t.markerLineLabels?t.markerLineLabels:[]},h=function(t){return t.measureLabels?t.measureLabels:[]},f=[0],p=380,g=30,v=null,m=null,_=i.utils.getColor(["#1f77b4"]),y=r.dispatch("elementMouseover","elementMouseout","elementMousemove"),x=["Maximum","Mean","Minimum"],b=["Max","Avg","Min"];return chart.dispatch=y,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{ranges:{get:function(){return a},set:function(t){a=t}},markers:{get:function(){return o},set:function(t){o=t}},measures:{get:function(){return l},set:function(t){l=t}},forceX:{get:function(){return f},set:function(t){f=t}},width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return g},set:function(t){g=t}},tickFormat:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},orient:{get:function(){return e},set:function(t){e=t,n="right"==e||"bottom"==e}},color:{get:function(){return _},set:function(t){_=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.bulletChart=function(){"use strict";function chart(e){return e.each(function(n,p){var g=r.select(this);i.utils.initSVG(g);var v=i.utils.availableWidth(u,g,o),m=d-o.top-o.bottom;if(chart.update=function(){chart(e)},chart.container=this,!n||!s.call(this,n,p))return i.utils.noData(chart,g),chart;g.selectAll(".nv-noData").remove();var _=s.call(this,n,p).slice().sort(r.descending),y=l.call(this,n,p).slice().sort(r.descending),x=c.call(this,n,p).slice().sort(r.descending),b=g.selectAll("g.nv-wrap.nv-bulletChart").data([n]),k=b.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),w=k.append("g"),M=b.select("g");w.append("g").attr("class","nv-bulletWrap"),w.append("g").attr("class","nv-titles"),b.attr("transform","translate("+o.left+","+o.top+")");var C=r.scale.linear().domain([0,Math.max(_[0],y[0]||0,x[0])]).range(a?[v,0]:[0,v]),S=this.__chart__||r.scale.linear().domain([0,1/0]).range(C.range());this.__chart__=C;var A=w.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(d-o.top-o.bottom)/2+")");A.append("text").attr("class","nv-title").text(function(t){return t.title}),A.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),t.width(v).height(m);var E=M.select(".nv-bulletWrap");r.transition(E).call(t);var N=h||C.tickFormat(v/100),P=M.selectAll("g.nv-tick").data(C.ticks(f?f:v/50),function(t){return this.textContent||N(t)}),R=P.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+S(t)+",0)"}).style("opacity",1e-6);R.append("line").attr("y1",m).attr("y2",7*m/6),R.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*m/6).text(N);var L=r.transition(P).attr("transform",function(t){return"translate("+C(t)+",0)"}).style("opacity",1);L.select("line").attr("y1",m).attr("y2",7*m/6),L.select("text").attr("y",7*m/6),r.transition(P.exit()).attr("transform",function(t){return"translate("+C(t)+",0)"}).style("opacity",1e-6).remove()}),r.timer.flush(),chart}var t=i.models.bullet(),e=i.models.tooltip(),n="left",a=!1,o={top:5,right:40,bottom:20,left:120},s=function(t){return t.ranges},l=function(t){return t.markers?t.markers:[]},c=function(t){return t.measures},u=null,d=55,h=null,f=null,p=null,g=r.dispatch();return e.duration(0).headerEnabled(!1),t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},e.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){e()}),chart.bullet=t,chart.dispatch=g,chart.tooltip=e,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{ranges:{get:function(){return s},set:function(t){s=t}},markers:{get:function(){return l},set:function(t){l=t}},measures:{get:function(){return c},set:function(t){c=t}},width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},tickFormat:{get:function(){return h},set:function(t){h=t}},ticks:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},orient:{get:function(){return n},set:function(t){n=t,a="right"==n||"bottom"==n}}}),i.utils.inheritOptions(chart,t),i.utils.initOptions(chart),chart},i.models.candlestickBar=function(){"use strict";function chart(w){return w.each(function(w){t=r.select(this);var M=i.utils.availableWidth(l,t,s),S=i.utils.availableHeight(c,t,s);i.utils.initSVG(t);var A=M/w[0].values.length*.45;d.domain(e||r.extent(w[0].values.map(f).concat(y))),b?d.range(a||[.5*M/w[0].values.length,M*(w[0].values.length-.5)/w[0].values.length]):d.range(a||[5+A/2,M-A/2-5]),h.domain(n||[r.min(w[0].values.map(_).concat(x)),r.max(w[0].values.map(m).concat(x))]).range(o||[S,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var E=r.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([w[0].values]),N=E.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),P=N.append("defs"),R=N.append("g"),L=E.select("g");R.append("g").attr("class","nv-ticks"),E.attr("transform","translate("+s.left+","+s.top+")"),t.on("click",function(t,e){C.chartClick({data:t,index:e,pos:r.event,id:u})}),P.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),E.select("#nv-chart-clip-path-"+u+" rect").attr("width",M).attr("height",S),L.attr("clip-path",k?"url(#nv-chart-clip-path-"+u+")":"");var T=E.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});T.exit().remove();var D=T.enter().append("g");T.attr("class",function(t,e,n){return(g(t,e)>v(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e});D.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+d(f(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return h(m(t,e))}).attr("x2",0).attr("y2",function(t,e){return h(_(t,e))}),D.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(d(f(t,e))-A/2)+","+(h(p(t,e))-(g(t,e)>v(t,e)?h(v(t,e))-h(g(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",A).attr("height",function(t,e){var n=g(t,e),r=v(t,e);return n>r?h(r)-h(n):h(n)-h(r)});T.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+d(f(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return h(m(t,e))}).attr("x2",0).attr("y2",function(t,e){return h(_(t,e))}),T.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(d(f(t,e))-A/2)+","+(h(p(t,e))-(g(t,e)>v(t,e)?h(v(t,e))-h(g(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",A).attr("height",function(t,e){var n=g(t,e),r=v(t,e);return n>r?h(r)-h(n):h(n)-h(r)})}),chart}var t,e,n,a,o,s={top:0,right:0,bottom:0,left:0},l=null,c=null,u=Math.floor(1e4*Math.random()),d=r.scale.linear(),h=r.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},g=function(t){return t.open},v=function(t){return t.close},m=function(t){return t.high},_=function(t){return t.low},y=[],x=[],b=!1,k=!0,w=i.utils.defaultColor(),M=!1,C=r.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return chart.highlightPoint=function(e,n){chart.clearHighlights(),t.select(".nv-candlestickBar .nv-tick-0-"+e).classed("hover",n)},chart.clearHighlights=function(){t.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},chart.dispatch=C,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return x},set:function(t){x=t}},padData:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return u},set:function(t){u=t}},interactive:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},open:{get:function(){return g()},set:function(t){g=t}},close:{get:function(){return v()},set:function(t){v=t}},high:{get:function(){return m},set:function(t){m=t}},low:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!=t.top?t.top:s.top,s.right=void 0!=t.right?t.right:s.right,s.bottom=void 0!=t.bottom?t.bottom:s.bottom,s.left=void 0!=t.left?t.left:s.left}},color:{get:function(){return w},set:function(t){w=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.cumulativeLineChart=function(){"use strict";function chart(u){return L.reset(),L.models(n),v&&L.models(a),m&&L.models(o),u.each(function(u){function dragStart(t,e){r.select(chart.container).style("cursor","ew-resize")}function dragMove(t,e){R.x=r.event.x,R.i=Math.round(P.invert(R.x)),updateZero()}function dragEnd(t,e){r.select(chart.container).style("cursor","auto"),w.index=R.i,A.stateChange(w)}function updateZero(){Z.data([R]);var t=chart.duration();chart.duration(0),chart.update(),chart.duration(t)}var C=r.select(this);i.utils.initSVG(C),C.classed("nv-chart-"+k,!0);var N=i.utils.availableWidth(f,C,d),L=i.utils.availableHeight(p,C,d);if(chart.update=function(){0===E?C.call(chart):C.transition().duration(E).call(chart)},chart.container=this,w.setter(D(u),chart.update).getter(T(u)).update(),w.disabled=u.map(function(t){return!!t.disabled}),!M){var z;M={};for(z in w)w[z]instanceof Array?M[z]=w[z].slice(0):M[z]=w[z]}var B=r.behavior.drag().on("dragstart",dragStart).on("drag",dragMove).on("dragend",dragEnd);if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,C),chart;if(C.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale(),b)n.yDomain(null);else{var F=u.filter(function(t){return!t.disabled}).map(function(t,e){var i=r.extent(t.values,n.y());return i[0]<-.95&&(i[0]=-.95),[(i[0]-i[1])/(1+i[1]),(i[1]-i[0])/(1+i[0])]}),W=[r.min(F,function(t){return t[0]}),r.max(F,function(t){return t[1]})];n.yDomain(W)}P.domain([0,u[0].values.length-1]).range([0,N]).clamp(!0);var u=indexify(R.i,u),O=x?"none":"all",I=C.selectAll("g.nv-wrap.nv-cumulativeLine").data([u]),H=I.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),q=I.select("g");if(H.append("g").attr("class","nv-interactive"),H.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-background"),H.append("g").attr("class","nv-linesWrap").style("pointer-events",O),H.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),H.append("g").attr("class","nv-legendWrap"),H.append("g").attr("class","nv-controlsWrap"),g?(s.width(N),q.select(".nv-legendWrap").datum(u).call(s),s.height()>d.top&&(d.top=s.height(),L=i.utils.availableHeight(p,C,d)),q.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")):q.select(".nv-legendWrap").selectAll("*").remove(),y){var V=[{key:"Re-scale y-axis",disabled:!b}];l.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),q.select(".nv-controlsWrap").datum(V).attr("transform","translate(0,"+-d.top+")").call(l)}else q.select(".nv-controlsWrap").selectAll("*").remove();I.attr("transform","translate("+d.left+","+d.top+")"),_&&q.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)");var j=u.filter(function(t){return t.tempDisabled});I.select(".tempDisabled").remove(),j.length&&I.append("text").attr("class","tempDisabled").attr("x",N/2).attr("y","-.71em").style("text-anchor","end").text(j.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),x&&(c.width(N).height(L).margin({left:d.left,top:d.top}).svgContainer(C).xScale(t),I.select(".nv-interactive").call(c)),H.select(".nv-background").append("rect"),q.select(".nv-background rect").attr("width",N).attr("height",L),n.y(function(t){return t.display.y}).width(N).height(L).color(u.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!u[e].disabled&&!u[e].tempDisabled}));var Y=q.select(".nv-linesWrap").datum(u.filter(function(t){return!t.disabled&&!t.tempDisabled}));Y.call(n),u.forEach(function(t,e){t.seriesIndex=e});var X=u.filter(function(t){return!t.disabled&&!!S(t)}),G=q.select(".nv-avgLinesWrap").selectAll("line").data(X,function(t){return t.key}),U=function(t){var n=e(S(t));return n<0?0:n>L?L:n};G.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return n.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",N).attr("y1",U).attr("y2",U),G.style("stroke-opacity",function(t){var n=e(S(t));return n<0||n>L?0:1}).attr("x1",0).attr("x2",N).attr("y1",U).attr("y2",U),G.exit().remove();var Z=Y.selectAll(".nv-indexLine").data([R]);Z.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(B),Z.attr("transform",function(t){return"translate("+P(t.i)+",0)"}).attr("height",L),v&&(a.scale(t)._ticks(i.utils.calcTicksX(N/70,u)).tickSize(-L,0),q.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),q.select(".nv-x.nv-axis").call(a)),m&&(o.scale(e)._ticks(i.utils.calcTicksY(L/36,u)).tickSize(-N,0),q.select(".nv-y.nv-axis").call(o)),q.select(".nv-background rect").on("click",function(){R.x=r.mouse(this)[0],R.i=Math.round(P.invert(R.x)),w.index=R.i,A.stateChange(w),updateZero()}),n.dispatch.on("elementClick",function(t){R.i=t.pointIndex,R.x=P(R.i),w.index=R.i,A.stateChange(w),updateZero()}),l.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,b=!t.disabled,w.rescaleY=b,A.stateChange(w),chart.update()}),s.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];A.stateChange(w),chart.update()}),c.dispatch.on("elementMousemove",function(t){n.clearHighlights();var e,r,s,l=[];if(u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,o){r=i.interactiveBisect(a.values,t.pointXValue,chart.x()),n.highlightPoint(o,r,!0);var c=a.values[r];"undefined"!=typeof c&&("undefined"==typeof e&&(e=c),"undefined"==typeof s&&(s=chart.xScale()(chart.x()(c,r))),l.push({key:a.key,value:chart.y()(c,r),color:h(a,a.seriesIndex)}))}),l.length>2){var d=chart.yScale().invert(t.mouseY),f=Math.abs(chart.yScale().domain()[0]-chart.yScale().domain()[1]),p=.03*f,g=i.nearestValueIndex(l.map(function(t){return t.value}),d,p);null!==g&&(l[g].highlight=!0)}var v=a.tickFormat()(chart.x()(e,r),r);c.tooltip.valueFormatter(function(t,e){return o.tickFormat()(t)}).data({value:v,series:l})(),c.renderGuideLine(s)}),c.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),A.on("changeState",function(t){"undefined"!=typeof t.disabled&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),"undefined"!=typeof t.index&&(R.i=t.index,R.x=P(R.i),w.index=t.index,Z.data([R])),"undefined"!=typeof t.rescaleY&&(b=t.rescaleY),chart.update()})}),L.renderEnd("cumulativeLineChart immediate"),chart}function indexify(t,e){return z||(z=n.y()),e.map(function(e,n){if(!e.values)return e;var r=e.values[t];if(null==r)return e;var i=z(r,t);return i<-.95&&!N?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(z(t,e)-i)/(1+i)},t}),e)})}var t,e,n=i.models.line(),a=i.models.axis(),o=i.models.axis(),s=i.models.legend(),l=i.models.legend(),c=i.interactiveGuideline(),u=i.models.tooltip(),d={top:30,right:30,bottom:50,left:60},h=i.utils.defaultColor(),f=null,p=null,g=!0,v=!0,m=!0,_=!1,y=!0,x=!1,b=!0,k=n.id(),w=i.utils.state(),M=null,C=null,S=function(t){return t.average},A=r.dispatch("stateChange","changeState","renderEnd"),E=250,N=!1;w.index=0,w.rescaleY=b,a.orient("bottom").tickPadding(7),o.orient(_?"right":"left"),u.valueFormatter(function(t,e){
return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return a.tickFormat()(t,e)}),l.updateState(!1);var P=r.scale.linear(),R={i:0,x:0},L=i.utils.renderWatch(A,E),T=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:R.i,rescaleY:b}}},D=function(t){return function(e){void 0!==e.index&&(R.i=e.index),void 0!==e.rescaleY&&(b=e.rescaleY),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};n.dispatch.on("elementMouseover.tooltip",function(t){var e={x:chart.x()(t.point),y:chart.y()(t.point),color:t.point.color};t.point=e,u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)});var z=null;return chart.dispatch=A,chart.lines=n,chart.legend=s,chart.controls=l,chart.xAxis=a,chart.yAxis=o,chart.interactiveLayer=c,chart.state=w,chart.tooltip=u,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},rescaleY:{get:function(){return b},set:function(t){b=t}},showControls:{get:function(){return y},set:function(t){y=t}},showLegend:{get:function(){return g},set:function(t){g=t}},average:{get:function(){return S},set:function(t){S=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return C},set:function(t){C=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},noErrorCheck:{get:function(){return N},set:function(t){N=t}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},color:{get:function(){return h},set:function(t){h=i.utils.getColor(t),s.color(h)}},useInteractiveGuideline:{get:function(){return x},set:function(t){x=t,t===!0&&(chart.interactive(!1),chart.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return _},set:function(t){_=t,o.orient(t?"right":"left")}},duration:{get:function(){return E},set:function(t){E=t,n.duration(E),a.duration(E),o.duration(E),L.reset(E)}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.discreteBar=function(){"use strict";function chart(h){return M.reset(),h.each(function(h){var w=u-c.left-c.right,C=d-c.top-c.bottom;t=r.select(this),i.utils.initSVG(t),h.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var S=e&&n?[]:h.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:v(t,e),y0:t.y0}})});f.domain(e||r.merge(S).map(function(t){return t.x})).rangeBands(a||[0,w],.1),p.domain(n||r.extent(r.merge(S).map(function(t){return t.y}).concat(m))),y?p.range(o||[C-(p.domain()[0]<0?12:0),p.domain()[1]>0?12:0]):p.range(o||[C,0]),s=s||f,l=l||p.copy().range([p(0),p(0)]);var A=t.selectAll("g.nv-wrap.nv-discretebar").data([h]),E=A.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),N=E.append("g");A.select("g");N.append("g").attr("class","nv-groups"),A.attr("transform","translate("+c.left+","+c.top+")");var P=A.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});P.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),P.exit().watchTransition(M,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),P.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),P.watchTransition(M,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var R=P.selectAll("g.nv-bar").data(function(t){return t.values});R.exit().remove();var L=R.enter().append("g").attr("transform",function(t,e,n){return"translate("+(f(g(t,e))+.05*f.rangeBand())+", "+p(0)+")"}).on("mouseover",function(t,e){r.select(this).classed("hover",!0),b.elementMouseover({data:t,index:e,color:r.select(this).style("fill")})}).on("mouseout",function(t,e){r.select(this).classed("hover",!1),b.elementMouseout({data:t,index:e,color:r.select(this).style("fill")})}).on("mousemove",function(t,e){b.elementMousemove({data:t,index:e,color:r.select(this).style("fill")})}).on("click",function(t,e){var n=this;b.elementClick({data:t,index:e,color:r.select(this).style("fill"),event:r.event,element:n}),r.event.stopPropagation()}).on("dblclick",function(t,e){b.elementDblClick({data:t,index:e,color:r.select(this).style("fill")}),r.event.stopPropagation()});L.append("rect").attr("height",0).attr("width",.9*f.rangeBand()/h.length),y?(L.append("text").attr("text-anchor","middle"),R.select("text").text(function(t,e){return x(v(t,e))}).watchTransition(M,"discreteBar: bars text").attr("x",.9*f.rangeBand()/2).attr("y",function(t,e){return v(t,e)<0?p(v(t,e))-p(0)+12:-4})):R.selectAll("text").remove(),R.attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||_(t,e)}).style("stroke",function(t,e){return t.color||_(t,e)}).select("rect").attr("class",k).watchTransition(M,"discreteBar: bars rect").attr("width",.9*f.rangeBand()/h.length),R.watchTransition(M,"discreteBar: bars").attr("transform",function(t,e){var n=f(g(t,e))+.05*f.rangeBand(),r=v(t,e)<0?p(0):p(0)-p(v(t,e))<1?p(0)-1:p(v(t,e));return"translate("+n+", "+r+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(p(v(t,e))-p(0)),1)}),s=f.copy(),l=p.copy()}),M.renderEnd("discreteBar immediate"),chart}var t,e,n,a,o,s,l,c={top:0,right:0,bottom:0,left:0},u=960,d=500,h=Math.floor(1e4*Math.random()),f=r.scale.ordinal(),p=r.scale.linear(),g=function(t){return t.x},v=function(t){return t.y},m=[0],_=i.utils.defaultColor(),y=!1,x=r.format(",.2f"),b=r.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),k="discreteBar",w=250,M=i.utils.renderWatch(b,w);return chart.dispatch=b,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},forceY:{get:function(){return m},set:function(t){m=t}},showValues:{get:function(){return y},set:function(t){y=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return o},set:function(t){o=t}},valueFormat:{get:function(){return x},set:function(t){x=t}},id:{get:function(){return h},set:function(t){h=t}},rectClass:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return _},set:function(t){_=i.utils.getColor(t)}},duration:{get:function(){return w},set:function(t){w=t,M.reset(w)}}}),i.utils.initOptions(chart),chart},i.models.discreteBarChart=function(){"use strict";function chart(l){return w.reset(),w.models(n),p&&w.models(a),g&&w.models(o),l.each(function(l){var h=r.select(this);i.utils.initSVG(h);var x=i.utils.availableWidth(u,h,c),w=i.utils.availableHeight(d,h,c);if(chart.update=function(){b.beforeUpdate(),h.transition().duration(k).call(chart)},chart.container=this,!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,h),chart;h.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var M=h.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([l]),C=M.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),S=C.append("defs"),A=M.select("g");C.append("g").attr("class","nv-x nv-axis"),C.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),C.append("g").attr("class","nv-barsWrap"),C.append("g").attr("class","nv-legendWrap"),A.attr("transform","translate("+c.left+","+c.top+")"),f?(s.width(x),A.select(".nv-legendWrap").datum(l).call(s),s.height()>c.top&&(c.top=s.height(),w=i.utils.availableHeight(d,h,c)),M.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):A.select(".nv-legendWrap").selectAll("*").remove(),v&&A.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),n.width(x).height(w);var E=A.select(".nv-barsWrap").datum(l.filter(function(t){return!t.disabled}));if(E.transition().call(n),S.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),A.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",t.rangeBand()*(m?2:1)).attr("height",16).attr("x",-t.rangeBand()/(m?1:2)),p){a.scale(t)._ticks(i.utils.calcTicksX(x/100,l)).tickSize(-w,0),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+(e.range()[0]+(n.showValues()&&e.domain()[0]<0?16:0))+")"),A.select(".nv-x.nv-axis").call(a);var N=A.select(".nv-x.nv-axis").selectAll("g");m&&N.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),y&&N.selectAll(".tick text").attr("transform","rotate("+y+" 0,0)").style("text-anchor",y>0?"start":"end"),_&&A.selectAll(".tick text").call(i.utils.wrapTicks,chart.xAxis.rangeBand())}g&&(o.scale(e)._ticks(i.utils.calcTicksY(w/36,l)).tickSize(-x,0),A.select(".nv-y.nv-axis").call(o)),A.select(".nv-zeroLine line").attr("x1",0).attr("x2",v?-x:x).attr("y1",e(0)).attr("y2",e(0))}),w.renderEnd("discreteBar chart immediate"),chart}var t,e,n=i.models.discreteBar(),a=i.models.axis(),o=i.models.axis(),s=i.models.legend(),l=i.models.tooltip(),c={top:15,right:10,bottom:50,left:60},u=null,d=null,h=i.utils.getColor(),f=!1,p=!0,g=!0,v=!1,m=!1,_=!1,y=0,x=null,b=r.dispatch("beforeUpdate","renderEnd"),k=250;a.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),o.orient(v?"right":"left").tickFormat(r.format(",.1f")),l.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).keyFormatter(function(t,e){return a.tickFormat()(t,e)});var w=i.utils.renderWatch(b,k);return n.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:chart.x()(t.data),value:chart.y()(t.data),color:t.color},l.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){l()}),chart.dispatch=b,chart.discretebar=n,chart.legend=s,chart.xAxis=a,chart.yAxis=o,chart.tooltip=l,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return f},set:function(t){f=t}},staggerLabels:{get:function(){return m},set:function(t){m=t}},rotateLabels:{get:function(){return y},set:function(t){y=t}},wrapLabels:{get:function(){return _},set:function(t){_=!!t}},showXAxis:{get:function(){return p},set:function(t){p=t}},showYAxis:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return k},set:function(t){k=t,w.reset(k),n.duration(k),a.duration(k),o.duration(k)}},color:{get:function(){return h},set:function(t){h=i.utils.getColor(t),n.color(h),s.color(h)}},rightAlignYAxis:{get:function(){return v},set:function(t){v=t,o.orient(t?"right":"left")}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.distribution=function(){"use strict";function chart(u){return h.reset(),u.each(function(u){var d=(n-("x"===o?e.left+e.right:e.top+e.bottom),"x"==o?"y":"x"),f=r.select(this);i.utils.initSVG(f),t=t||c;var p=f.selectAll("g.nv-distribution").data([u]),g=p.enter().append("g").attr("class","nvd3 nv-distribution"),v=(g.append("g"),p.select("g"));p.attr("transform","translate("+e.left+","+e.top+")");var m=v.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});m.enter().append("g"),m.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return l(t,e)});var _=m.selectAll("line.nv-dist"+o).data(function(t){return t.values});_.enter().append("line").attr(o+"1",function(e,n){return t(s(e,n))}).attr(o+"2",function(e,n){return t(s(e,n))}),h.transition(m.exit().selectAll("line.nv-dist"+o),"dist exit").attr(o+"1",function(t,e){return c(s(t,e))}).attr(o+"2",function(t,e){return c(s(t,e))}).style("stroke-opacity",0).remove(),_.attr("class",function(t,e){return"nv-dist"+o+" nv-dist"+o+"-"+e}).attr(d+"1",0).attr(d+"2",a),h.transition(_,"dist").attr(o+"1",function(t,e){return c(s(t,e))}).attr(o+"2",function(t,e){return c(s(t,e))}),t=c.copy()}),h.renderEnd("distribution immediate"),chart}var t,e={top:0,right:0,bottom:0,left:0},n=400,a=8,o="x",s=function(t){return t[o]},l=i.utils.defaultColor(),c=r.scale.linear(),u=250,d=r.dispatch("renderEnd"),h=i.utils.renderWatch(d,u);return chart.options=i.utils.optionsFunc.bind(chart),chart.dispatch=d,chart.margin=function(t){return arguments.length?(e.top="undefined"!=typeof t.top?t.top:e.top,e.right="undefined"!=typeof t.right?t.right:e.right,e.bottom="undefined"!=typeof t.bottom?t.bottom:e.bottom,e.left="undefined"!=typeof t.left?t.left:e.left,chart):e},chart.width=function(t){return arguments.length?(n=t,chart):n},chart.axis=function(t){return arguments.length?(o=t,chart):o},chart.size=function(t){return arguments.length?(a=t,chart):a},chart.getData=function(t){return arguments.length?(s=r.functor(t),chart):s},chart.scale=function(t){return arguments.length?(c=t,chart):c},chart.color=function(t){return arguments.length?(l=i.utils.getColor(t),chart):l},chart.duration=function(t){return arguments.length?(u=t,h.reset(u),chart):u},chart},i.models.focus=function(t){"use strict";function chart(y){return _.reset(),_.models(t),h&&_.models(a),f&&_.models(o),y.each(function(_){function resizePath(t){var e=+("e"==t),n=e?1:-1,r=b/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function updateBrushBG(){s.empty()||s.extent(g),S.data([s.empty()?e.domain():g]).each(function(t,n){var i=e(t[0])-e.range()[0],a=x-e(t[1]);r.select(this).select(".left").attr("width",i<0?0:i),r.select(this).select(".right").attr("x",e(t[1])).attr("width",a<0?0:a)})}function onBrush(){g=s.empty()?null:s.extent();var t=s.empty()?e.domain():s.extent();Math.abs(t[0]-t[1])<=1||(m.brush({extent:t,brush:s}),updateBrushBG(),m.onBrush(t))}var y=r.select(this);i.utils.initSVG(y);var x=i.utils.availableWidth(u,y,l),b=d-l.top-l.bottom;chart.update=function(){0===v?y.call(chart):y.transition().duration(v).call(chart)},chart.container=this,e=t.xScale(),n=t.yScale();var k=y.selectAll("g.nv-focus").data([_]),w=k.enter().append("g").attr("class","nvd3 nv-focus").append("g"),M=k.select("g");k.attr("transform","translate("+l.left+","+l.top+")"),w.append("g").attr("class","nv-background").append("rect"),w.append("g").attr("class","nv-x nv-axis"),w.append("g").attr("class","nv-y nv-axis"),w.append("g").attr("class","nv-contentWrap"),w.append("g").attr("class","nv-brushBackground"),w.append("g").attr("class","nv-x nv-brush"),p&&M.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),M.select(".nv-background rect").attr("width",x).attr("height",b),t.width(x).height(b).color(_.map(function(t,e){return t.color||c(t,e)}).filter(function(t,e){return!_[e].disabled}));var C=M.select(".nv-contentWrap").datum(_.filter(function(t){return!t.disabled}));r.transition(C).call(t),s.x(e).on("brush",function(){onBrush()}),g&&s.extent(g);var S=M.select(".nv-brushBackground").selectAll("g").data([g||s.extent()]),A=S.enter().append("g");A.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",b),A.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",b);var E=M.select(".nv-x.nv-brush").call(s);E.selectAll("rect").attr("height",b),E.selectAll(".resize").append("path").attr("d",resizePath),onBrush(),M.select(".nv-background rect").attr("width",x).attr("height",b),h&&(a.scale(e)._ticks(i.utils.calcTicksX(x/100,_)).tickSize(-b,0),M.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),r.transition(M.select(".nv-x.nv-axis")).call(a)),f&&(o.scale(n)._ticks(i.utils.calcTicksY(b/36,_)).tickSize(-x,0),r.transition(M.select(".nv-y.nv-axis")).call(o)),M.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")")}),_.renderEnd("focus immediate"),chart}var e,n,t=t||i.models.line(),a=i.models.axis(),o=i.models.axis(),s=r.svg.brush(),l={top:10,right:0,bottom:30,left:0},c=i.utils.defaultColor(),u=null,d=70,h=!0,f=!1,p=!1,g=null,v=250,m=r.dispatch("brush","onBrush","renderEnd");t.interactive(!1),t.pointActive(function(t){return!1});var _=i.utils.renderWatch(m,v);return chart.dispatch=m,chart.content=t,chart.brush=s,chart.xAxis=a,chart.yAxis=o,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},showXAxis:{get:function(){return h},set:function(t){h=t}},showYAxis:{get:function(){return f},set:function(t){f=t}},brushExtent:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return v},set:function(e){v=e,_.reset(v),t.duration(v),a.duration(v),o.duration(v)}},color:{get:function(){return c},set:function(e){c=i.utils.getColor(e),t.color(c)}},interpolate:{get:function(){return t.interpolate()},set:function(e){t.interpolate(e)}},xTickFormat:{get:function(){return a.tickFormat()},set:function(t){a.tickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t)}},x:{get:function(){return t.x()},set:function(e){t.x(e)}},y:{get:function(){return t.y()},set:function(e){t.y(e)}},rightAlignYAxis:{get:function(){return p},set:function(t){p=t,o.orient(p?"right":"left")}}}),i.utils.inheritOptions(chart,t),i.utils.initOptions(chart),chart},i.models.forceDirectedGraph=function(){"use strict";function chart(o){return x.reset(),o.each(function(o){a=r.select(this),i.utils.initSVG(a);var c=i.utils.availableWidth(e,a,t),x=i.utils.availableHeight(n,a,t);if(a.attr("width",c).attr("height",x),!(o&&o.links&&o.nodes))return i.utils.noData(chart,a),chart;a.selectAll(".nv-noData").remove(),a.selectAll("*").remove();var b=new Set;o.nodes.forEach(function(t){var e=Object.keys(t);e.forEach(function(t){b.add(t)})});var k=r.layout.force().nodes(o.nodes).links(o.links).size([c,x]).linkStrength(u).friction(d).linkDistance(h).charge(f).gravity(p).theta(g).alpha(v).start(),w=a.selectAll(".link").data(o.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(t){return Math.sqrt(t.value)}),M=a.selectAll(".node").data(o.nodes).enter().append("g").attr("class","nv-force-node").call(k.drag);M.append("circle").attr("r",m).style("fill",function(t){return s(t)}).on("mouseover",function(t){a.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.py),a.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.px);var e=s(t);t.series=[],b.forEach(function(n){t.series.push({color:e,key:n,value:t[n]})}),l.data(t).hidden(!1)}).on("mouseout",function(t){l.hidden(!0)}),l.headerFormatter(function(t){return"Node"}),y(w),_(M),k.on("tick",function(){w.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),M.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})})}),chart}var t={top:2,right:0,bottom:2,left:0},e=400,n=32,a=null,o=r.dispatch("renderEnd"),s=i.utils.getColor(["#000"]),l=i.models.tooltip(),c=null,u=.1,d=.9,h=30,f=-120,p=.1,g=.8,v=.1,m=5,_=function(t){},y=function(t){},x=i.utils.renderWatch(o);return chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},linkStrength:{get:function(){return u},set:function(t){u=t}},friction:{get:function(){return d},set:function(t){d=t}},linkDist:{get:function(){return h},set:function(t){h=t}},charge:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return p},set:function(t){p=t}},theta:{get:function(){return g},set:function(t){g=t}},alpha:{get:function(){return v},set:function(t){v=t}},radius:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return getX},set:function(t){getX=r.functor(t)}},y:{get:function(){return getY},set:function(t){getY=r.functor(t)}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return s},set:function(t){s=i.utils.getColor(t)}},noData:{get:function(){return c},set:function(t){c=t}},nodeExtras:{get:function(){return _},set:function(t){_=t}},linkExtras:{get:function(){return y},set:function(t){y=t}}}),chart.dispatch=o,chart.tooltip=l,i.utils.initOptions(chart),chart},i.models.furiousLegend=function(){"use strict";function chart(m){function setTextColor(t,e){return"furious"!=v?"#000":p?t.disengaged?s(t,e):"#fff":p?void 0:t.disabled?s(t,e):"#fff"}function setBGColor(t,e){return p&&"furious"==v?t.disengaged?"#fff":s(t,e):t.disabled?"#fff":s(t,e)}return m.each(function(m){var _=e-t.left-t.right,y=r.select(this);i.utils.initSVG(y);var x=y.selectAll("g.nv-legend").data([m]),b=(x.enter().append("g").attr("class","nvd3 nv-legend").append("g"),x.select("g"));x.attr("transform","translate("+t.left+","+t.top+")");var k,w=b.selectAll(".nv-series").data(function(t){return"furious"!=v?t:t.filter(function(t){return!!p||!t.disengaged})}),M=w.enter().append("g").attr("class","nv-series");if("classic"==v)M.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),k=w.select("circle");else if("furious"==v){M.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),k=w.select("rect"),M.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var C=w.select(".nv-check-box");C.each(function(t,e){r.select(this).selectAll("path").attr("stroke",setTextColor(t,e))})}M.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var S=w.select("text.nv-legend-text");w.on("mouseover",function(t,e){g.legendMouseover(t,e)}).on("mouseout",function(t,e){g.legendMouseout(t,e)}).on("click",function(t,e){g.legendClick(t,e);var n=w.data();if(h){if("classic"==v)f?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==v)if(p)t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!p){t.disabled=!t.disabled,t.userDisabled=t.disabled;var r=n.filter(function(t){return!t.disengaged});r.every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}g.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=v||!p)&&(g.legendDblclick(t,e),h)){var n=w.data();n.forEach(function(t){t.disabled=!0,"furious"==v&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==v&&(t.userDisabled=t.disabled),g.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),w.classed("nv-disabled",function(t){return t.userDisabled}),w.exit().remove(),S.attr("fill",setTextColor).text(function(t){return o(a(t))});var A;switch(v){case"furious":A=23;break;case"classic":A=20}if(c){var E=[];w.each(function(t,e){var n;if(o(a(t))&&o(a(t)).length>l){var s=o(a(t)).substring(0,l);n=r.select(this).select("text").text(s+"..."),r.select(this).append("svg:title").text(o(a(t)))}else n=r.select(this).select("text");var c;try{if(c=n.node().getComputedTextLength(),c<=0)throw Error()}catch(d){c=i.utils.calcApproxTextWidth(n)}E.push(c+u)});for(var N=0,P=0,R=[];P<_&&N<E.length;)R[N]=E[N],P+=E[N++];for(0===N&&(N=1);P>_&&N>1;){R=[],N--;for(var L=0;L<E.length;L++)E[L]>(R[L%N]||0)&&(R[L%N]=E[L]);P=R.reduce(function(t,e,n,r){return t+e})}for(var T=[],D=0,z=0;D<N;D++)T[D]=z,z+=R[D];w.attr("transform",function(t,e){return"translate("+T[e%N]+","+(5+Math.floor(e/N)*A)+")"}),d?b.attr("transform","translate("+(e-t.right-P)+","+t.top+")"):b.attr("transform","translate(0,"+t.top+")"),n=t.top+t.bottom+Math.ceil(E.length/N)*A}else{var B,F=5,W=5,O=0;w.attr("transform",function(n,i){var a=r.select(this).select("text").node().getComputedTextLength()+u;return B=W,e<t.left+t.right+B+a&&(W=B=5,F+=A),W+=a,W>O&&(O=W),"translate("+B+","+F+")"}),b.attr("transform","translate("+(e-t.right-O)+","+t.top+")"),n=t.top+t.bottom+F+15}"furious"==v&&k.attr("width",function(t,e){return S[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),k.style("fill",setBGColor).style("stroke",function(t,e){return t.color||s(t,e)})}),chart}var t={top:5,right:0,bottom:5,left:0},e=400,n=20,a=function(t){return t.key},o=function(t){return t},s=i.utils.getColor(),l=20,c=!0,u=28,d=!0,h=!0,f=!1,p=!1,g=r.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),v="classic";return chart.dispatch=g,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},key:{get:function(){return a},set:function(t){a=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return c},set:function(t){c=t}},rightAlign:{get:function(){return d},set:function(t){d=t}},maxKeyLength:{get:function(){return l},set:function(t){l=t}},padding:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return h},set:function(t){h=t}},radioButtonMode:{get:function(){return f},set:function(t){f=t}},expanded:{get:function(){return p},set:function(t){p=t}},vers:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return s},set:function(t){s=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.historicalBar=function(){"use strict";function chart(w){return w.each(function(w){k.reset(),u=r.select(this);var M=i.utils.availableWidth(s,u,o),C=i.utils.availableHeight(l,u,o);i.utils.initSVG(u),d.domain(t||r.extent(w[0].values.map(f).concat(g))),m?d.range(n||[.5*M/w[0].values.length,M*(w[0].values.length-.5)/w[0].values.length]):d.range(n||[0,M]),h.domain(e||r.extent(w[0].values.map(p).concat(v))).range(a||[C,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var S=u.selectAll("g.nv-wrap.nv-historicalBar-"+c).data([w[0].values]),A=S.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+c),E=A.append("defs"),N=A.append("g"),P=S.select("g");N.append("g").attr("class","nv-bars"),S.attr("transform","translate("+o.left+","+o.top+")"),u.on("click",function(t,e){x.chartClick({data:t,index:e,pos:r.event,id:c})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),S.select("#nv-chart-clip-path-"+c+" rect").attr("width",M).attr("height",C),P.attr("clip-path",_?"url(#nv-chart-clip-path-"+c+")":"");var R=S.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return f(t,e)});R.exit().remove(),R.enter().append("rect").attr("x",0).attr("y",function(t,e){return i.utils.NaNtoZero(h(Math.max(0,p(t,e))))}).attr("height",function(t,e){return i.utils.NaNtoZero(Math.abs(h(p(t,e))-h(0)))}).attr("transform",function(t,e){return"translate("+(d(f(t,e))-M/w[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){b&&(r.select(this).classed("hover",!0),x.elementMouseover({data:t,index:e,color:r.select(this).style("fill")}))}).on("mouseout",function(t,e){b&&(r.select(this).classed("hover",!1),x.elementMouseout({data:t,index:e,color:r.select(this).style("fill")}))}).on("mousemove",function(t,e){b&&x.elementMousemove({data:t,index:e,color:r.select(this).style("fill")})}).on("click",function(t,e){b&&(x.elementClick({data:t,index:e,color:r.select(this).style("fill")}),r.event.stopPropagation())}).on("dblclick",function(t,e){b&&(x.elementDblClick({data:t,index:e,color:r.select(this).style("fill")}),r.event.stopPropagation())}),R.attr("fill",function(t,e){return y(t,e)}).attr("class",function(t,e,n){return(p(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(k,"bars").attr("transform",function(t,e){return"translate("+(d(f(t,e))-M/w[0].values.length*.45)+",0)"}).attr("width",M/w[0].values.length*.9),R.watchTransition(k,"bars").attr("y",function(t,e){var n=p(t,e)<0?h(0):h(0)-h(p(t,e))<1?h(0)-1:h(p(t,e));return i.utils.NaNtoZero(n)}).attr("height",function(t,e){return i.utils.NaNtoZero(Math.max(Math.abs(h(p(t,e))-h(0)),1))})}),k.renderEnd("historicalBar immediate"),chart}var t,e,n,a,o={top:0,right:0,bottom:0,left:0},s=null,l=null,c=Math.floor(1e4*Math.random()),u=null,d=r.scale.linear(),h=r.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},g=[],v=[0],m=!1,_=!0,y=i.utils.defaultColor(),x=r.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),b=!0,k=i.utils.renderWatch(x,0);return chart.highlightPoint=function(t,e){u.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},chart.clearHighlights=function(){u.select(".nv-bars .nv-bar.hover").classed("hover",!1)},chart.dispatch=x,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},forceX:{get:function(){return g},set:function(t){g=t}},forceY:{get:function(){return v},set:function(t){v=t}},padData:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return a},set:function(t){a=t}},clipEdge:{get:function(){return _},set:function(t){_=t}},id:{get:function(){return c},set:function(t){c=t}},interactive:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return y},set:function(t){y=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart;
},i.models.historicalBarChart=function(t){"use strict";function chart(t){return t.each(function(u){C.reset(),C.models(a),v&&C.models(o),m&&C.models(s);var k=r.select(this);i.utils.initSVG(k);var S=i.utils.availableWidth(f,k,d),A=i.utils.availableHeight(p,k,d);if(chart.update=function(){k.transition().duration(M).call(chart)},chart.container=this,x.disabled=u.map(function(t){return!!t.disabled}),!b){var E;b={};for(E in x)x[E]instanceof Array?b[E]=x[E].slice(0):b[E]=x[E]}if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,k),chart;k.selectAll(".nv-noData").remove(),e=a.xScale(),n=a.yScale();var N=k.selectAll("g.nv-wrap.nv-historicalBarChart").data([u]),P=N.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),R=N.select("g");P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-barsWrap"),P.append("g").attr("class","nv-legendWrap"),P.append("g").attr("class","nv-interactive"),g?(l.width(S),R.select(".nv-legendWrap").datum(u).call(l),l.height()>d.top&&(d.top=l.height(),A=i.utils.availableHeight(p,k,d)),N.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")):R.select(".nv-legendWrap").selectAll("*").remove(),N.attr("transform","translate("+d.left+","+d.top+")"),_&&R.select(".nv-y.nv-axis").attr("transform","translate("+S+",0)"),y&&(c.width(S).height(A).margin({left:d.left,top:d.top}).svgContainer(k).xScale(e),N.select(".nv-interactive").call(c)),a.width(S).height(A).color(u.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!u[e].disabled}));var L=R.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled}));L.transition().call(a),v&&(o.scale(e)._ticks(i.utils.calcTicksX(S/100,u)).tickSize(-A,0),R.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),R.select(".nv-x.nv-axis").transition().call(o)),m&&(s.scale(n)._ticks(i.utils.calcTicksY(A/36,u)).tickSize(-S,0),R.select(".nv-y.nv-axis").transition().call(s)),c.dispatch.on("elementMousemove",function(t){a.clearHighlights();var e,n,r,l=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,s){n=i.interactiveBisect(o.values,t.pointXValue,chart.x()),a.highlightPoint(n,!0);var c=o.values[n];void 0!==c&&(void 0===e&&(e=c),void 0===r&&(r=chart.xScale()(chart.x()(c,n))),l.push({key:o.key,value:chart.y()(c,n),color:h(o,o.seriesIndex),data:o.values[n]}))});var d=o.tickFormat()(chart.x()(e,n));c.tooltip.valueFormatter(function(t,e){return s.tickFormat()(t)}).data({value:d,index:n,series:l})(),c.renderGuideLine(r)}),c.dispatch.on("elementMouseout",function(t){w.tooltipHide(),a.clearHighlights()}),l.dispatch.on("legendClick",function(e,n){e.disabled=!e.disabled,u.filter(function(t){return!t.disabled}).length||u.map(function(t){return t.disabled=!1,N.selectAll(".nv-series").classed("disabled",!1),t}),x.disabled=u.map(function(t){return!!t.disabled}),w.stateChange(x),t.transition().call(chart)}),l.dispatch.on("legendDblclick",function(t){u.forEach(function(t){t.disabled=!0}),t.disabled=!1,x.disabled=u.map(function(t){return!!t.disabled}),w.stateChange(x),chart.update()}),w.on("changeState",function(t){"undefined"!=typeof t.disabled&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),x.disabled=t.disabled),chart.update()})}),C.renderEnd("historicalBarChart immediate"),chart}var e,n,a=t||i.models.historicalBar(),o=i.models.axis(),s=i.models.axis(),l=i.models.legend(),c=i.interactiveGuideline(),u=i.models.tooltip(),d={top:30,right:90,bottom:50,left:90},h=i.utils.defaultColor(),f=null,p=null,g=!1,v=!0,m=!0,_=!1,y=!1,x={},b=null,k=null,w=r.dispatch("tooltipHide","stateChange","changeState","renderEnd"),M=250;o.orient("bottom").tickPadding(7),s.orient(_?"right":"left"),u.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return s.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)});var C=i.utils.renderWatch(w,0);return a.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:chart.x()(t.data),value:chart.y()(t.data),color:t.color},u.data(t).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(t){u()}),chart.dispatch=w,chart.bars=a,chart.legend=l,chart.xAxis=o,chart.yAxis=s,chart.interactiveLayer=c,chart.tooltip=u,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},defaultState:{get:function(){return b},set:function(t){b=t}},noData:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},color:{get:function(){return h},set:function(t){h=i.utils.getColor(t),l.color(h),a.color(h)}},duration:{get:function(){return M},set:function(t){M=t,C.reset(M),s.duration(M),o.duration(M)}},rightAlignYAxis:{get:function(){return _},set:function(t){_=t,s.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(t){y=t,t===!0&&chart.interactive(!1)}}}),i.utils.inheritOptions(chart,a),i.utils.initOptions(chart),chart},i.models.ohlcBarChart=function(){var t=i.models.historicalBarChart(i.models.ohlcBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data,r=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+r+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},i.models.candlestickBarChart=function(){var t=i.models.historicalBarChart(i.models.candlestickBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data,r=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+r+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},i.models.legend=function(){"use strict";function chart(m){function setTextColor(t,e){return"furious"!=v?"#000":p?t.disengaged?"#000":"#fff":p?void 0:(t.color||(t.color=s(t,e)),t.disabled?t.color:"#fff")}function setBGColor(t,e){return p&&"furious"==v&&t.disengaged?"#eee":t.color||s(t,e)}function setBGOpacity(t,e){return p&&"furious"==v?1:t.disabled?0:1}return m.each(function(s){var m=e-t.left-t.right,_=r.select(this);i.utils.initSVG(_);var y=_.selectAll("g.nv-legend").data([s]),x=y.enter().append("g").attr("class","nvd3 nv-legend").append("g"),b=y.select("g");y.attr("transform","translate("+t.left+","+t.top+")");var k,w,M=b.selectAll(".nv-series").data(function(t){return"furious"!=v?t:t.filter(function(t){return!!p||!t.disengaged})}),C=M.enter().append("g").attr("class","nv-series");switch(v){case"furious":w=23;break;case"classic":w=20}if("classic"==v)C.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),k=M.select(".nv-legend-symbol");else if("furious"==v){C.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),k=M.select(".nv-legend-symbol"),C.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var S=M.select(".nv-check-box");S.each(function(t,e){r.select(this).selectAll("path").attr("stroke",setTextColor(t,e))})}C.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var A=M.select("text.nv-legend-text");M.on("mouseover",function(t,e){g.legendMouseover(t,e)}).on("mouseout",function(t,e){g.legendMouseout(t,e)}).on("click",function(t,e){g.legendClick(t,e);var n=M.data();if(h){if("classic"==v)f?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==v)if(p)t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!p){t.disabled=!t.disabled,t.userDisabled=t.disabled;var r=n.filter(function(t){return!t.disengaged});r.every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}g.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=v||!p)&&(g.legendDblclick(t,e),h)){var n=M.data();n.forEach(function(t){t.disabled=!0,"furious"==v&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==v&&(t.userDisabled=t.disabled),g.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),M.classed("nv-disabled",function(t){return t.userDisabled}),M.exit().remove(),A.attr("fill",setTextColor).text(function(t){return o(a(t))});var E=0;if(c){var N=[];M.each(function(t,e){var n;if(o(a(t))&&o(a(t)).length>l){var s=o(a(t)).substring(0,l);n=r.select(this).select("text").text(s+"..."),r.select(this).append("svg:title").text(o(a(t)))}else n=r.select(this).select("text");var c;try{if(c=n.node().getComputedTextLength(),c<=0)throw Error()}catch(d){c=i.utils.calcApproxTextWidth(n)}N.push(c+u)});var P=0,R=[];for(E=0;E<m&&P<N.length;)R[P]=N[P],E+=N[P++];for(0===P&&(P=1);E>m&&P>1;){R=[],P--;for(var L=0;L<N.length;L++)N[L]>(R[L%P]||0)&&(R[L%P]=N[L]);E=R.reduce(function(t,e,n,r){return t+e})}for(var T=[],D=0,z=0;D<P;D++)T[D]=z,z+=R[D];M.attr("transform",function(t,e){return"translate("+T[e%P]+","+(5+Math.floor(e/P)*w)+")"}),d?b.attr("transform","translate("+(e-t.right-E)+","+t.top+")"):b.attr("transform","translate(0,"+t.top+")"),n=t.top+t.bottom+Math.ceil(N.length/P)*w}else{var B,F=5,W=5,O=0;M.attr("transform",function(n,i){var a=r.select(this).select("text").node().getComputedTextLength()+u;return B=W,e<t.left+t.right+B+a&&(W=B=5,F+=w),W+=a,W>O&&(O=W),E<B+O&&(E=B+O),"translate("+B+","+F+")"}),b.attr("transform","translate("+(e-t.right-O)+","+t.top+")"),n=t.top+t.bottom+F+15}if("furious"==v){k.attr("width",function(t,e){return A[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),x.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);var I=b.select(".nv-legend-bg");I.transition().duration(300).attr("x",-w).attr("width",E+w-12).attr("height",n+10).attr("y",-t.top-10).attr("opacity",p?1:0)}k.style("fill",setBGColor).style("fill-opacity",setBGOpacity).style("stroke",setBGColor)}),chart}var t={top:5,right:0,bottom:5,left:0},e=400,n=20,a=function(t){return t.key},o=function(t){return t},s=i.utils.getColor(),l=20,c=!0,u=32,d=!0,h=!0,f=!1,p=!1,g=r.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),v="classic";return chart.dispatch=g,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},key:{get:function(){return a},set:function(t){a=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return c},set:function(t){c=t}},maxKeyLength:{get:function(){return l},set:function(t){l=t}},rightAlign:{get:function(){return d},set:function(t){d=t}},padding:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return h},set:function(t){h=t}},radioButtonMode:{get:function(){return f},set:function(t){f=t}},expanded:{get:function(){return p},set:function(t){p=t}},vers:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return s},set:function(t){s=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.line=function(){"use strict";function chart(m){return b.reset(),b.models(n),m.each(function(m){l=r.select(this);var _=i.utils.availableWidth(o,l,a),k=i.utils.availableHeight(s,l,a);i.utils.initSVG(l),t=n.xScale(),e=n.yScale(),y=y||t,x=x||e;var w=l.selectAll("g.nv-wrap.nv-line").data([m]),M=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),C=M.append("defs"),S=M.append("g"),A=w.select("g");S.append("g").attr("class","nv-groups"),S.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+a.left+","+a.top+")"),n.width(_).height(k);var E=w.select(".nv-scatterWrap");E.call(n),C.append("clipPath").attr("id","nv-edge-clip-"+n.id()).append("rect"),w.select("#nv-edge-clip-"+n.id()+" rect").attr("width",_).attr("height",k>0?k:0),A.attr("clip-path",g?"url(#nv-edge-clip-"+n.id()+")":""),E.attr("clip-path",g?"url(#nv-edge-clip-"+n.id()+")":"");var N=w.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});N.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||c}).style("fill-opacity",1e-6),N.exit().remove(),N.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}),N.watchTransition(b,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var P=N.selectAll("path.nv-area").data(function(t){return p(t)?[t]:[]});P.enter().append("path").attr("class","nv-area").attr("d",function(t){return r.svg.area().interpolate(v).defined(f).x(function(t,e){return i.utils.NaNtoZero(y(d(t,e)))}).y0(function(t,e){return i.utils.NaNtoZero(x(h(t,e)))}).y1(function(t,n){return x(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[t.values])}),N.exit().selectAll("path.nv-area").remove(),P.watchTransition(b,"line: areaPaths").attr("d",function(n){return r.svg.area().interpolate(v).defined(f).x(function(e,n){return i.utils.NaNtoZero(t(d(e,n)))}).y0(function(t,n){return i.utils.NaNtoZero(e(h(t,n)))}).y1(function(t,n){return e(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[n.values])});var R=N.selectAll("path.nv-line").data(function(t){return[t.values]});R.enter().append("path").attr("class","nv-line").attr("d",r.svg.line().interpolate(v).defined(f).x(function(t,e){return i.utils.NaNtoZero(y(d(t,e)))}).y(function(t,e){return i.utils.NaNtoZero(x(h(t,e)))})),R.watchTransition(b,"line: linePaths").attr("d",r.svg.line().interpolate(v).defined(f).x(function(e,n){return i.utils.NaNtoZero(t(d(e,n)))}).y(function(t,n){return i.utils.NaNtoZero(e(h(t,n)))})),y=t.copy(),x=e.copy()}),b.renderEnd("line immediate"),chart}var t,e,n=i.models.scatter(),a={top:0,right:0,bottom:0,left:0},o=960,s=500,l=null,c=1.5,u=i.utils.defaultColor(),d=function(t){return t.x},h=function(t){return t.y},f=function(t,e){return!isNaN(h(t,e))&&null!==h(t,e)},p=function(t){return t.area},g=!1,v="linear",m=250,_=r.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");n.pointSize(16).pointDomain([16,256]);var y,x,b=i.utils.renderWatch(_,m);return chart.dispatch=_,chart.scatter=n,n.dispatch.on("elementClick",function(){_.elementClick.apply(this,arguments)}),n.dispatch.on("elementMouseover",function(){_.elementMouseover.apply(this,arguments)}),n.dispatch.on("elementMouseout",function(){_.elementMouseout.apply(this,arguments)}),chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},defined:{get:function(){return f},set:function(t){f=t}},interpolate:{get:function(){return v},set:function(t){v=t}},clipEdge:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return m},set:function(t){m=t,b.reset(m),n.duration(m)}},isArea:{get:function(){return p},set:function(t){p=r.functor(t)}},x:{get:function(){return d},set:function(t){d=t,n.x(t)}},y:{get:function(){return h},set:function(t){h=t,n.y(t)}},color:{get:function(){return u},set:function(t){u=i.utils.getColor(t),n.color(u)}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.lineChart=function(){"use strict";function chart(c){return A.reset(),A.models(n),m&&A.models(a),_&&A.models(o),c.each(function(c){function updateXAxis(){m&&D.select(".nv-focus .nv-x.nv-axis").transition().duration(S).call(a)}function updateYAxis(){_&&D.select(".nv-focus .nv-y.nv-axis").transition().duration(S).call(o)}function onBrush(t){var e=D.select(".nv-focus .nv-linesWrap").datum(c.filter(function(t){return!t.disabled}).map(function(e,r){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,r){return n.x()(e,r)>=t[0]&&n.x()(e,r)<=t[1]}),disableTooltip:e.disableTooltip}}));e.transition().duration(S).call(n),updateXAxis(),updateYAxis()}var M=r.select(this);i.utils.initSVG(M);var A=i.utils.availableWidth(f,M,d),P=i.utils.availableHeight(p,M,d)-(b?u.height():0);if(chart.update=function(){0===S?M.call(chart):M.transition().duration(S).call(chart)},chart.container=this,k.setter(N(c),chart.update).getter(E(c)).update(),k.disabled=c.map(function(t){return!!t.disabled}),!w){var R;w={};for(R in k)k[R]instanceof Array?w[R]=k[R].slice(0):w[R]=k[R]}if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,M),chart;M.selectAll(".nv-noData").remove(),u.dispatch.on("onBrush",function(t){onBrush(t)}),t=n.xScale(),e=n.yScale();var L=M.selectAll("g.nv-wrap.nv-lineChart").data([c]),T=L.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),D=L.select("g");T.append("g").attr("class","nv-legendWrap");var z=T.append("g").attr("class","nv-focus");z.append("g").attr("class","nv-background").append("rect"),z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-linesWrap"),z.append("g").attr("class","nv-interactive");T.append("g").attr("class","nv-focusWrap");g?(s.width(A),D.select(".nv-legendWrap").datum(c).call(s),"bottom"===v?L.select(".nv-legendWrap").attr("transform","translate(0,"+P+")"):"top"===v&&(s.height()>d.top&&(d.top=s.height(),P=i.utils.availableHeight(p,M,d)-(b?u.height():0)),L.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")"))):D.select(".nv-legendWrap").selectAll("*").remove(),L.attr("transform","translate("+d.left+","+d.top+")"),y&&D.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)"),x&&(l.width(A).height(P).margin({left:d.left,top:d.top}).svgContainer(M).xScale(t),L.select(".nv-interactive").call(l)),D.select(".nv-focus .nv-background rect").attr("width",A).attr("height",P),n.width(A).height(P).color(c.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!c[e].disabled}));var B=D.select(".nv-linesWrap").datum(c.filter(function(t){return!t.disabled}));if(m&&a.scale(t)._ticks(i.utils.calcTicksX(A/100,c)).tickSize(-P,0),_&&o.scale(e)._ticks(i.utils.calcTicksY(P/36,c)).tickSize(-A,0),D.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+P+")"),b){u.width(A),D.select(".nv-focusWrap").attr("transform","translate(0,"+(P+d.bottom+u.margin().top)+")").datum(c.filter(function(t){return!t.disabled})).call(u);var F=u.brush.empty()?u.xDomain():u.brush.extent();null!==F&&onBrush(F)}else B.call(n),updateXAxis(),updateYAxis();s.dispatch.on("stateChange",function(t){for(var e in t)k[e]=t[e];C.stateChange(k),chart.update()}),l.dispatch.on("elementMousemove",function(e){n.clearHighlights();var r,a,s,d=[];if(c.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(o,l){var c=b?u.brush.empty()?u.xScale().domain():u.brush.extent():t.domain(),f=o.values.filter(function(t,e){return n.x()(t,e)>=c[0]&&n.x()(t,e)<=c[1]});a=i.interactiveBisect(f,e.pointXValue,n.x());var p=f[a],g=chart.y()(p,a);null!==g&&n.highlightPoint(o.seriesIndex,a,!0),void 0!==p&&(void 0===r&&(r=p),void 0===s&&(s=chart.xScale()(chart.x()(p,a))),d.push({key:o.key,value:g,color:h(o,o.seriesIndex),data:p}))}),d.length>2){var f=chart.yScale().invert(e.mouseY),p=Math.abs(chart.yScale().domain()[0]-chart.yScale().domain()[1]),g=.03*p,v=i.nearestValueIndex(d.map(function(t){return t.value}),f,g);null!==v&&(d[v].highlight=!0)}var m=function(t,e){return null==t?"N/A":o.tickFormat()(t)};l.tooltip.valueFormatter(l.tooltip.valueFormatter()||m).data({value:chart.x()(r,a),index:a,series:d})(),l.renderGuideLine(s)}),l.dispatch.on("elementClick",function(t){var e,r=[];c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(n){var a=i.interactiveBisect(n.values,t.pointXValue,chart.x()),o=n.values[a];if("undefined"!=typeof o){"undefined"==typeof e&&(e=chart.xScale()(chart.x()(o,a)));var s=chart.yScale()(chart.y()(o,a));r.push({point:o,pointIndex:a,pos:[e,s],seriesIndex:n.seriesIndex,series:n})}}),n.dispatch.elementClick(r)}),l.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),C.on("changeState",function(t){"undefined"!=typeof t.disabled&&c.length===t.disabled.length&&(c.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),chart.update()})}),A.renderEnd("lineChart immediate"),chart}var t,e,n=i.models.line(),a=i.models.axis(),o=i.models.axis(),s=i.models.legend(),l=i.interactiveGuideline(),c=i.models.tooltip(),u=i.models.focus(i.models.line()),d={top:30,right:20,bottom:50,left:60},h=i.utils.defaultColor(),f=null,p=null,g=!0,v="top",m=!0,_=!0,y=!1,x=!1,b=!1,k=i.utils.state(),w=null,M=null,C=r.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),S=250;a.orient("bottom").tickPadding(7),o.orient(y?"right":"left"),n.clipEdge(!0).duration(0),c.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return a.tickFormat()(t,e)}),l.tooltip.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return a.tickFormat()(t,e)});var A=i.utils.renderWatch(C,S),E=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},N=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return n.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||c.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){c.hidden(!0)}),chart.dispatch=C,chart.lines=n,chart.legend=s,chart.focus=u,chart.xAxis=a,chart.x2Axis=u.xAxis,chart.yAxis=o,chart.y2Axis=u.yAxis,chart.interactiveLayer=l,chart.tooltip=c,chart.state=k,chart.dispatch=C,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},legendPosition:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return _},set:function(t){_=t}},defaultState:{get:function(){return w},set:function(t){w=t}},noData:{get:function(){return M},set:function(t){M=t}},focusEnable:{get:function(){return b},set:function(t){b=t}},focusHeight:{get:function(){return u.height()},set:function(t){u.height(t)}},focusShowAxisX:{get:function(){return u.showXAxis()},set:function(t){u.showXAxis(t)}},focusShowAxisY:{get:function(){return u.showYAxis()},set:function(t){u.showYAxis(t)}},brushExtent:{get:function(){return u.brushExtent()},set:function(t){u.brushExtent(t)}},focusMargin:{get:function(){return u.margin},set:function(t){u.margin.top=void 0!==t.top?t.top:u.margin.top,u.margin.right=void 0!==t.right?t.right:u.margin.right,u.margin.bottom=void 0!==t.bottom?t.bottom:u.margin.bottom,u.margin.left=void 0!==t.left?t.left:u.margin.left}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},duration:{get:function(){return S},set:function(t){S=t,A.reset(S),n.duration(S),u.duration(S),a.duration(S),o.duration(S)}},color:{get:function(){return h},set:function(t){h=i.utils.getColor(t),s.color(h),n.color(h),u.color(h)}},interpolate:{get:function(){return n.interpolate()},set:function(t){n.interpolate(t),u.interpolate(t)}},xTickFormat:{get:function(){return a.tickFormat()},set:function(t){a.tickFormat(t),u.xTickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t),u.yTickFormat(t)}},x:{get:function(){return n.x()},set:function(t){n.x(t),u.x(t)}},y:{get:function(){return n.y()},set:function(t){n.y(t),u.y(t)}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,o.orient(y?"right":"left")}},useInteractiveGuideline:{get:function(){return x},set:function(t){x=t,x&&(n.interactive(!1),n.useVoronoi(!1))}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.lineWithFocusChart=function(){return i.models.lineChart().margin({bottom:30}).focusEnable(!0)},i.models.linePlusBarChart=function(){"use strict";function chart(b){return b.each(function(b){function resizePath(t){var e=+("e"==t),n=e?1:-1,r=U/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function updateBrushBG(){x.empty()||x.extent(D),ct.data([x.empty()?n.domain():D]).each(function(t,e){var i=n(t[0])-n.range()[0],a=n.range()[1]-n(t[1]);r.select(this).select(".left").attr("width",i<0?0:i),r.select(this).select(".right").attr("x",n(t[1])).attr("width",a<0?0:a)})}function onBrush(){D=x.empty()?null:x.extent(),t=x.empty()?n.domain():x.extent(),B.brush({extent:t,brush:x}),updateBrushBG(),d.width(V).height(j).color(b.map(function(t,e){return t.color||E(t,e)}).filter(function(t,e){return!b[e].disabled&&b[e].bar})),c.width(V).height(j).color(b.map(function(t,e){return t.color||E(t,e)}).filter(function(t,e){return!b[e].disabled&&!b[e].bar}));var r=nt.select(".nv-focus .nv-barsWrap").datum($.length?$.map(function(e,n){return{key:e.key,values:e.values.filter(function(e,n){return d.x()(e,n)>=t[0]&&d.x()(e,n)<=t[1]})}}):[{values:[]}]),s=nt.select(".nv-focus .nv-linesWrap").datum(G(J)?[{values:[]}]:J.filter(function(t){return!t.disabled}).map(function(e,n){return{area:e.area,fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,key:e.key,values:e.values.filter(function(e,n){return c.x()(e,n)>=t[0]&&c.x()(e,n)<=t[1]})}}));e=$.length&&!q?d.xScale():c.xScale(),f.scale(e)._ticks(i.utils.calcTicksX(V/100,b)).tickSize(-j,0),f.domain([Math.ceil(t[0]),Math.floor(t[1])]),nt.select(".nv-x.nv-axis").transition().duration(F).call(f),r.transition().duration(F).call(d),s.transition().duration(F).call(c),nt.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),g.scale(a)._ticks(i.utils.calcTicksY(j/36,b)).tickSize(-V,0),v.scale(o)._ticks(i.utils.calcTicksY(j/36,b)),q?v.tickSize(J.length?0:-V,0):v.tickSize($.length?0:-V,0);var l=$.length?1:0,u=J.length&&!G(J)?1:0,h=q?u:l,p=q?l:u;nt.select(".nv-focus .nv-y1.nv-axis").style("opacity",h),nt.select(".nv-focus .nv-y2.nv-axis").style("opacity",p).attr("transform","translate("+e.range()[1]+",0)"),nt.select(".nv-focus .nv-y1.nv-axis").transition().duration(F).call(g),nt.select(".nv-focus .nv-y2.nv-axis").transition().duration(F).call(v)}var z=r.select(this);i.utils.initSVG(z);var V=i.utils.availableWidth(M,z,k),j=i.utils.availableHeight(C,z,k)-(P?T:0),U=T-w.top-w.bottom;if(chart.update=function(){z.transition().duration(F).call(chart)},chart.container=this,W.setter(X(b),chart.update).getter(Y(b)).update(),W.disabled=b.map(function(t){return!!t.disabled}),!O){var Z;O={};for(Z in W)W[Z]instanceof Array?O[Z]=W[Z].slice(0):O[Z]=W[Z]}if(!(b&&b.length&&b.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,z),chart;z.selectAll(".nv-noData").remove();var $=b.filter(function(t){return!t.disabled&&t.bar}),J=b.filter(function(t){return!t.bar});e=$.length&&!q?d.xScale():c.xScale(),n=p.scale(),a=q?c.yScale():d.yScale(),o=q?d.yScale():c.yScale(),s=q?u.yScale():h.yScale(),l=q?h.yScale():u.yScale();var K=b.filter(function(t){return!t.disabled&&(q?!t.bar:t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:A(t,e)}})}),Q=b.filter(function(t){return!t.disabled&&(q?t.bar:!t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:A(t,e)}})});e.range([0,V]),n.domain(r.extent(r.merge(K.concat(Q)),function(t){return t.x})).range([0,V]);var tt=z.selectAll("g.nv-wrap.nv-linePlusBar").data([b]),et=tt.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),nt=tt.select("g");et.append("g").attr("class","nv-legendWrap");var rt=et.append("g").attr("class","nv-focus");rt.append("g").attr("class","nv-x nv-axis"),rt.append("g").attr("class","nv-y1 nv-axis"),rt.append("g").attr("class","nv-y2 nv-axis"),rt.append("g").attr("class","nv-barsWrap"),rt.append("g").attr("class","nv-linesWrap");var it=et.append("g").attr("class","nv-context");if(it.append("g").attr("class","nv-x nv-axis"),it.append("g").attr("class","nv-y1 nv-axis"),it.append("g").attr("class","nv-y2 nv-axis"),it.append("g").attr("class","nv-barsWrap"),it.append("g").attr("class","nv-linesWrap"),it.append("g").attr("class","nv-brushBackground"),it.append("g").attr("class","nv-x nv-brush"),N){var at=y.align()?V/2:V,ot=y.align()?at:0;y.width(at),nt.select(".nv-legendWrap").datum(b.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,q?t.key=t.originalKey+(t.bar?H:I):t.key=t.originalKey+(t.bar?I:H),t})).call(y),y.height()>k.top&&(k.top=y.height(),j=i.utils.availableHeight(C,z,k)-T),nt.select(".nv-legendWrap").attr("transform","translate("+ot+","+-k.top+")")}else nt.select(".nv-legendWrap").selectAll("*").remove();tt.attr("transform","translate("+k.left+","+k.top+")"),nt.select(".nv-context").style("display",P?"initial":"none"),h.width(V).height(U).color(b.map(function(t,e){return t.color||E(t,e)}).filter(function(t,e){return!b[e].disabled&&b[e].bar})),u.width(V).height(U).color(b.map(function(t,e){return t.color||E(t,e)}).filter(function(t,e){return!b[e].disabled&&!b[e].bar}));var st=nt.select(".nv-context .nv-barsWrap").datum($.length?$:[{values:[]}]),lt=nt.select(".nv-context .nv-linesWrap").datum(G(J)?[{values:[]}]:J.filter(function(t){return!t.disabled}));nt.select(".nv-context").attr("transform","translate(0,"+(j+k.bottom+w.top)+")"),st.transition().call(h),lt.transition().call(u),L&&(p._ticks(i.utils.calcTicksX(V/100,b)).tickSize(-U,0),nt.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")"),nt.select(".nv-context .nv-x.nv-axis").transition().call(p)),R&&(m.scale(s)._ticks(U/36).tickSize(-V,0),_.scale(l)._ticks(U/36).tickSize($.length?0:-V,0),nt.select(".nv-context .nv-y3.nv-axis").style("opacity",$.length?1:0).attr("transform","translate(0,"+n.range()[0]+")"),nt.select(".nv-context .nv-y2.nv-axis").style("opacity",J.length?1:0).attr("transform","translate("+n.range()[1]+",0)"),nt.select(".nv-context .nv-y1.nv-axis").transition().call(m),nt.select(".nv-context .nv-y2.nv-axis").transition().call(_)),
x.x(n).on("brush",onBrush),D&&x.extent(D);var ct=nt.select(".nv-brushBackground").selectAll("g").data([D||x.extent()]),ut=ct.enter().append("g");ut.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",U),ut.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",U);var dt=nt.select(".nv-x.nv-brush").call(x);dt.selectAll("rect").attr("height",U),dt.selectAll(".resize").append("path").attr("d",resizePath),y.dispatch.on("stateChange",function(t){for(var e in t)W[e]=t[e];B.stateChange(W),chart.update()}),B.on("changeState",function(t){"undefined"!=typeof t.disabled&&(b.forEach(function(e,n){e.disabled=t.disabled[n]}),W.disabled=t.disabled),chart.update()}),onBrush()}),chart}var t,e,n,a,o,s,l,c=i.models.line(),u=i.models.line(),d=i.models.historicalBar(),h=i.models.historicalBar(),f=i.models.axis(),p=i.models.axis(),g=i.models.axis(),v=i.models.axis(),m=i.models.axis(),_=i.models.axis(),y=i.models.legend(),x=r.svg.brush(),b=i.models.tooltip(),k={top:30,right:30,bottom:30,left:60},w={top:0,right:30,bottom:20,left:60},M=null,C=null,S=function(t){return t.x},A=function(t){return t.y},E=i.utils.defaultColor(),N=!0,P=!0,R=!1,L=!0,T=50,D=null,z=null,B=r.dispatch("brush","stateChange","changeState"),F=0,W=i.utils.state(),O=null,I=" (left axis)",H=" (right axis)",q=!1;c.clipEdge(!0),u.interactive(!1),u.pointActive(function(t){return!1}),f.orient("bottom").tickPadding(5),g.orient("left"),v.orient("right"),p.orient("bottom").tickPadding(5),m.orient("left"),_.orient("right"),b.headerEnabled(!0).headerFormatter(function(t,e){return f.tickFormat()(t,e)});var V=function(){return q?{main:v,focus:_}:{main:g,focus:m}},j=function(){return q?{main:g,focus:m}:{main:v,focus:_}},Y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},X=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},G=function(t){return t.every(function(t){return t.disabled})};return c.dispatch.on("elementMouseover.tooltip",function(t){b.duration(100).valueFormatter(function(t,e){return j().main.tickFormat()(t,e)}).data(t).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(t){b.hidden(!0)}),d.dispatch.on("elementMouseover.tooltip",function(t){t.value=chart.x()(t.data),t.series={value:chart.y()(t.data),color:t.color},b.duration(0).valueFormatter(function(t,e){return V().main.tickFormat()(t,e)}).data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(t){b.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(t){b()}),chart.dispatch=B,chart.legend=y,chart.lines=c,chart.lines2=u,chart.bars=d,chart.bars2=h,chart.xAxis=f,chart.x2Axis=p,chart.y1Axis=g,chart.y2Axis=v,chart.y3Axis=m,chart.y4Axis=_,chart.tooltip=b,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return M},set:function(t){M=t}},height:{get:function(){return C},set:function(t){C=t}},showLegend:{get:function(){return N},set:function(t){N=t}},brushExtent:{get:function(){return D},set:function(t){D=t}},noData:{get:function(){return z},set:function(t){z=t}},focusEnable:{get:function(){return P},set:function(t){P=t}},focusHeight:{get:function(){return T},set:function(t){T=t}},focusShowAxisX:{get:function(){return L},set:function(t){L=t}},focusShowAxisY:{get:function(){return R},set:function(t){R=t}},legendLeftAxisHint:{get:function(){return I},set:function(t){I=t}},legendRightAxisHint:{get:function(){return H},set:function(t){H=t}},margin:{get:function(){return k},set:function(t){k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},focusMargin:{get:function(){return w},set:function(t){w.top=void 0!==t.top?t.top:w.top,w.right=void 0!==t.right?t.right:w.right,w.bottom=void 0!==t.bottom?t.bottom:w.bottom,w.left=void 0!==t.left?t.left:w.left}},duration:{get:function(){return F},set:function(t){F=t}},color:{get:function(){return E},set:function(t){E=i.utils.getColor(t),y.color(E)}},x:{get:function(){return S},set:function(t){S=t,c.x(t),u.x(t),d.x(t),h.x(t)}},y:{get:function(){return A},set:function(t){A=t,c.y(t),u.y(t),d.y(t),h.y(t)}},switchYAxisOrder:{get:function(){return q},set:function(t){if(q!==t){var e=g;g=v,v=e;var n=m;m=_,_=n}q=t,g.orient("left"),v.orient("right"),m.orient("left"),_.orient("right")}}}),i.utils.inheritOptions(chart,c),i.utils.initOptions(chart),chart},i.models.multiBar=function(){"use strict";function chart(R){return N.reset(),R.each(function(R){var L=u-c.left-c.right,T=d-c.top-c.bottom;g=r.select(this),i.utils.initSVG(g);var D=0;if(w&&R.length&&(w=[{values:R[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),x){var z=r.layout.stack().offset(b).values(function(t){return t.values}).y(m)(!R.length&&w?w:R);z.forEach(function(t,e){t.nonStackable?(R[e].nonStackableSeries=D++,z[e]=R[e]):e>0&&z[e-1].nonStackable&&z[e].values.map(function(t,n){t.y0-=z[e-1].values[n].y,t.y1=t.y0+t.y})}),R=z}R.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),x&&R.length>0&&R[0].values.map(function(t,e){var n=0,r=0;R.map(function(t,i){if(!R[i].nonStackable){var a=t.values[e];a.size=Math.abs(a.y),a.y<0?(a.y1=r,r-=a.size):(a.y1=a.size+n,n+=a.size)}})});var B=e&&n?[]:R.map(function(t,e){return t.values.map(function(t,n){return{x:v(t,n),y:m(t,n),y0:t.y0,y1:t.y1,idx:e}})});h.domain(e||r.merge(B).map(function(t){return t.x})).rangeBands(a||[0,L],S),f.domain(n||r.extent(r.merge(B).map(function(t){var e=t.y;return x&&!R[t.idx].nonStackable&&(e=t.y>0?t.y1:t.y1+t.y),e}).concat(_))).range(o||[T,0]),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]-.01*h.domain()[0],h.domain()[1]+.01*h.domain()[1]]):h.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1])),s=s||h,l=l||f;var F=g.selectAll("g.nv-wrap.nv-multibar").data([R]),W=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),O=W.append("defs"),I=W.append("g"),H=F.select("g");I.append("g").attr("class","nv-groups"),F.attr("transform","translate("+c.left+","+c.top+")"),O.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),F.select("#nv-edge-clip-"+p+" rect").attr("width",L).attr("height",T),H.attr("clip-path",y?"url(#nv-edge-clip-"+p+")":"");var q=F.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});q.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var V=N.transition(q.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,C)).attr("y",function(t,e,n){var r=l(0)||0;return x&&R[t.series]&&!R[t.series].nonStackable&&(r=l(t.y0)),r}).attr("height",0).remove();V.delay&&V.delay(function(t,e){var n=e*(C/(P+1))-e;return n}),q.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return k(t,e)}).style("stroke",function(t,e){return k(t,e)}),q.style("stroke-opacity",1).style("fill-opacity",A);var j=q.selectAll("rect.nv-bar").data(function(t){return w&&!R.length?w.values:t.values});j.exit().remove();j.enter().append("rect").attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return x&&!R[n].nonStackable?0:n*h.rangeBand()/R.length}).attr("y",function(t,e,n){return l(x&&!R[n].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,e,n){return h.rangeBand()/(x&&!R[n].nonStackable?1:R.length)}).attr("transform",function(t,e){return"translate("+h(v(t,e))+",0)"});j.style("fill",function(t,e,n){return k(t,n,e)}).style("stroke",function(t,e,n){return k(t,n,e)}).on("mouseover",function(t,e){r.select(this).classed("hover",!0),E.elementMouseover({data:t,index:e,color:r.select(this).style("fill")})}).on("mouseout",function(t,e){r.select(this).classed("hover",!1),E.elementMouseout({data:t,index:e,color:r.select(this).style("fill")})}).on("mousemove",function(t,e){E.elementMousemove({data:t,index:e,color:r.select(this).style("fill")})}).on("click",function(t,e){var n=this;E.elementClick({data:t,index:e,color:r.select(this).style("fill"),event:r.event,element:n}),r.event.stopPropagation()}).on("dblclick",function(t,e){E.elementDblClick({data:t,index:e,color:r.select(this).style("fill")}),r.event.stopPropagation()}),j.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+h(v(t,e))+",0)"}),M&&(t||(t=R.map(function(){return!0})),j.style("fill",function(e,n,i){return r.rgb(M(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[i]).toString()}).style("stroke",function(e,n,i){return r.rgb(M(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[i]).toString()}));var Y=j.watchTransition(N,"multibar",Math.min(250,C)).delay(function(t,e){return e*C/R[0].values.length});x?Y.attr("y",function(t,e,n){var r=0;return r=R[n].nonStackable?m(t,e)<0?f(0):f(0)-f(m(t,e))<-1?f(0)-1:f(m(t,e))||0:f(t.y1)}).attr("height",function(t,e,n){return R[n].nonStackable?Math.max(Math.abs(f(m(t,e))-f(0)),0)||0:Math.max(Math.abs(f(t.y+t.y0)-f(t.y0)),0)}).attr("x",function(t,e,n){var r=0;return R[n].nonStackable&&(r=t.series*h.rangeBand()/R.length,R.length!==D&&(r=R[n].nonStackableSeries*h.rangeBand()/(2*D))),r}).attr("width",function(t,e,n){if(R[n].nonStackable){var r=h.rangeBand()/D;return R.length!==D&&(r=h.rangeBand()/(2*D)),r}return h.rangeBand()}):Y.attr("x",function(t,e){return t.series*h.rangeBand()/R.length}).attr("width",h.rangeBand()/R.length).attr("y",function(t,e){return m(t,e)<0?f(0):f(0)-f(m(t,e))<1?f(0)-1:f(m(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(f(m(t,e))-f(0)),1)||0}),s=h.copy(),l=f.copy(),R[0]&&R[0].values&&(P=R[0].values.length)}),N.renderEnd("multibar immediate"),chart}var t,e,n,a,o,s,l,c={top:0,right:0,bottom:0,left:0},u=960,d=500,h=r.scale.ordinal(),f=r.scale.linear(),p=Math.floor(1e4*Math.random()),g=null,v=function(t){return t.x},m=function(t){return t.y},_=[0],y=!0,x=!1,b="zero",k=i.utils.defaultColor(),w=!1,M=null,C=500,S=.1,A=.75,E=r.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),N=i.utils.renderWatch(E,C),P=0;return chart.dispatch=E,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},x:{get:function(){return v},set:function(t){v=t}},y:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return _},set:function(t){_=t}},stacked:{get:function(){return x},set:function(t){x=t}},stackOffset:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return y},set:function(t){y=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return p},set:function(t){p=t}},hideable:{get:function(){return w},set:function(t){w=t}},groupSpacing:{get:function(){return S},set:function(t){S=t}},fillOpacity:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return C},set:function(t){C=t,N.reset(C)}},color:{get:function(){return k},set:function(t){k=i.utils.getColor(t)}},barColor:{get:function(){return M},set:function(t){M=t?i.utils.getColor(t):null}}}),i.utils.initOptions(chart),chart},i.models.multiBarChart=function(){"use strict";function chart(A){return L.reset(),L.models(n),_&&L.models(a),y&&L.models(o),A.each(function(A){var L=r.select(this);i.utils.initSVG(L);var B=i.utils.availableWidth(h,L,d),F=i.utils.availableHeight(f,L,d);if(chart.update=function(){0===P?L.call(chart):L.transition().duration(P).call(chart)},chart.container=this,C.setter(z(A),chart.update).getter(D(A)).update(),C.disabled=A.map(function(t){return!!t.disabled}),!S){var W;S={};for(W in C)C[W]instanceof Array?S[W]=C[W].slice(0):S[W]=C[W]}if(!(A&&A.length&&A.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,L),chart;L.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var O=L.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([A]),I=O.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),H=O.select("g");if(I.append("g").attr("class","nv-x nv-axis"),I.append("g").attr("class","nv-y nv-axis"),I.append("g").attr("class","nv-barsWrap"),I.append("g").attr("class","nv-legendWrap"),I.append("g").attr("class","nv-controlsWrap"),I.append("g").attr("class","nv-interactive"),m?(l.width(B-N()),H.select(".nv-legendWrap").datum(A).call(l),l.height()>d.top&&(d.top=l.height(),F=i.utils.availableHeight(f,L,d)),H.select(".nv-legendWrap").attr("transform","translate("+N()+","+-d.top+")")):H.select(".nv-legendWrap").selectAll("*").remove(),g){var q=[{key:v.grouped||"Grouped",disabled:n.stacked()},{key:v.stacked||"Stacked",disabled:!n.stacked()}];c.width(N()).color(["#444","#444","#444"]),H.select(".nv-controlsWrap").datum(q).attr("transform","translate(0,"+-d.top+")").call(c)}else H.select(".nv-controlsWrap").selectAll("*").remove();O.attr("transform","translate("+d.left+","+d.top+")"),x&&H.select(".nv-y.nv-axis").attr("transform","translate("+B+",0)"),n.disabled(A.map(function(t){return t.disabled})).width(B).height(F).color(A.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!A[e].disabled}));var V=H.select(".nv-barsWrap").datum(A.filter(function(t){return!t.disabled}));if(V.call(n),_){a.scale(t)._ticks(i.utils.calcTicksX(B/100,A)).tickSize(-F,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),H.select(".nv-x.nv-axis").call(a);var j=H.select(".nv-x.nv-axis > g").selectAll("g");if(j.selectAll("line, text").style("opacity",1),k){var Y=function(t,e){return"translate("+t+","+e+")"},X=5,G=17;j.selectAll("text").attr("transform",function(t,e,n){return Y(0,n%2==0?X:G)});var U=r.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;H.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return Y(0,0===e||U%2!==0?G:X)})}w&&H.selectAll(".tick text").call(i.utils.wrapTicks,chart.xAxis.rangeBand()),b&&j.filter(function(t,e){return e%Math.ceil(A[0].values.length/(B/100))!==0}).selectAll("text, line").style("opacity",0),M&&j.selectAll(".tick text").attr("transform","rotate("+M+" 0,0)").style("text-anchor",M>0?"start":"end"),H.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}y&&(o.scale(e)._ticks(i.utils.calcTicksY(F/36,A)).tickSize(-B,0),H.select(".nv-y.nv-axis").call(o)),R&&(s.width(B).height(F).margin({left:d.left,top:d.top}).svgContainer(L).xScale(t),O.select(".nv-interactive").call(s)),l.dispatch.on("stateChange",function(t){for(var e in t)C[e]=t[e];E.stateChange(C),chart.update()}),c.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(q=q.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case v.grouped:n.stacked(!1);break;case"Stacked":case v.stacked:n.stacked(!0)}C.stacked=n.stacked(),E.stateChange(C),chart.update()}}),E.on("changeState",function(t){"undefined"!=typeof t.disabled&&(A.forEach(function(e,n){e.disabled=t.disabled[n]}),C.disabled=t.disabled),"undefined"!=typeof t.stacked&&(n.stacked(t.stacked),C.stacked=t.stacked,T=t.stacked),chart.update()}),R?(s.dispatch.on("elementMousemove",function(e){if(void 0!=e.pointXValue){var n,r,i,a,o=[];A.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(s,l){r=t.domain().indexOf(e.pointXValue);var c=s.values[r];void 0!==c&&(a=c.x,void 0===n&&(n=c),void 0===i&&(i=e.mouseX),o.push({key:s.key,value:chart.y()(c,r),color:p(s,s.seriesIndex),data:s.values[r]}))}),s.tooltip.data({value:a,index:r,series:o})(),s.renderGuideLine(i)}}),s.dispatch.on("elementMouseout",function(t){s.tooltip.hidden(!0)})):(n.dispatch.on("elementMouseover.tooltip",function(t){t.value=chart.x()(t.data),t.series={key:t.data.key,value:chart.y()(t.data),color:t.color},u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){u()}))}),L.renderEnd("multibarchart immediate"),chart}var t,e,n=i.models.multiBar(),a=i.models.axis(),o=i.models.axis(),s=i.interactiveGuideline(),l=i.models.legend(),c=i.models.legend(),u=i.models.tooltip(),d={top:30,right:20,bottom:50,left:60},h=null,f=null,p=i.utils.defaultColor(),g=!0,v={},m=!0,_=!0,y=!0,x=!1,b=!0,k=!1,w=!1,M=0,C=i.utils.state(),S=null,A=null,E=r.dispatch("stateChange","changeState","renderEnd"),N=function(){return g?180:0},P=250,R=!1;C.stacked=!1,n.stacked(!1),a.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),o.orient(x?"right":"left").tickFormat(r.format(",.1f")),u.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return a.tickFormat()(t,e)}),c.updateState(!1);var L=i.utils.renderWatch(E),T=!1,D=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:T}}},z=function(t){return function(e){void 0!==e.stacked&&(T=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return chart.dispatch=E,chart.multibar=n,chart.legend=l,chart.controls=c,chart.xAxis=a,chart.yAxis=o,chart.state=C,chart.tooltip=u,chart.interactiveLayer=s,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return m},set:function(t){m=t}},showControls:{get:function(){return g},set:function(t){g=t}},controlLabels:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return _},set:function(t){_=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return A},set:function(t){A=t}},reduceXTicks:{get:function(){return b},set:function(t){b=t}},rotateLabels:{get:function(){return M},set:function(t){M=t}},staggerLabels:{get:function(){return k},set:function(t){k=t}},wrapLabels:{get:function(){return w},set:function(t){w=!!t}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},duration:{get:function(){return P},set:function(t){P=t,n.duration(P),a.duration(P),o.duration(P),L.reset(P)}},color:{get:function(){return p},set:function(t){p=i.utils.getColor(t),l.color(p)}},rightAlignYAxis:{get:function(){return x},set:function(t){x=t,o.orient(x?"right":"left")}},useInteractiveGuideline:{get:function(){return R},set:function(t){R=t}},barColor:{get:function(){return n.barColor},set:function(t){n.barColor(t),l.color(function(t,e){return r.rgb("#ccc").darker(1.5*e).toString()})}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.multiBarHorizontal=function(){"use strict";function chart(h){return R.reset(),h.each(function(h){var N=u-c.left-c.right,L=d-c.top-c.bottom;f=r.select(this),i.utils.initSVG(f),k&&(h=r.layout.stack().offset("zero").values(function(t){return t.values}).y(m)(h)),h.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),k&&h[0].values.map(function(t,e){var n=0,r=0;h.map(function(t){var i=t.values[e];i.size=Math.abs(i.y),i.y<0?(i.y1=r-i.size,r-=i.size):(i.y1=n,n+=i.size)})});var T=e&&n?[]:h.map(function(t){return t.values.map(function(t,e){return{x:v(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});p.domain(e||r.merge(T).map(function(t){return t.x})).rangeBands(a||[0,L],S),g.domain(n||r.extent(r.merge(T).map(function(t){return k?t.y>0?t.y1+t.y:t.y1:t.y}).concat(y))),w&&!k?g.range(o||[g.domain()[0]<0?C:0,N-(g.domain()[1]>0?C:0)]):g.range(o||[0,N]),s=s||p,l=l||r.scale.linear().domain(g.domain()).range([g(0),g(0)]);var D=r.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([h]),z=D.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),B=(z.append("defs"),z.append("g"));D.select("g");B.append("g").attr("class","nv-groups"),D.attr("transform","translate("+c.left+","+c.top+")");var F=D.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});F.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),F.exit().watchTransition(R,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),F.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return x(t,e)}).style("stroke",function(t,e){return x(t,e)}),F.watchTransition(R,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",A);var W=F.selectAll("g.nv-bar").data(function(t){return t.values});W.exit().remove();var O=W.enter().append("g").attr("transform",function(t,e,n){return"translate("+l(k?t.y0:0)+","+(k?0:n*p.rangeBand()/h.length+p(v(t,e)))+")"});O.append("rect").attr("width",0).attr("height",p.rangeBand()/(k?1:h.length)),W.on("mouseover",function(t,e){r.select(this).classed("hover",!0),P.elementMouseover({data:t,index:e,color:r.select(this).style("fill")})}).on("mouseout",function(t,e){r.select(this).classed("hover",!1),P.elementMouseout({data:t,index:e,color:r.select(this).style("fill")})}).on("mouseout",function(t,e){P.elementMouseout({data:t,index:e,color:r.select(this).style("fill")})}).on("mousemove",function(t,e){P.elementMousemove({data:t,index:e,color:r.select(this).style("fill")})}).on("click",function(t,e){var n=this;P.elementClick({data:t,index:e,color:r.select(this).style("fill"),event:r.event,element:n}),r.event.stopPropagation()}).on("dblclick",function(t,e){P.elementDblClick({data:t,index:e,color:r.select(this).style("fill")}),r.event.stopPropagation()}),_(h[0],0)&&(O.append("polyline"),W.select("polyline").attr("fill","none").attr("points",function(t,e){var n=_(t,e),r=.8*p.rangeBand()/(2*(k?1:h.length));n=n.length?n:[-Math.abs(n),Math.abs(n)],n=n.map(function(t){return g(t)-g(0)});var i=[[n[0],-r],[n[0],r],[n[0],0],[n[1],0],[n[1],-r],[n[1],r]];return i.map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,e){var n=p.rangeBand()/(2*(k?1:h.length));return"translate("+(m(t,e)<0?0:g(m(t,e))-g(0))+", "+n+")"})),O.append("text"),w&&!k?(W.select("text").attr("text-anchor",function(t,e){return m(t,e)<0?"end":"start"}).attr("y",p.rangeBand()/(2*h.length)).attr("dy",".32em").text(function(t,e){var n=E(m(t,e)),r=_(t,e);return void 0===r?n:r.length?n+"+"+E(Math.abs(r[1]))+"-"+E(Math.abs(r[0])):n+""+E(Math.abs(r))}),W.watchTransition(R,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return m(t,e)<0?-4:g(m(t,e))-g(0)+4})):W.selectAll("text").text(""),M&&!k?(O.append("text").classed("nv-bar-label",!0),W.select("text.nv-bar-label").attr("text-anchor",function(t,e){return m(t,e)<0?"start":"end"}).attr("y",p.rangeBand()/(2*h.length)).attr("dy",".32em").text(function(t,e){return v(t,e)}),W.watchTransition(R,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return m(t,e)<0?g(0)-g(m(t,e))+4:-4})):W.selectAll("text.nv-bar-label").text(""),W.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}),b&&(t||(t=h.map(function(){return!0})),W.style("fill",function(e,n,i){return r.rgb(b(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[i]).toString()}).style("stroke",function(e,n,i){return r.rgb(b(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[i]).toString()})),k?W.watchTransition(R,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+g(t.y1)+","+p(v(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(g(m(t,e)+t.y0)-g(t.y0))||0}).attr("height",p.rangeBand()):W.watchTransition(R,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+g(m(t,e)<0?m(t,e):0)+","+(t.series*p.rangeBand()/h.length+p(v(t,e)))+")"}).select("rect").attr("height",p.rangeBand()/h.length).attr("width",function(t,e){return Math.max(Math.abs(g(m(t,e))-g(0)),1)||0}),s=p.copy(),l=g.copy()}),R.renderEnd("multibarHorizontal immediate"),chart}var t,e,n,a,o,s,l,c={top:0,right:0,bottom:0,left:0},u=960,d=500,h=Math.floor(1e4*Math.random()),f=null,p=r.scale.ordinal(),g=r.scale.linear(),v=function(t){return t.x},m=function(t){return t.y},_=function(t){return t.yErr},y=[0],x=i.utils.defaultColor(),b=null,k=!1,w=!1,M=!1,C=60,S=.1,A=.75,E=r.format(",.2f"),N=250,P=r.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),R=i.utils.renderWatch(P,N);return chart.dispatch=P,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},x:{get:function(){return v},set:function(t){v=t}},y:{get:function(){return m},set:function(t){m=t}},yErr:{get:function(){return _},set:function(t){_=t}},xScale:{get:function(){return p},set:function(t){p=t}},yScale:{get:function(){return g},set:function(t){g=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return y},set:function(t){y=t}},stacked:{get:function(){return k},set:function(t){k=t}},showValues:{get:function(){return w},set:function(t){w=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return h},set:function(t){h=t}},valueFormat:{get:function(){return E},set:function(t){E=t}},valuePadding:{get:function(){return C},set:function(t){C=t}},groupSpacing:{get:function(){return S},set:function(t){S=t}},fillOpacity:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return N},set:function(t){N=t,R.reset(N)}},color:{get:function(){return x},set:function(t){x=i.utils.getColor(t)}},barColor:{get:function(){return b},set:function(t){b=t?i.utils.getColor(t):null}}}),i.utils.initOptions(chart),chart},i.models.multiBarHorizontalChart=function(){"use strict";function chart(c){return E.reset(),E.models(n),m&&E.models(a),_&&E.models(o),c.each(function(c){var k=r.select(this);i.utils.initSVG(k);var E=i.utils.availableWidth(d,k,u),N=i.utils.availableHeight(h,k,u);if(chart.update=function(){k.transition().duration(C).call(chart)},chart.container=this,y=n.stacked(),x.setter(A(c),chart.update).getter(S(c)).update(),x.disabled=c.map(function(t){return!!t.disabled}),!b){var P;b={};for(P in x)x[P]instanceof Array?b[P]=x[P].slice(0):b[P]=x[P]}if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,k),chart;k.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var R=k.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([c]),L=R.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),T=R.select("g");if(L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),L.append("g").attr("class","nv-barsWrap"),L.append("g").attr("class","nv-legendWrap"),L.append("g").attr("class","nv-controlsWrap"),v?(s.width(E-M()),T.select(".nv-legendWrap").datum(c).call(s),s.height()>u.top&&(u.top=s.height(),N=i.utils.availableHeight(h,k,u)),T.select(".nv-legendWrap").attr("transform","translate("+M()+","+-u.top+")")):T.select(".nv-legendWrap").selectAll("*").remove(),p){var D=[{key:g.grouped||"Grouped",disabled:n.stacked()},{key:g.stacked||"Stacked",disabled:!n.stacked()}];l.width(M()).color(["#444","#444","#444"]),T.select(".nv-controlsWrap").datum(D).attr("transform","translate(0,"+-u.top+")").call(l)}else T.select(".nv-controlsWrap").selectAll("*").remove();R.attr("transform","translate("+u.left+","+u.top+")"),n.disabled(c.map(function(t){return t.disabled})).width(E).height(N).color(c.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!c[e].disabled}));var z=T.select(".nv-barsWrap").datum(c.filter(function(t){return!t.disabled}));if(z.transition().call(n),m){a.scale(t)._ticks(i.utils.calcTicksY(N/24,c)).tickSize(-E,0),T.select(".nv-x.nv-axis").call(a);var B=T.select(".nv-x.nv-axis").selectAll("g");B.selectAll("line, text")}_&&(o.scale(e)._ticks(i.utils.calcTicksX(E/100,c)).tickSize(-N,0),T.select(".nv-y.nv-axis").attr("transform","translate(0,"+N+")"),T.select(".nv-y.nv-axis").call(o)),T.select(".nv-zeroLine line").attr("x1",e(0)).attr("x2",e(0)).attr("y1",0).attr("y2",-N),s.dispatch.on("stateChange",function(t){for(var e in t)x[e]=t[e];w.stateChange(x),chart.update()}),l.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(D=D.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case g.grouped:n.stacked(!1);break;case"Stacked":case g.stacked:n.stacked(!0)}x.stacked=n.stacked(),w.stateChange(x),y=n.stacked(),chart.update()}}),w.on("changeState",function(t){"undefined"!=typeof t.disabled&&(c.forEach(function(e,n){e.disabled=t.disabled[n]}),x.disabled=t.disabled),"undefined"!=typeof t.stacked&&(n.stacked(t.stacked),x.stacked=t.stacked,y=t.stacked),chart.update()})}),E.renderEnd("multibar horizontal chart immediate"),chart}var t,e,n=i.models.multiBarHorizontal(),a=i.models.axis(),o=i.models.axis(),s=i.models.legend().height(30),l=i.models.legend().height(30),c=i.models.tooltip(),u={top:30,right:20,bottom:50,left:60},d=null,h=null,f=i.utils.defaultColor(),p=!0,g={},v=!0,m=!0,_=!0,y=!1,x=i.utils.state(),b=null,k=null,w=r.dispatch("stateChange","changeState","renderEnd"),M=function(){return p?180:0},C=250;x.stacked=!1,n.stacked(y),a.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),o.orient("bottom").tickFormat(r.format(",.1f")),c.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return a.tickFormat()(t,e)}),l.updateState(!1);var S=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:y}}},A=function(t){return function(e){void 0!==e.stacked&&(y=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},E=i.utils.renderWatch(w,C);return n.dispatch.on("elementMouseover.tooltip",function(t){t.value=chart.x()(t.data),t.series={key:t.data.key,value:chart.y()(t.data),color:t.color},c.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){c.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(t){c()}),chart.dispatch=w,chart.multibar=n,chart.legend=s,chart.controls=l,chart.xAxis=a,chart.yAxis=o,chart.state=x,chart.tooltip=c,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return v},set:function(t){v=t}},showControls:{get:function(){return p},set:function(t){p=t}},controlLabels:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return _},set:function(t){_=t}},defaultState:{get:function(){return b},set:function(t){
b=t}},noData:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return C},set:function(t){C=t,E.reset(C),n.duration(C),a.duration(C),o.duration(C)}},color:{get:function(){return f},set:function(t){f=i.utils.getColor(t),s.color(f)}},barColor:{get:function(){return n.barColor},set:function(t){n.barColor(t),s.color(function(t,e){return r.rgb("#ccc").darker(1.5*e).toString()})}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.multiChart=function(){"use strict";function chart(c){return c.each(function(c){function mouseover_line(t){var e=2===c[t.seriesIndex].yAxis?P:N;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},L.duration(0).headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function mouseover_scatter(t){var e=2===c[t.seriesIndex].yAxis?P:N;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},L.duration(100).headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function mouseover_stack(t){var e=2===c[t.seriesIndex].yAxis?P:N;t.point.x=S.x()(t.point),t.point.y=S.y()(t.point),L.duration(0).headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function mouseover_bar(t){var e=2===c[t.data.series].yAxis?P:N;t.value=M.x()(t.data),t.series={value:M.y()(t.data),color:t.color,key:t.data.key},L.duration(0).headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function clearHighlights(){for(var t=0,e=D.length;t<e;t++){var n=D[t];try{n.clearHighlights()}catch(r){}}}function highlightPoint(t,e,n){for(var r=0,i=D.length;r<i;r++){var a=D[r];try{a.highlightPoint(t,e,n)}catch(o){}}}var f=r.select(this);i.utils.initSVG(f),chart.update=function(){f.transition().call(chart)},chart.container=this;var T=i.utils.availableWidth(o,f,n),z=i.utils.availableHeight(s,f,n),B=c.filter(function(t){return"line"==t.type&&1==t.yAxis}),F=c.filter(function(t){return"line"==t.type&&2==t.yAxis}),W=c.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),O=c.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),I=c.filter(function(t){return"bar"==t.type&&1==t.yAxis}),H=c.filter(function(t){return"bar"==t.type&&2==t.yAxis}),q=c.filter(function(t){return"area"==t.type&&1==t.yAxis}),V=c.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,f),chart;f.selectAll(".nv-noData").remove();var j=c.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:u(t),y:d(t)}})}),Y=c.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:u(t),y:d(t)}})});m.domain(r.extent(r.merge(j.concat(Y)),function(t){return t.x})).range([0,T]);var X=f.selectAll("g.wrap.multiChart").data([c]),G=X.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");G.append("g").attr("class","nv-x nv-axis"),G.append("g").attr("class","nv-y1 nv-axis"),G.append("g").attr("class","nv-y2 nv-axis"),G.append("g").attr("class","stack1Wrap"),G.append("g").attr("class","stack2Wrap"),G.append("g").attr("class","bars1Wrap"),G.append("g").attr("class","bars2Wrap"),G.append("g").attr("class","scatters1Wrap"),G.append("g").attr("class","scatters2Wrap"),G.append("g").attr("class","lines1Wrap"),G.append("g").attr("class","lines2Wrap"),G.append("g").attr("class","legendWrap"),G.append("g").attr("class","nv-interactive");var U=X.select("g"),Z=c.map(function(t,e){return c[e].color||a(t,e)});if(l){var $=R.align()?T/2:T,J=R.align()?$:0;R.width($),R.color(Z),U.select(".legendWrap").datum(c.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":v),t})).call(R),R.height()>n.top&&(n.top=R.height(),z=i.utils.availableHeight(s,f,n)),U.select(".legendWrap").attr("transform","translate("+J+","+-n.top+")")}else U.select(".legendWrap").selectAll("*").remove();x.width(T).height(z).interpolate(h).color(Z.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"line"==c[e].type})),b.width(T).height(z).interpolate(h).color(Z.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"line"==c[e].type})),k.width(T).height(z).color(Z.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"scatter"==c[e].type})),w.width(T).height(z).color(Z.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"scatter"==c[e].type})),M.width(T).height(z).color(Z.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"bar"==c[e].type})),C.width(T).height(z).color(Z.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"bar"==c[e].type})),S.width(T).height(z).interpolate(h).color(Z.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"area"==c[e].type})),A.width(T).height(z).interpolate(h).color(Z.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"area"==c[e].type})),U.attr("transform","translate("+n.left+","+n.top+")");var K=U.select(".lines1Wrap").datum(B.filter(function(t){return!t.disabled})),Q=U.select(".scatters1Wrap").datum(W.filter(function(t){return!t.disabled})),tt=U.select(".bars1Wrap").datum(I.filter(function(t){return!t.disabled})),et=U.select(".stack1Wrap").datum(q.filter(function(t){return!t.disabled})),nt=U.select(".lines2Wrap").datum(F.filter(function(t){return!t.disabled})),rt=U.select(".scatters2Wrap").datum(O.filter(function(t){return!t.disabled})),it=U.select(".bars2Wrap").datum(H.filter(function(t){return!t.disabled})),at=U.select(".stack2Wrap").datum(V.filter(function(t){return!t.disabled})),ot=q.length?q.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],st=V.length?V.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];_.domain(t||r.extent(r.merge(j).concat(ot),function(t){return t.y})).range([0,z]),y.domain(e||r.extent(r.merge(Y).concat(st),function(t){return t.y})).range([0,z]),x.yDomain(_.domain()),k.yDomain(_.domain()),M.yDomain(_.domain()),S.yDomain(_.domain()),b.yDomain(y.domain()),w.yDomain(y.domain()),C.yDomain(y.domain()),A.yDomain(y.domain()),q.length&&r.transition(et).call(S),V.length&&r.transition(at).call(A),I.length&&r.transition(tt).call(M),H.length&&r.transition(it).call(C),B.length&&r.transition(K).call(x),F.length&&r.transition(nt).call(b),W.length&&r.transition(Q).call(k),O.length&&r.transition(rt).call(w),E._ticks(i.utils.calcTicksX(T/100,c)).tickSize(-z,0),U.select(".nv-x.nv-axis").attr("transform","translate(0,"+z+")"),r.transition(U.select(".nv-x.nv-axis")).call(E),N._ticks(i.utils.calcTicksY(z/36,c)).tickSize(-T,0),r.transition(U.select(".nv-y1.nv-axis")).call(N),P._ticks(i.utils.calcTicksY(z/36,c)).tickSize(-T,0),r.transition(U.select(".nv-y2.nv-axis")).call(P),U.select(".nv-y1.nv-axis").classed("nv-disabled",!j.length).attr("transform","translate("+m.range()[0]+",0)"),U.select(".nv-y2.nv-axis").classed("nv-disabled",!Y.length).attr("transform","translate("+m.range()[1]+",0)"),R.dispatch.on("stateChange",function(t){chart.update()}),g&&(p.width(T).height(z).margin({left:n.left,top:n.top}).svgContainer(f).xScale(m),X.select(".nv-interactive").call(p)),g?(p.dispatch.on("elementMousemove",function(t){clearHighlights();var e,n,r,o=[];c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(s,l){var c=m.domain(),u=s.values.filter(function(t,e){return chart.x()(t,e)>=c[0]&&chart.x()(t,e)<=c[1]});n=i.interactiveBisect(u,t.pointXValue,chart.x());var d=u[n],h=chart.y()(d,n);null!==h&&highlightPoint(l,n,!0),void 0!==d&&(void 0===e&&(e=d),void 0===r&&(r=m(chart.x()(d,n))),o.push({key:s.key,value:h,color:a(s,s.seriesIndex),data:d,yAxis:2==s.yAxis?P:N}))});var s=function(t,e){var n=o[e].yAxis;return null==t?"N/A":n.tickFormat()(t)};p.tooltip.headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(p.tooltip.valueFormatter()||s).data({value:chart.x()(e,n),index:n,series:o})(),p.renderGuideLine(r)}),p.dispatch.on("elementMouseout",function(t){clearHighlights()})):(x.dispatch.on("elementMouseover.tooltip",mouseover_line),b.dispatch.on("elementMouseover.tooltip",mouseover_line),x.dispatch.on("elementMouseout.tooltip",function(t){L.hidden(!0)}),b.dispatch.on("elementMouseout.tooltip",function(t){L.hidden(!0)}),k.dispatch.on("elementMouseover.tooltip",mouseover_scatter),w.dispatch.on("elementMouseover.tooltip",mouseover_scatter),k.dispatch.on("elementMouseout.tooltip",function(t){L.hidden(!0)}),w.dispatch.on("elementMouseout.tooltip",function(t){L.hidden(!0)}),S.dispatch.on("elementMouseover.tooltip",mouseover_stack),A.dispatch.on("elementMouseover.tooltip",mouseover_stack),S.dispatch.on("elementMouseout.tooltip",function(t){L.hidden(!0)}),A.dispatch.on("elementMouseout.tooltip",function(t){L.hidden(!0)}),M.dispatch.on("elementMouseover.tooltip",mouseover_bar),C.dispatch.on("elementMouseover.tooltip",mouseover_bar),M.dispatch.on("elementMouseout.tooltip",function(t){L.hidden(!0)}),C.dispatch.on("elementMouseout.tooltip",function(t){L.hidden(!0)}),M.dispatch.on("elementMousemove.tooltip",function(t){L()}),C.dispatch.on("elementMousemove.tooltip",function(t){L()}))}),chart}var t,e,n={top:30,right:20,bottom:50,left:60},a=i.utils.defaultColor(),o=null,s=null,l=!0,c=null,u=function(t){return t.x},d=function(t){return t.y},h="linear",f=!0,p=i.interactiveGuideline(),g=!1,v=" (right axis)",m=r.scale.linear(),_=r.scale.linear(),y=r.scale.linear(),x=i.models.line().yScale(_),b=i.models.line().yScale(y),k=i.models.scatter().yScale(_),w=i.models.scatter().yScale(y),M=i.models.multiBar().stacked(!1).yScale(_),C=i.models.multiBar().stacked(!1).yScale(y),S=i.models.stackedArea().yScale(_),A=i.models.stackedArea().yScale(y),E=i.models.axis().scale(m).orient("bottom").tickPadding(5),N=i.models.axis().scale(_).orient("left"),P=i.models.axis().scale(y).orient("right"),R=i.models.legend().height(30),L=i.models.tooltip(),T=r.dispatch(),D=[x,b,k,w,M,C,S,A];return chart.dispatch=T,chart.legend=R,chart.lines1=x,chart.lines2=b,chart.scatters1=k,chart.scatters2=w,chart.bars1=M,chart.bars2=C,chart.stack1=S,chart.stack2=A,chart.xAxis=E,chart.yAxis1=N,chart.yAxis2=P,chart.tooltip=L,chart.interactiveLayer=p,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},yDomain1:{get:function(){return t},set:function(e){t=e}},yDomain2:{get:function(){return e},set:function(t){e=t}},noData:{get:function(){return c},set:function(t){c=t}},interpolate:{get:function(){return h},set:function(t){h=t}},legendRightAxisHint:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return a},set:function(t){a=i.utils.getColor(t)}},x:{get:function(){return u},set:function(t){u=t,x.x(t),b.x(t),k.x(t),w.x(t),M.x(t),C.x(t),S.x(t),A.x(t)}},y:{get:function(){return d},set:function(t){d=t,x.y(t),b.y(t),k.y(t),w.y(t),S.y(t),A.y(t),M.y(t),C.y(t)}},useVoronoi:{get:function(){return f},set:function(t){f=t,x.useVoronoi(t),b.useVoronoi(t),S.useVoronoi(t),A.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return g},set:function(t){g=t,g&&(x.interactive(!1),x.useVoronoi(!1),b.interactive(!1),b.useVoronoi(!1),S.interactive(!1),S.useVoronoi(!1),A.interactive(!1),A.useVoronoi(!1),k.interactive(!1),w.interactive(!1))}}}),i.utils.initOptions(chart),chart},i.models.ohlcBar=function(){"use strict";function chart(M){return M.each(function(M){u=r.select(this);var S=i.utils.availableWidth(s,u,o),A=i.utils.availableHeight(l,u,o);i.utils.initSVG(u);var E=S/M[0].values.length*.9;d.domain(t||r.extent(M[0].values.map(f).concat(y))),b?d.range(n||[.5*S/M[0].values.length,S*(M[0].values.length-.5)/M[0].values.length]):d.range(n||[5+E/2,S-E/2-5]),h.domain(e||[r.min(M[0].values.map(_).concat(x)),r.max(M[0].values.map(m).concat(x))]).range(a||[A,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),h.domain()[0]===h.domain()[1]&&(h.domain()[0]?h.domain([h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]):h.domain([-1,1]));var N=r.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([M[0].values]),P=N.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),R=P.append("defs"),L=P.append("g"),T=N.select("g");L.append("g").attr("class","nv-ticks"),N.attr("transform","translate("+o.left+","+o.top+")"),u.on("click",function(t,e){C.chartClick({data:t,index:e,pos:r.event,id:c})}),R.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),N.select("#nv-chart-clip-path-"+c+" rect").attr("width",S).attr("height",A),T.attr("clip-path",k?"url(#nv-chart-clip-path-"+c+")":"");var D=N.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});D.exit().remove(),D.enter().append("path").attr("class",function(t,e,n){return(g(t,e)>v(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(h(g(t,e))-h(m(t,e)))+"l"+-E/2+",0l"+E/2+",0l0,"+(h(_(t,e))-h(g(t,e)))+"l0,"+(h(v(t,e))-h(_(t,e)))+"l"+E/2+",0l"+-E/2+",0z"}).attr("transform",function(t,e){return"translate("+d(f(t,e))+","+h(m(t,e))+")"}).attr("fill",function(t,e){return w[0]}).attr("stroke",function(t,e){return w[0]}).attr("x",0).attr("y",function(t,e){return h(Math.max(0,p(t,e)))}).attr("height",function(t,e){return Math.abs(h(p(t,e))-h(0))}),D.attr("class",function(t,e,n){return(g(t,e)>v(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),r.transition(D).attr("transform",function(t,e){return"translate("+d(f(t,e))+","+h(m(t,e))+")"}).attr("d",function(t,e){var n=S/M[0].values.length*.9;return"m0,0l0,"+(h(g(t,e))-h(m(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(h(_(t,e))-h(g(t,e)))+"l0,"+(h(v(t,e))-h(_(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),chart}var t,e,n,a,o={top:0,right:0,bottom:0,left:0},s=null,l=null,c=Math.floor(1e4*Math.random()),u=null,d=r.scale.linear(),h=r.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},g=function(t){return t.open},v=function(t){return t.close},m=function(t){return t.high},_=function(t){return t.low},y=[],x=[],b=!1,k=!0,w=i.utils.defaultColor(),M=!1,C=r.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return chart.highlightPoint=function(t,e){chart.clearHighlights(),u.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},chart.clearHighlights=function(){u.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},chart.dispatch=C,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return a},set:function(t){a=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return x},set:function(t){x=t}},padData:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return c},set:function(t){c=t}},interactive:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},open:{get:function(){return g()},set:function(t){g=t}},close:{get:function(){return v()},set:function(t){v=t}},high:{get:function(){return m},set:function(t){m=t}},low:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return w},set:function(t){w=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.parallelCoordinates=function(){"use strict";function chart(A){return S.reset(),A.each(function(S){function path(t){return w(p.map(function(e){if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key]))||R){var n=d[e.key].domain(),i=d[e.key].range(),a=n[0]-(n[1]-n[0])/9;if(b.indexOf(e.key)<0){var o=r.scale.linear().domain([a,n[1]]).range([c-12,i[1]]);d[e.key].brush.y(o),b.push(e.key)}if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key])))return[u(e.key),d[e.key](a)]}return void 0!==F&&(b.length>0||R?(F.style("display","inline"),W.style("display","inline")):(F.style("display","none"),W.style("display","none"))),[u(e.key),d[e.key](t.values[e.key])]}))}function restoreBrush(t){_.forEach(function(e){var n=d[e.dimension].brush.y().domain();e.hasOnlyNaN&&(e.extent[1]=(d[e.dimension].domain()[1]-n[0])*(e.extent[1]-e.extent[0])/(P[e.dimension]-e.extent[0])+n[0]),e.hasNaN&&(e.extent[0]=n[0]),t&&d[e.dimension].brush.extent(e.extent)}),n.select(".nv-brushBackground").each(function(t){r.select(this).call(d[t.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),updateTicks()}function brushstart(){v===!1&&(v=!0,restoreBrush(!0))}function brush(){V=g.filter(function(t){return!d[t].brush.empty()}),j=V.map(function(t){return d[t].brush.extent()}),_=[],V.forEach(function(t,e){_[e]={dimension:t,extent:j[e],hasNaN:!1,hasOnlyNaN:!1}}),y=[],t.style("display",function(t){var e=V.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||j[n][0]!=d[e].brush.y().domain()[0])||j[n][0]<=t.values[e]&&t.values[e]<=j[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&y.push(t),e?null:"none"}),updateTicks(),C.brush({filters:_,active:y})}function brushend(){var t=V.length>0;_.forEach(function(t){t.extent[0]===d[t.dimension].brush.y().domain()[0]&&b.indexOf(t.dimension)>=0&&(t.hasNaN=!0),t.extent[1]<d[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)}),C.brushEnd(y,t)}function updateTicks(){n.select(".nv-axis").each(function(t,e){var n=_.filter(function(e){return e.dimension==t.key});L[t.key]=d[t.key].domain(),0!=n.length&&v&&(L[t.key]=[],n[0].extent[1]>d[t.key].domain()[0]&&(L[t.key]=[n[0].extent[1]]),n[0].extent[0]>=d[t.key].domain()[0]&&L[t.key].push(n[0].extent[0])),r.select(this).call(M.scale(d[t.key]).tickFormat(t.format).tickValues(L[t.key]))})}function dragStart(t){x[t.key]=this.parentNode.__origin__=u(t.key),e.attr("visibility","hidden")}function dragMove(e){x[e.key]=Math.min(l,Math.max(0,this.parentNode.__origin__+=r.event.x)),t.attr("d",path),p.sort(function(t,e){return dimensionPosition(t.key)-dimensionPosition(e.key)}),p.forEach(function(t,e){return t.currentPosition=e}),u.domain(p.map(function(t){return t.key})),n.attr("transform",function(t){return"translate("+dimensionPosition(t.key)+")"})}function dragEnd(n,i){delete this.parentNode.__origin__,delete x[n.key],r.select(this.parentNode).attr("transform","translate("+u(n.key)+")"),t.attr("d",path),e.attr("d",path).attr("visibility",null),C.dimensionsOrder(p)}function dimensionPosition(t){var e=x[t];return null==e?u(t):e}var A=r.select(this);if(l=i.utils.availableWidth(o,A,a),c=i.utils.availableHeight(s,A,a),i.utils.initSVG(A),void 0===S[0].values){var E=[];S.forEach(function(t){var e={},n=Object.keys(t);n.forEach(function(n){"name"!==n&&(e[n]=t[n])}),E.push({key:t.name,values:e})}),S=E}var N=S.map(function(t){return t.values});0===y.length&&(y=S),g=f.sort(function(t,e){return t.currentPosition-e.currentPosition}).map(function(t){return t.key}),p=f.filter(function(t){return!t.disabled}),u.rangePoints([0,l],1).domain(p.map(function(t){return t.key}));var P={},R=!1,L=[];g.forEach(function(t){var e=r.extent(N,function(e){return+e[t]}),n=e[0],i=e[1],a=!1;(isNaN(n)||isNaN(i))&&(a=!0,n=0,i=0),n===i&&(n-=1,i+=1);var o=_.filter(function(e){return e.dimension==t});0!==o.length&&(a?(n=d[t].domain()[0],i=d[t].domain()[1]):!o[0].hasOnlyNaN&&v?(n=n>o[0].extent[0]?o[0].extent[0]:n,i=i<o[0].extent[1]?o[0].extent[1]:i):o[0].hasNaN&&(i=i<o[0].extent[1]?o[0].extent[1]:i,P[t]=d[t].domain()[1],R=!0)),d[t]=r.scale.linear().domain([n,i]).range([.9*(c-12),0]),b=[],d[t].brush=r.svg.brush().y(d[t]).on("brushstart",brushstart).on("brush",brush).on("brushend",brushend)});var T=A.selectAll("g.nv-wrap.nv-parallelCoordinates").data([S]),D=T.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),z=D.append("g"),B=T.select("g");z.append("g").attr("class","nv-parallelCoordinates background"),z.append("g").attr("class","nv-parallelCoordinates foreground"),z.append("g").attr("class","nv-parallelCoordinates missingValuesline"),T.attr("transform","translate("+a.left+","+a.top+")"),w.interpolate("cardinal").tension(k),M.orient("left");var F,W,O=r.behavior.drag().on("dragstart",dragStart).on("drag",dragMove).on("dragend",dragEnd),I=u.range()[1]-u.range()[0];if(!isNaN(I)){var H=[0+I/2,c-12,l-I/2,c-12];F=T.select(".missingValuesline").selectAll("line").data([H]),F.enter().append("line"),F.exit().remove(),F.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),W=T.select(".missingValuesline").selectAll("text").data([h]),W.append("text").data([h]),W.enter().append("text"),W.exit().remove(),W.attr("y",c).attr("x",l-92-I/2).text(function(t){return t})}e=T.select(".background").selectAll("path").data(S),e.enter().append("path"),e.exit().remove(),e.attr("d",path),t=T.select(".foreground").selectAll("path").data(S),t.enter().append("path"),t.exit().remove(),t.attr("d",path).style("stroke-width",function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth}).attr("stroke",function(t,e){return t.color||m(t,e)}),t.on("mouseover",function(t,e){r.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),C.elementMouseover({label:t.name,color:t.color||m(t,e),values:t.values,dimensions:p})}),t.on("mouseout",function(t,e){r.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),C.elementMouseout({label:t.name,index:e})}),t.on("mousemove",function(t,e){C.elementMousemove()}),t.on("click",function(t){C.elementClick({id:t.id})}),n=B.selectAll(".dimension").data(p);var q=n.enter().append("g").attr("class","nv-parallelCoordinates dimension");n.attr("transform",function(t){return"translate("+u(t.key)+",0)"}),q.append("g").attr("class","nv-axis"),q.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(t,e){C.elementMouseover({label:t.tooltip||t.key,color:t.color})}).on("mouseout",function(t,e){C.elementMouseout({label:t.tooltip})}).on("mousemove",function(t,e){C.elementMousemove()}).call(O),q.append("g").attr("class","nv-brushBackground"),n.exit().remove(),n.select(".nv-label").text(function(t){return t.key}),restoreBrush(v);var V=g.filter(function(t){return!d[t].brush.empty()}),j=V.map(function(t){return d[t].brush.extent()}),Y=y.slice(0);y=[],t.style("display",function(t){var e=V.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||j[n][0]!=d[e].brush.y().domain()[0])||j[n][0]<=t.values[e]&&t.values[e]<=j[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&y.push(t),e?null:"none"}),(_.length>0||!i.utils.arrayEquals(y,Y))&&C.activeChanged(y)}),chart}var t,e,n,a={top:30,right:0,bottom:10,left:0},o=null,s=null,l=null,c=null,u=r.scale.ordinal(),d={},h="undefined values",f=[],p=[],g=[],v=!0,m=i.utils.defaultColor(),_=[],y=[],x=[],b=[],k=1,w=r.svg.line(),M=r.svg.axis(),C=r.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),S=i.utils.renderWatch(C);return chart.dispatch=C,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},dimensionData:{get:function(){return f},set:function(t){f=t}},displayBrush:{get:function(){return v},set:function(t){v=t}},filters:{get:function(){return _},set:function(t){_=t}},active:{get:function(){return y},set:function(t){y=t}},lineTension:{get:function(){return k},set:function(t){k=t}},undefinedValuesLabel:{get:function(){return h},set:function(t){h=t}},dimensions:{get:function(){return f.map(function(t){return t.key})},set:function(t){i.deprecated("dimensions","use dimensionData instead"),0===f.length?t.forEach(function(t){f.push({key:t})}):t.forEach(function(t,e){f[e].key=t})}},dimensionNames:{get:function(){return f.map(function(t){return t.key})},set:function(t){i.deprecated("dimensionNames","use dimensionData instead"),g=[],0===f.length?t.forEach(function(t){f.push({key:t})}):t.forEach(function(t,e){f[e].key=t})}},dimensionFormats:{get:function(){return f.map(function(t){return t.format})},set:function(t){i.deprecated("dimensionFormats","use dimensionData instead"),0===f.length?t.forEach(function(t){f.push({format:t})}):t.forEach(function(t,e){f[e].format=t})}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return m},set:function(t){m=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.parallelCoordinatesChart=function(){"use strict";function chart(n){return m.reset(),m.models(t),n.each(function(n){var c=r.select(this);i.utils.initSVG(c);var p=i.utils.availableWidth(o,c,a),g=i.utils.availableHeight(s,c,a);if(chart.update=function(){c.call(chart)},chart.container=this,u.setter(y(d),chart.update).getter(_(d)).update(),u.disabled=d.map(function(t){return!!t.disabled}),d=d.map(function(t){return t.disabled=!!t.disabled,t}),d.forEach(function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition}),!f){var m;f={};for(m in u)u[m]instanceof Array?f[m]=u[m].slice(0):f[m]=u[m]}if(!n||!n.length)return i.utils.noData(chart,c),chart;c.selectAll(".nv-noData").remove();var x=c.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([n]),b=x.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),k=x.select("g");b.append("g").attr("class","nv-parallelCoordinatesWrap"),b.append("g").attr("class","nv-legendWrap"),k.select("rect").attr("width",p).attr("height",g>0?g:0),l?(e.width(p).color(function(t){return"rgb(188,190,192)"}),k.select(".nv-legendWrap").datum(d.sort(function(t,e){return t.originalPosition-e.originalPosition})).call(e),e.height()>a.top&&(a.top=e.height(),g=i.utils.availableHeight(s,c,a)),x.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-a.top+")")):k.select(".nv-legendWrap").selectAll("*").remove(),x.attr("transform","translate("+a.left+","+a.top+")"),t.width(p).height(g).dimensionData(d).displayBrush(h);var w=k.select(".nv-parallelCoordinatesWrap ").datum(n);w.transition().call(t),t.dispatch.on("brushEnd",function(t,e){e?(h=!0,v.brushEnd(t)):h=!1}),e.dispatch.on("stateChange",function(t){for(var e in t)u[e]=t[e];v.stateChange(u),chart.update()}),t.dispatch.on("dimensionsOrder",function(t){d.sort(function(t,e){return t.currentPosition-e.currentPosition});var e=!1;d.forEach(function(t,n){t.currentPosition=n,t.currentPosition!==t.originalPosition&&(e=!0)}),v.dimensionsOrder(d,e)}),v.on("changeState",function(t){"undefined"!=typeof t.disabled&&(d.forEach(function(e,n){e.disabled=t.disabled[n]}),u.disabled=t.disabled),chart.update()})}),m.renderEnd("parraleleCoordinateChart immediate"),chart}var t=i.models.parallelCoordinates(),e=i.models.legend(),n=i.models.tooltip(),a=(i.models.tooltip(),{top:0,right:0,bottom:0,left:0}),o=null,s=null,l=!0,c=i.utils.defaultColor(),u=i.utils.state(),d=[],h=!0,f=null,p=null,g="undefined",v=r.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),m=i.utils.renderWatch(v),_=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},y=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return n.contentGenerator(function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach(function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"}),e+="</tbody>"),e+="</table>"}),t.dispatch.on("elementMouseover.tooltip",function(t){var e={key:t.label,color:t.color,series:[]};t.values&&(Object.keys(t.values).forEach(function(n){var r=t.dimensions.filter(function(t){return t.key===n})[0];if(r){var i;i=isNaN(t.values[n])||isNaN(parseFloat(t.values[n]))?g:r.format(t.values[n]),e.series.push({idx:r.currentPosition,key:n,value:i,color:r.color})}}),e.series.sort(function(t,e){return t.idx-e.idx})),n.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(){n()}),chart.dispatch=v,chart.parallelCoordinates=t,chart.legend=e,chart.tooltip=n,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},defaultState:{get:function(){return f},set:function(t){f=t}},dimensionData:{get:function(){return d},set:function(t){d=t}},displayBrush:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return p},set:function(t){p=t}},nanValue:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return c},set:function(n){c=i.utils.getColor(n),e.color(c),t.color(c)}}}),i.utils.inheritOptions(chart,t),i.utils.initOptions(chart),chart},i.models.pie=function(){"use strict";function chart(R){return P.reset(),R.each(function(R){function arcTween(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,g||(t.innerRadius=0);var n=r.interpolate(this._current,t);return this._current=n(0),function(t){return E[e](n(t))}}var L=e-t.left-t.right,T=n-t.top-t.bottom,D=Math.min(L,T)/2,z=[],B=[];if(l=r.select(this),0===S.length)for(var F=D-D/5,W=M*D,O=0;O<R[0].length;O++)z.push(F),B.push(W);else m?(z=S.map(function(t){return(t.outer-t.outer/5)*D}),B=S.map(function(t){return(t.inner-t.inner/5)*D}),M=r.min(S.map(function(t){return t.inner-t.inner/5}))):(z=S.map(function(t){return t.outer*D}),B=S.map(function(t){return t.inner*D}),M=r.min(S.map(function(t){return t.inner})));i.utils.initSVG(l);var I=l.selectAll(".nv-wrap.nv-pie").data(R),H=I.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+s),q=H.append("g"),V=I.select("g"),j=q.append("g").attr("class","nv-pie");
q.append("g").attr("class","nv-pieLabels"),I.attr("transform","translate("+t.left+","+t.top+")"),V.select(".nv-pie").attr("transform","translate("+L/2+","+T/2+")"),V.select(".nv-pieLabels").attr("transform","translate("+L/2+","+T/2+")"),l.on("click",function(t,e){A.chartClick({data:t,index:e,pos:r.event,id:s})}),E=[],N=[];for(var O=0;O<R[0].length;O++){var Y=r.svg.arc().outerRadius(z[O]),X=r.svg.arc().outerRadius(z[O]+5);x!==!1&&(Y.startAngle(x),X.startAngle(x)),k!==!1&&(Y.endAngle(k),X.endAngle(k)),g&&(Y.innerRadius(B[O]),X.innerRadius(B[O])),Y.cornerRadius&&w&&(Y.cornerRadius(w),X.cornerRadius(w)),E.push(Y),N.push(X)}var G=r.layout.pie().sort(null).value(function(t){return t.disabled?0:o(t)});G.padAngle&&b&&G.padAngle(b),g&&v&&(j.append("text").attr("class","nv-pie-title"),I.select(".nv-pie-title").style("text-anchor","middle").text(function(t){return v}).style("font-size",Math.min(L,T)*M*2/(v.length+2)+"px").attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+_+")"}));var U=I.select(".nv-pie").selectAll(".nv-slice").data(G),Z=I.select(".nv-pieLabels").selectAll(".nv-label").data(G);U.exit().remove(),Z.exit().remove();var $=U.enter().append("g");$.attr("class","nv-slice"),$.on("mouseover",function(t,e){r.select(this).classed("hover",!0),m&&r.select(this).select("path").transition().duration(70).attr("d",N[e]),A.elementMouseover({data:t.data,index:e,color:r.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),$.on("mouseout",function(t,e){r.select(this).classed("hover",!1),m&&r.select(this).select("path").transition().duration(50).attr("d",E[e]),A.elementMouseout({data:t.data,index:e})}),$.on("mousemove",function(t,e){A.elementMousemove({data:t.data,index:e})}),$.on("click",function(t,e){var n=this;A.elementClick({data:t.data,index:e,color:r.select(this).style("fill"),event:r.event,element:n})}),$.on("dblclick",function(t,e){A.elementDblClick({data:t.data,index:e,color:r.select(this).style("fill")})}),U.attr("fill",function(t,e){return c(t.data,e)}),U.attr("stroke",function(t,e){return c(t.data,e)});$.append("path").each(function(t){this._current=t});if(U.select("path").transition().duration(C).attr("d",function(t,e){return E[e](t)}).attrTween("d",arcTween),d){for(var J=[],O=0;O<R[0].length;O++)J.push(E[O]),h?g&&(J[O]=r.svg.arc().outerRadius(E[O].outerRadius()),x!==!1&&J[O].startAngle(x),k!==!1&&J[O].endAngle(k)):g||J[O].innerRadius(0);Z.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=r.select(this);n.attr("transform",function(t,e){if(y){t.outerRadius=z[e]+10,t.innerRadius=z[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+J[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=D+10,t.innerRadius=D+15,"translate("+J[e].centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",y?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var K={},Q=14,tt=140,et=function(t){return Math.floor(t[0]/tt)*tt+","+Math.floor(t[1]/Q)*Q},nt=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};Z.watchTransition(P,"pie labels").attr("transform",function(t,e){if(y){t.outerRadius=z[e]+10,t.innerRadius=z[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+J[e].centroid(t)+") rotate("+n+")"}t.outerRadius=D+10,t.innerRadius=D+15;var r=J[e].centroid(t),i=nt(t);if(t.value&&i>=p){var a=et(r);K[a]&&(r[1]-=Q),K[et(r)]=!0}return"translate("+r+")"}),Z.select(".nv-label text").style("text-anchor",function(t,e){return y?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=nt(t),i="";if(!t.value||n<p)return"";if("function"==typeof f)i=f(t,e,{key:a(t.data),value:o(t.data),percent:u(n)});else switch(f){case"key":i=a(t.data);break;case"value":i=u(o(t.data));break;case"percent":i=r.format("%")(n)}return i})}}),P.renderEnd("pie immediate"),chart}var t={top:0,right:0,bottom:0,left:0},e=500,n=500,a=function(t){return t.x},o=function(t){return t.y},s=Math.floor(1e4*Math.random()),l=null,c=i.utils.defaultColor(),u=r.format(",.2f"),d=!0,h=!1,f="key",p=.02,g=!1,v=!1,m=!0,_=0,y=!1,x=!1,b=!1,k=!1,w=0,M=.5,C=250,S=[],A=r.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),E=[],N=[],P=i.utils.renderWatch(A);return chart.dispatch=A,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{arcsRadius:{get:function(){return S},set:function(t){S=t}},width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},showLabels:{get:function(){return d},set:function(t){d=t}},title:{get:function(){return v},set:function(t){v=t}},titleOffset:{get:function(){return _},set:function(t){_=t}},labelThreshold:{get:function(){return p},set:function(t){p=t}},valueFormat:{get:function(){return u},set:function(t){u=t}},x:{get:function(){return a},set:function(t){a=t}},id:{get:function(){return s},set:function(t){s=t}},endAngle:{get:function(){return k},set:function(t){k=t}},startAngle:{get:function(){return x},set:function(t){x=t}},padAngle:{get:function(){return b},set:function(t){b=t}},cornerRadius:{get:function(){return w},set:function(t){w=t}},donutRatio:{get:function(){return M},set:function(t){M=t}},labelsOutside:{get:function(){return h},set:function(t){h=t}},labelSunbeamLayout:{get:function(){return y},set:function(t){y=t}},donut:{get:function(){return g},set:function(t){g=t}},growOnHover:{get:function(){return m},set:function(t){m=t}},pieLabelsOutside:{get:function(){return h},set:function(t){h=t,i.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return h},set:function(t){h=t,i.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return u},set:function(t){u=t,i.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return t},set:function(e){t.top="undefined"!=typeof e.top?e.top:t.top,t.right="undefined"!=typeof e.right?e.right:t.right,t.bottom="undefined"!=typeof e.bottom?e.bottom:t.bottom,t.left="undefined"!=typeof e.left?e.left:t.left}},duration:{get:function(){return C},set:function(t){C=t,P.reset(C)}},y:{get:function(){return o},set:function(t){o=r.functor(t)}},color:{get:function(){return c},set:function(t){c=i.utils.getColor(t)}},labelType:{get:function(){return f},set:function(t){f=t||"key"}}}),i.utils.initOptions(chart),chart},i.models.pieChart=function(){"use strict";function chart(n){return m.reset(),m.models(t),n.each(function(n){var l=r.select(this);i.utils.initSVG(l);var d=i.utils.availableWidth(o,l,a),p=i.utils.availableHeight(s,l,a);if(chart.update=function(){l.transition().call(chart)},chart.container=this,h.setter(y(n),chart.update).getter(_(n)).update(),h.disabled=n.map(function(t){return!!t.disabled}),!f){var g;f={};for(g in h)h[g]instanceof Array?f[g]=h[g].slice(0):f[g]=h[g]}if(!n||!n.length)return i.utils.noData(chart,l),chart;l.selectAll(".nv-noData").remove();var m=l.selectAll("g.nv-wrap.nv-pieChart").data([n]),x=m.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),b=m.select("g");if(x.append("g").attr("class","nv-pieWrap"),x.append("g").attr("class","nv-legendWrap"),c){if("top"===u)e.width(d).key(t.x()),m.select(".nv-legendWrap").datum(n).call(e),e.height()>a.top&&(a.top=e.height(),p=i.utils.availableHeight(s,l,a)),m.select(".nv-legendWrap").attr("transform","translate(0,"+-a.top+")");else if("right"===u){var k=i.models.legend().width();d/2<k&&(k=d/2),e.height(p).key(t.x()),e.width(k),d-=e.width(),m.select(".nv-legendWrap").datum(n).call(e).attr("transform","translate("+d+",0)")}}else b.select(".nv-legendWrap").selectAll("*").remove();m.attr("transform","translate("+a.left+","+a.top+")"),t.width(d).height(p);var w=b.select(".nv-pieWrap").datum([n]);r.transition(w).call(t),e.dispatch.on("stateChange",function(t){for(var e in t)h[e]=t[e];v.stateChange(h),chart.update()}),v.on("changeState",function(t){"undefined"!=typeof t.disabled&&(n.forEach(function(e,n){e.disabled=t.disabled[n]}),h.disabled=t.disabled),chart.update()})}),m.renderEnd("pieChart immediate"),chart}var t=i.models.pie(),e=i.models.legend(),n=i.models.tooltip(),a={top:30,right:20,bottom:20,left:20},o=null,s=null,l=!1,c=!0,u="top",d=i.utils.defaultColor(),h=i.utils.state(),f=null,p=null,g=250,v=r.dispatch("stateChange","changeState","renderEnd");n.duration(0).headerEnabled(!1).valueFormatter(function(e,n){return t.valueFormat()(e,n)});var m=i.utils.renderWatch(v),_=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},y=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:chart.x()(t.data),value:chart.y()(t.data),color:t.color,percent:t.percent},l||(delete t.percent,delete t.series.percent),n.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){n()}),chart.legend=e,chart.dispatch=v,chart.pie=t,chart.tooltip=n,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},noData:{get:function(){return p},set:function(t){p=t}},showTooltipPercent:{get:function(){return l},set:function(t){l=t}},showLegend:{get:function(){return c},set:function(t){c=t}},legendPosition:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return f},set:function(t){f=t}},color:{get:function(){return d},set:function(n){d=n,e.color(d),t.color(d)}},duration:{get:function(){return g},set:function(e){g=e,m.reset(g),t.duration(g)}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}}}),i.utils.inheritOptions(chart,t),i.utils.initOptions(chart),chart},i.models.scatter=function(){"use strict";function getCache(t){var e,n;return e=o=o||{},n=t[0].series,e=e[n]=e[n]||{},n=t[1],e=e[n]=e[n]||{}}function getDiffs(t){var e,n,r=t[0],i=getCache(t),a=!1;for(e=1;e<arguments.length;e++)n=arguments[e],i[n]===r[n]&&i.hasOwnProperty(n)||(i[n]=r[n],a=!0);return a}function chart(o){return j.reset(),o.each(function(o){function updateInteractiveLayer(){if(V=!1,!w)return!1;if(O===!0){var t=r.merge(o.map(function(t,e){return t.values.map(function(t,n){var r=v(t,n),a=m(t,n);return[i.utils.NaNtoZero(f(r))+1e-4*Math.random(),i.utils.NaNtoZero(p(a))+1e-4*Math.random(),e,n,t]}).filter(function(t,e){return M(t[4],e)})}));if(0==t.length)return!1;t.length<3&&(t.push([f.range()[0]-20,p.range()[0]-20,null,null]),t.push([f.range()[1]+20,p.range()[1]+20,null,null]),t.push([f.range()[0]-20,p.range()[0]+20,null,null]),t.push([f.range()[1]+20,p.range()[1]-20,null,null]));var e=r.geom.polygon([[-10,-10],[-10,c+10],[l+10,c+10],[l+10,-10]]),n=r.geom.voronoi(t).map(function(n,r){return{data:e.clip(n),series:t[r][2],point:t[r][3]}});J.select(".nv-point-paths").selectAll("path").remove();var a=J.select(".nv-point-paths").selectAll("path").data(n),g=a.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+d+"-"+e+")"});if(N&&g.style("fill",r.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",r.rgb(200,200,200)),E){J.select(".nv-point-clips").selectAll("*").remove();var _=J.select(".nv-point-clips").selectAll("clipPath").data(t);_.enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+d+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",P)}var y=function(t,e){if(V)return 0;var n=o[t.series];if(void 0!==n){var r=n.values[t.point];r.color=u(n,t.series),r.x=v(r),r.y=m(r);var i=h.node().getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,l=window.pageXOffset||document.documentElement.scrollLeft,c={left:f(v(r,t.point))+i.left+l+s.left+10,top:p(m(r,t.point))+i.top+a+s.top+10};e({point:r,series:n,pos:c,relativePos:[f(v(r,t.point))+s.left,p(m(r,t.point))+s.top],seriesIndex:t.series,pointIndex:t.point})}};a.on("click",function(t){y(t,W.elementClick)}).on("dblclick",function(t){y(t,W.elementDblClick)}).on("mouseover",function(t){y(t,W.elementMouseover)}).on("mouseout",function(t,e){y(t,W.elementMouseout)})}else J.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(V||!o[t.series])return 0;var n=o[t.series],i=n.values[e],a=this;W.elementClick({point:i,series:n,pos:[f(v(i,e))+s.left,p(m(i,e))+s.top],relativePos:[f(v(i,e))+s.left,p(m(i,e))+s.top],seriesIndex:t.series,pointIndex:e,event:r.event,element:a})}).on("dblclick",function(t,e){if(V||!o[t.series])return 0;var n=o[t.series],r=n.values[e];W.elementDblClick({point:r,series:n,pos:[f(v(r,e))+s.left,p(m(r,e))+s.top],relativePos:[f(v(r,e))+s.left,p(m(r,e))+s.top],seriesIndex:t.series,pointIndex:e})}).on("mouseover",function(t,e){if(V||!o[t.series])return 0;var n=o[t.series],r=n.values[e];W.elementMouseover({point:r,series:n,pos:[f(v(r,e))+s.left,p(m(r,e))+s.top],relativePos:[f(v(r,e))+s.left,p(m(r,e))+s.top],seriesIndex:t.series,pointIndex:e,color:u(t,e)})}).on("mouseout",function(t,e){if(V||!o[t.series])return 0;var n=o[t.series],r=n.values[e];W.elementMouseout({point:r,series:n,pos:[f(v(r,e))+s.left,p(m(r,e))+s.top],relativePos:[f(v(r,e))+s.left,p(m(r,e))+s.top],seriesIndex:t.series,pointIndex:e,color:u(t,e)})})}h=r.select(this);var I=i.utils.availableWidth(l,h,s),X=i.utils.availableHeight(c,h,s);i.utils.initSVG(h),o.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var G=chart.yScale().name===r.scale.log().name,U=R&&L&&z?[]:r.merge(o.map(function(t){return t.values.map(function(t,e){return{x:v(t,e),y:m(t,e),size:_(t,e)}})}));if(f.domain(R||r.extent(U.map(function(t){return t.x}).concat(x))),C&&o[0]?f.range(T||[(I*S+I)/(2*o[0].values.length),I-I*(1+S)/(2*o[0].values.length)]):f.range(T||[0,I]),G){var Z=r.min(U.map(function(t){if(0!==t.y)return t.y}));p.clamp(!0).domain(L||r.extent(U.map(function(t){return 0!==t.y?t.y:.1*Z}).concat(b))).range(D||[X,0])}else p.domain(L||r.extent(U.map(function(t){return t.y}).concat(b))).range(D||[X,0]);g.domain(z||r.extent(U.map(function(t){return t.size}).concat(k))).range(B||Y),F=f.domain()[0]===f.domain()[1]||p.domain()[0]===p.domain()[1],f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),p.domain()[0]===p.domain()[1]&&(p.domain()[0]?p.domain([p.domain()[0]-.01*p.domain()[0],p.domain()[1]+.01*p.domain()[1]]):p.domain([-1,1])),isNaN(f.domain()[0])&&f.domain([-1,1]),isNaN(p.domain()[0])&&p.domain([-1,1]),t=t||f,e=e||p,n=n||g;var $=f(1)!==t(1)||p(1)!==e(1)||g(1)!==n(1),J=h.selectAll("g.nv-wrap.nv-scatter").data([o]),K=J.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+d),Q=K.append("defs"),tt=K.append("g"),et=J.select("g");J.classed("nv-single-point",F),tt.append("g").attr("class","nv-groups"),tt.append("g").attr("class","nv-point-paths"),K.append("g").attr("class","nv-point-clips"),J.attr("transform","translate("+s.left+","+s.top+")"),Q.append("clipPath").attr("id","nv-edge-clip-"+d).append("rect"),J.select("#nv-edge-clip-"+d+" rect").attr("width",I).attr("height",X>0?X:0),et.attr("clip-path",A?"url(#nv-edge-clip-"+d+")":""),V=!0;var nt=J.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});nt.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),nt.exit().remove(),nt.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!w).classed("hover",function(t){return t.hover}),nt.watchTransition(j,"scatter: groups").style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var rt=nt.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return M(t[0],e)})});if(rt.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(n){return"translate("+i.utils.NaNtoZero(t(v(n[0],n[1])))+","+i.utils.NaNtoZero(e(m(n[0],n[1])))+")"}).attr("d",i.utils.symbol().type(function(t){return y(t[0])}).size(function(t){return g(_(t[0],t[1]))})),rt.exit().remove(),nt.exit().selectAll("path.nv-point").watchTransition(j,"scatter exit").attr("transform",function(t){return"translate("+i.utils.NaNtoZero(f(v(t[0],t[1])))+","+i.utils.NaNtoZero(p(m(t[0],t[1])))+")"}).remove(),rt.filter(function(t){return $||getDiffs(t,"x","y")}).watchTransition(j,"scatter points").attr("transform",function(t){return"translate("+i.utils.NaNtoZero(f(v(t[0],t[1])))+","+i.utils.NaNtoZero(p(m(t[0],t[1])))+")"}),rt.filter(function(t){return $||getDiffs(t,"shape","size")}).watchTransition(j,"scatter points").attr("d",i.utils.symbol().type(function(t){return y(t[0])}).size(function(t){return g(_(t[0],t[1]))})),q){var it=nt.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return M(t[0],e)})});it.enter().append("text").style("fill",function(t,e){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(n){var r=i.utils.NaNtoZero(t(v(n[0],n[1])))+Math.sqrt(g(_(n[0],n[1]))/Math.PI)+2;return"translate("+r+","+i.utils.NaNtoZero(e(m(n[0],n[1])))+")"}).text(function(t,e){return t[0].label}),it.exit().remove(),nt.exit().selectAll("path.nv-label").watchTransition(j,"scatter exit").attr("transform",function(t){var e=i.utils.NaNtoZero(f(v(t[0],t[1])))+Math.sqrt(g(_(t[0],t[1]))/Math.PI)+2;return"translate("+e+","+i.utils.NaNtoZero(p(m(t[0],t[1])))+")"}).remove(),it.each(function(t){r.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),it.watchTransition(j,"scatter labels").attr("transform",function(t){var e=i.utils.NaNtoZero(f(v(t[0],t[1])))+Math.sqrt(g(_(t[0],t[1]))/Math.PI)+2;return"translate("+e+","+i.utils.NaNtoZero(p(m(t[0],t[1])))+")"})}H?(clearTimeout(a),a=setTimeout(updateInteractiveLayer,H)):updateInteractiveLayer(),t=f.copy(),e=p.copy(),n=g.copy()}),j.renderEnd("scatter immediate"),chart}var t,e,n,a,o,s={top:0,right:0,bottom:0,left:0},l=null,c=null,u=i.utils.defaultColor(),d=Math.floor(1e5*Math.random()),h=null,f=r.scale.linear(),p=r.scale.linear(),g=r.scale.linear(),v=function(t){return t.x},m=function(t){return t.y},_=function(t){return t.size||1},y=function(t){return t.shape||"circle"},x=[],b=[],k=[],w=!0,M=function(t){return!t.notActive},C=!1,S=.1,A=!1,E=!0,N=!1,P=function(){return 25},R=null,L=null,T=null,D=null,z=null,B=null,F=!1,W=r.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),O=!0,I=250,H=300,q=!1,V=!1,j=i.utils.renderWatch(W,I),Y=[16,256];return chart.dispatch=W,chart.options=i.utils.optionsFunc.bind(chart),chart._calls=new function(){this.clearHighlights=function(){return i.dom.write(function(){h.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,e,n){i.dom.write(function(){h.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",n)})}},W.on("elementMouseover.point",function(t){w&&chart._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),W.on("elementMouseout.point",function(t){w&&chart._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),chart._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return p},set:function(t){p=t}},pointScale:{get:function(){return g},set:function(t){g=t}},xDomain:{get:function(){return R},set:function(t){R=t}},yDomain:{get:function(){return L},set:function(t){L=t}},pointDomain:{get:function(){return z},set:function(t){z=t}},xRange:{get:function(){return T},set:function(t){T=t}},yRange:{get:function(){return D},set:function(t){D=t}},pointRange:{get:function(){return B},set:function(t){B=t}},forceX:{get:function(){return x},set:function(t){x=t}},forceY:{get:function(){return b},set:function(t){b=t}},forcePoint:{get:function(){return k},set:function(t){k=t}},interactive:{get:function(){return w},set:function(t){w=t}},pointActive:{get:function(){return M},set:function(t){M=t}},padDataOuter:{get:function(){return S},set:function(t){S=t}},padData:{get:function(){return C},set:function(t){C=t}},clipEdge:{get:function(){return A},set:function(t){A=t}},clipVoronoi:{get:function(){return E},set:function(t){E=t}},clipRadius:{get:function(){return P},set:function(t){P=t}},showVoronoi:{get:function(){return N},set:function(t){N=t}},id:{get:function(){return d},set:function(t){d=t}},interactiveUpdateDelay:{get:function(){return H},set:function(t){H=t}},showLabels:{get:function(){return q},set:function(t){q=t}},x:{get:function(){return v},set:function(t){v=r.functor(t)}},y:{get:function(){return m},set:function(t){m=r.functor(t)}},pointSize:{get:function(){return _},set:function(t){_=r.functor(t)}},pointShape:{get:function(){return y},set:function(t){y=r.functor(t)}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return I},set:function(t){I=t,j.reset(I)}},color:{get:function(){return u},set:function(t){u=i.utils.getColor(t)}},useVoronoi:{get:function(){return O},set:function(t){O=t,O===!1&&(E=!1)}}}),i.utils.initOptions(chart),chart},i.models.scatterChart=function(){"use strict";function chart(C){return P.reset(),P.models(t),y&&P.models(e),x&&P.models(n),v&&P.models(o),m&&P.models(s),C.each(function(C){h=r.select(this),i.utils.initSVG(h);var T=i.utils.availableWidth(u,h,c),D=i.utils.availableHeight(d,h,c);if(chart.update=function(){0===S?h.call(chart):h.transition().duration(S).call(chart)},chart.container=this,k.setter(L(C),chart.update).getter(R(C)).update(),k.disabled=C.map(function(t){return!!t.disabled}),!w){var z;w={};for(z in k)k[z]instanceof Array?w[z]=k[z].slice(0):w[z]=k[z]}if(!(C&&C.length&&C.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,h),P.renderEnd("scatter immediate"),chart;h.selectAll(".nv-noData").remove(),p=t.xScale(),g=t.yScale();var B=h.selectAll("g.nv-wrap.nv-scatterChart").data([C]),F=B.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+t.id()),W=F.append("g"),O=B.select("g");if(W.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),W.append("g").attr("class","nv-x nv-axis"),W.append("g").attr("class","nv-y nv-axis"),W.append("g").attr("class","nv-scatterWrap"),W.append("g").attr("class","nv-regressionLinesWrap"),W.append("g").attr("class","nv-distWrap"),W.append("g").attr("class","nv-legendWrap"),b&&O.select(".nv-y.nv-axis").attr("transform","translate("+T+",0)"),_){var I=T;a.width(I),B.select(".nv-legendWrap").datum(C).call(a),a.height()>c.top&&(c.top=a.height(),D=i.utils.availableHeight(d,h,c)),B.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")}else O.select(".nv-legendWrap").selectAll("*").remove();B.attr("transform","translate("+c.left+","+c.top+")"),t.width(T).height(D).color(C.map(function(t,e){return t.color=t.color||f(t,e),t.color}).filter(function(t,e){return!C[e].disabled})).showLabels(A),B.select(".nv-scatterWrap").datum(C.filter(function(t){return!t.disabled})).call(t),B.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+t.id()+")");var H=B.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});H.enter().append("g").attr("class","nv-regLines");var q=H.selectAll(".nv-regLine").data(function(t){return[t]});q.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),q.filter(function(t){return t.intercept&&t.slope}).watchTransition(P,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",function(t,e){return g(p.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return g(p.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return f(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||"undefined"==typeof t.slope||"undefined"==typeof t.intercept?0:1}),y&&(e.scale(p)._ticks(i.utils.calcTicksX(T/100,C)).tickSize(-D,0),O.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")").call(e)),x&&(n.scale(g)._ticks(i.utils.calcTicksY(D/36,C)).tickSize(-T,0),O.select(".nv-y.nv-axis").call(n)),v&&(o.getData(t.x()).scale(p).width(T).color(C.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!C[e].disabled})),W.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),O.select(".nv-distributionX").attr("transform","translate(0,"+g.range()[0]+")").datum(C.filter(function(t){return!t.disabled})).call(o)),m&&(s.getData(t.y()).scale(g).width(D).color(C.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!C[e].disabled})),W.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),O.select(".nv-distributionY").attr("transform","translate("+(b?T:-s.size())+",0)").datum(C.filter(function(t){return!t.disabled})).call(s)),a.dispatch.on("stateChange",function(t){for(var e in t)k[e]=t[e];M.stateChange(k),chart.update()}),M.on("changeState",function(t){"undefined"!=typeof t.disabled&&(C.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),chart.update()}),t.dispatch.on("elementMouseout.tooltip",function(e){l.hidden(!0),h.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),h.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",s.size())}),t.dispatch.on("elementMouseover.tooltip",function(t){h.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-D),h.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+o.size()),l.data(t).hidden(!1)}),E=p.copy(),N=g.copy()}),P.renderEnd("scatter with line immediate"),chart}var t=i.models.scatter(),e=i.models.axis(),n=i.models.axis(),a=i.models.legend(),o=i.models.distribution(),s=i.models.distribution(),l=i.models.tooltip(),c={top:30,right:20,bottom:50,left:75},u=null,d=null,h=null,f=i.utils.defaultColor(),p=t.xScale(),g=t.yScale(),v=!1,m=!1,_=!0,y=!0,x=!0,b=!1,k=i.utils.state(),w=null,M=r.dispatch("stateChange","changeState","renderEnd"),C=null,S=250,A=!1;t.xScale(p).yScale(g),e.orient("bottom").tickPadding(10),n.orient(b?"right":"left").tickPadding(10),o.axis("x"),s.axis("y"),l.headerFormatter(function(t,n){return e.tickFormat()(t,n)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)});var E,N,P=i.utils.renderWatch(M,S),R=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},L=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return chart.dispatch=M,chart.scatter=t,chart.legend=a,chart.xAxis=e,chart.yAxis=n,chart.distX=o,chart.distY=s,chart.tooltip=l,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},container:{get:function(){return h},set:function(t){h=t}},showDistX:{get:function(){return v},set:function(t){v=t}},showDistY:{get:function(){return m},set:function(t){m=t}},showLegend:{get:function(){return _},set:function(t){_=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return w},set:function(t){w=t}},noData:{get:function(){return C},set:function(t){C=t}},duration:{get:function(){return S},set:function(t){S=t}},showLabels:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,n.orient(t?"right":"left")}},color:{get:function(){return f},set:function(t){f=i.utils.getColor(t),a.color(f),o.color(f),s.color(f)}}}),i.utils.inheritOptions(chart,t),i.utils.initOptions(chart),chart},i.models.sparkline=function(){"use strict";function chart(u){return y.reset(),u.each(function(u){var _=s-o.left-o.right,y=l-o.top-o.bottom;c=r.select(this),i.utils.initSVG(c),d.domain(t||r.extent(u,f)).range(n||[0,_]),h.domain(e||r.extent(u,p)).range(a||[y,0]);var x=c.selectAll("g.nv-wrap.nv-sparkline").data([u]),b=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");b.append("g"),x.select("g");x.attr("transform","translate("+o.left+","+o.top+")");var k=x.selectAll("path").data(function(t){return[t]});k.enter().append("path"),k.exit().remove(),k.style("stroke",function(t,e){return t.color||g(t,e)}).attr("d",r.svg.line().x(function(t,e){return d(f(t,e))}).y(function(t,e){return h(p(t,e))}));var w=x.selectAll("circle.nv-point").data(function(t){function pointIndex(e){if(e!=-1){var n=t[e];return n.pointIndex=e,n}return null}var e=t.map(function(t,e){return p(t,e)}),n=pointIndex(e.lastIndexOf(h.domain()[1])),r=pointIndex(e.indexOf(h.domain()[0])),i=pointIndex(e.length-1);return[v?r:null,v?n:null,m?i:null].filter(function(t){return null!=t})});w.enter().append("circle"),w.exit().remove(),w.attr("cx",function(t,e){return d(f(t,t.pointIndex))}).attr("cy",function(t,e){return h(p(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return f(t,t.pointIndex)==d.domain()[1]?"nv-point nv-currentValue":p(t,t.pointIndex)==h.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),y.renderEnd("sparkline immediate"),chart}var t,e,n,a,o={top:2,right:0,bottom:2,left:0},s=400,l=32,c=null,u=!0,d=r.scale.linear(),h=r.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},g=i.utils.getColor(["#000"]),v=!0,m=!0,_=r.dispatch("renderEnd"),y=i.utils.renderWatch(_);return chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return a},set:function(t){a=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},animate:{get:function(){return u},set:function(t){u=t}},showMinMaxPoints:{get:function(){return v},set:function(t){v=t}},showCurrentPoint:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return f},set:function(t){f=r.functor(t)}},y:{get:function(){return p},set:function(t){p=r.functor(t)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return g},set:function(t){g=i.utils.getColor(t)}}}),chart.dispatch=_,i.utils.initOptions(chart),chart},i.models.sparklinePlus=function(){"use strict";function chart(g){return m.reset(),m.models(n),g.each(function(g){function updateValueLine(){if(!c){var e=w.selectAll(".nv-hoverValue").data(l),r=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);
e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),e.attr("transform",function(e){return"translate("+t(n.x()(g[e],e))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),l.length&&(r.append("line").attr("x1",0).attr("y1",-a.top).attr("x2",0).attr("y2",_),r.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-a.top).attr("text-anchor","end").attr("dy",".9em"),w.select(".nv-hoverValue .nv-xValue").text(u(n.x()(g[l[0]],l[0]))),r.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-a.top).attr("text-anchor","start").attr("dy",".9em"),w.select(".nv-hoverValue .nv-yValue").text(d(n.y()(g[l[0]],l[0]))))}}function sparklineHover(){function getClosestIndex(t,e){for(var r=Math.abs(n.x()(t[0],0)-e),i=0,a=0;a<t.length;a++)Math.abs(n.x()(t[a],a)-e)<r&&(r=Math.abs(n.x()(t[a],a)-e),i=a);return i}if(!c){var e=r.mouse(this)[0]-a.left;l=[getClosestIndex(g,Math.round(t.invert(e)))],updateValueLine()}}var v=r.select(this);i.utils.initSVG(v);var m=i.utils.availableWidth(o,v,a),_=i.utils.availableHeight(s,v,a);if(chart.update=function(){v.call(chart)},chart.container=this,!g||!g.length)return i.utils.noData(chart,v),chart;v.selectAll(".nv-noData").remove();var y=n.y()(g[g.length-1],g.length-1);t=n.xScale(),e=n.yScale();var x=v.selectAll("g.nv-wrap.nv-sparklineplus").data([g]),b=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),k=b.append("g"),w=x.select("g");k.append("g").attr("class","nv-sparklineWrap"),k.append("g").attr("class","nv-valueWrap"),k.append("g").attr("class","nv-hoverArea"),x.attr("transform","translate("+a.left+","+a.top+")");var M=w.select(".nv-sparklineWrap");if(n.width(m).height(_),M.call(n),h){var C=w.select(".nv-valueWrap"),S=C.selectAll(".nv-currentValue").data([y]);S.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),S.attr("x",m+(p?a.right:0)).attr("y",f?function(t){return e(t)}:0).style("fill",n.color()(g[g.length-1],g.length-1)).text(d(y))}k.select(".nv-hoverArea").append("rect").on("mousemove",sparklineHover).on("click",function(){c=!c}).on("mouseout",function(){l=[],updateValueLine()}),w.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-a.left+","+-a.top+")"}).attr("width",m+a.left+a.right).attr("height",_+a.top)}),m.renderEnd("sparklinePlus immediate"),chart}var t,e,n=i.models.sparkline(),a={top:15,right:100,bottom:10,left:50},o=null,s=null,l=[],c=!1,u=r.format(",r"),d=r.format(",.2f"),h=!0,f=!0,p=!1,g=null,v=r.dispatch("renderEnd"),m=i.utils.renderWatch(v);return chart.dispatch=v,chart.sparkline=n,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},xTickFormat:{get:function(){return u},set:function(t){u=t}},yTickFormat:{get:function(){return d},set:function(t){d=t}},showLastValue:{get:function(){return h},set:function(t){h=t}},alignValue:{get:function(){return f},set:function(t){f=t}},rightAlignValue:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.stackedArea=function(){"use strict";function chart(f){return b.reset(),b.models(_),f.each(function(f){var y=a-n.left-n.right,k=o-n.top-n.bottom;c=r.select(this),i.utils.initSVG(c),t=_.xScale(),e=_.yScale();var w=f;f.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var M=f.filter(function(t){return!t.disabled});f=r.layout.stack().order(g).offset(p).values(function(t){return t.values}).x(u).y(d).out(function(t,e,n){t.display={y:n,y0:e}})(M);var C=c.selectAll("g.nv-wrap.nv-stackedarea").data([f]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),A=S.append("defs"),E=S.append("g"),N=C.select("g");E.append("g").attr("class","nv-areaWrap"),E.append("g").attr("class","nv-scatterWrap"),C.attr("transform","translate("+n.left+","+n.top+")"),0==_.forceY().length&&_.forceY().push(0),_.width(y).height(k).x(u).y(function(t){if(void 0!==t.display)return t.display.y+t.display.y0}).color(f.map(function(t,e){return t.color=t.color||s(t,t.seriesIndex),t.color}));var P=N.select(".nv-scatterWrap").datum(f);P.call(_),A.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect"),C.select("#nv-edge-clip-"+l+" rect").attr("width",y).attr("height",k),N.attr("clip-path",m?"url(#nv-edge-clip-"+l+")":"");var R=r.svg.area().defined(h).x(function(e,n){return t(u(e,n))}).y0(function(t){return e(t.display.y0)}).y1(function(t){return e(t.display.y+t.display.y0)}).interpolate(v),L=r.svg.area().defined(h).x(function(e,n){return t(u(e,n))}).y0(function(t){return e(t.display.y0)}).y1(function(t){return e(t.display.y0)}),T=N.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});T.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return L(t.values,t.seriesIndex)}).on("mouseover",function(t,e){r.select(this).classed("hover",!0),x.areaMouseover({point:t,series:t.key,pos:[r.event.pageX,r.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){r.select(this).classed("hover",!1),x.areaMouseout({point:t,series:t.key,pos:[r.event.pageX,r.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){r.select(this).classed("hover",!1),x.areaClick({point:t,series:t.key,pos:[r.event.pageX,r.event.pageY],seriesIndex:t.seriesIndex})}),T.exit().remove(),T.style("fill",function(t,e){return t.color||s(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||s(t,t.seriesIndex)}),T.watchTransition(b,"stackedArea path").attr("d",function(t,e){return R(t.values,e)}),_.dispatch.on("elementMouseover.area",function(t){N.select(".nv-chart-"+l+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),_.dispatch.on("elementMouseout.area",function(t){N.select(".nv-chart-"+l+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),chart.d3_stackedOffset_stackPercent=function(t){var e,n,r,i=t.length,a=t[0].length,o=[];for(n=0;n<a;++n){for(e=0,r=0;e<w.length;e++)r+=d(w[e].values[n]);if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=0}for(n=0;n<a;++n)o[n]=0;return o}}),b.renderEnd("stackedArea immediate"),chart}var t,e,n={top:0,right:0,bottom:0,left:0},a=960,o=500,s=i.utils.defaultColor(),l=Math.floor(1e5*Math.random()),c=null,u=function(t){return t.x},d=function(t){return t.y},h=function(t,e){return!isNaN(d(t,e))&&null!==d(t,e)},f="stack",p="zero",g="default",v="linear",m=!1,_=i.models.scatter(),y=250,x=r.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");_.pointSize(2.2).pointDomain([2.2,2.2]);var b=i.utils.renderWatch(x,y);return chart.dispatch=x,chart.scatter=_,_.dispatch.on("elementClick",function(){x.elementClick.apply(this,arguments)}),_.dispatch.on("elementMouseover",function(){x.elementMouseover.apply(this,arguments)}),_.dispatch.on("elementMouseout",function(){x.elementMouseout.apply(this,arguments)}),chart.interpolate=function(t){return arguments.length?(v=t,chart):v},chart.duration=function(t){return arguments.length?(y=t,b.reset(y),_.duration(y),chart):y},chart.dispatch=x,chart.scatter=_,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return o},set:function(t){o=t}},defined:{get:function(){return h},set:function(t){h=t}},clipEdge:{get:function(){return m},set:function(t){m=t}},offset:{get:function(){return p},set:function(t){p=t}},order:{get:function(){return g},set:function(t){g=t}},interpolate:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return u},set:function(t){u=r.functor(t)}},y:{get:function(){return d},set:function(t){d=r.functor(t)}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return s},set:function(t){s=i.utils.getColor(t)}},style:{get:function(){return f},set:function(t){switch(f=t){case"stack":chart.offset("zero"),chart.order("default");break;case"stream":chart.offset("wiggle"),chart.order("inside-out");break;case"stream-center":chart.offset("silhouette"),chart.order("inside-out");break;case"expand":chart.offset("expand"),chart.order("default");break;case"stack_percent":chart.offset(chart.d3_stackedOffset_stackPercent),chart.order("default")}}},duration:{get:function(){return y},set:function(t){y=t,b.reset(y),_.duration(y)}}}),i.utils.inheritOptions(chart,_),i.utils.initOptions(chart),chart},i.models.stackedAreaChart=function(){"use strict";function chart(u){return z.reset(),z.models(n),_&&z.models(a),y&&z.models(o),u.each(function(u){function updateXAxis(){_&&j.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+I+")").transition().duration(L).call(a)}function updateYAxis(){if(y){if("expand"===n.style()||"stack_percent"===n.style()){var t=o.tickFormat();T&&t===O||(T=t),o.tickFormat(O)}else T&&(o.tickFormat(T),T=null);j.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(o)}}function onBrush(t){var e=j.select(".nv-focus .nv-stackedWrap").datum(u.filter(function(t){return!t.disabled}).map(function(e,r){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,r){return n.x()(e,r)>=t[0]&&n.x()(e,r)<=t[1]}),disableTooltip:e.disableTooltip}}));e.transition().duration(L).call(n),updateXAxis(),updateYAxis()}var A=r.select(this);i.utils.initSVG(A);var z=i.utils.availableWidth(f,A,h),I=i.utils.availableHeight(p,A,h)-(b?d.height():0);if(chart.update=function(){A.transition().duration(L).call(chart)},chart.container=this,C.setter(W(u),chart.update).getter(F(u)).update(),C.disabled=u.map(function(t){return!!t.disabled}),!S){var H;S={};for(H in C)C[H]instanceof Array?S[H]=C[H].slice(0):S[H]=C[H]}if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return i.utils.noData(chart,A),chart;A.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var q=A.selectAll("g.nv-wrap.nv-stackedAreaChart").data([u]),V=q.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),j=q.select("g");V.append("g").attr("class","nv-legendWrap"),V.append("g").attr("class","nv-controlsWrap");var Y=V.append("g").attr("class","nv-focus");Y.append("g").attr("class","nv-background").append("rect"),Y.append("g").attr("class","nv-x nv-axis"),Y.append("g").attr("class","nv-y nv-axis"),Y.append("g").attr("class","nv-stackedWrap"),Y.append("g").attr("class","nv-interactive");V.append("g").attr("class","nv-focusWrap");if(m){var X=v?z-N:z;s.width(X),j.select(".nv-legendWrap").datum(u).call(s),s.height()>h.top&&(h.top=s.height(),I=i.utils.availableHeight(p,A,h)-(b?d.height():0)),j.select(".nv-legendWrap").attr("transform","translate("+(z-X)+","+-h.top+")")}else j.select(".nv-legendWrap").selectAll("*").remove();if(v){var G=[{key:R.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=n.style(),style:"stack"},{key:R.stream||"Stream",metaKey:"Stream",disabled:"stream"!=n.style(),style:"stream"},{key:R.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=n.style(),style:"expand"},{key:R.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=n.style(),style:"stack_percent"}];N=P.length/3*260,G=G.filter(function(t){return P.indexOf(t.metaKey)!==-1}),l.width(N).color(["#444","#444","#444"]),j.select(".nv-controlsWrap").datum(G).call(l),Math.max(l.height(),s.height())>h.top&&(h.top=Math.max(l.height(),s.height()),I=i.utils.availableHeight(p,A,h)),j.select(".nv-controlsWrap").attr("transform","translate(0,"+-h.top+")")}else j.select(".nv-controlsWrap").selectAll("*").remove();q.attr("transform","translate("+h.left+","+h.top+")"),x&&j.select(".nv-y.nv-axis").attr("transform","translate("+z+",0)"),k&&(c.width(z).height(I).margin({left:h.left,top:h.top}).svgContainer(A).xScale(t),q.select(".nv-interactive").call(c)),j.select(".nv-focus .nv-background rect").attr("width",z).attr("height",I),n.width(z).height(I).color(u.map(function(t,e){return t.color||g(t,e)}).filter(function(t,e){return!u[e].disabled}));var U=j.select(".nv-focus .nv-stackedWrap").datum(u.filter(function(t){return!t.disabled}));if(_&&a.scale(t)._ticks(i.utils.calcTicksX(z/100,u)).tickSize(-I,0),y){var Z;Z="wiggle"===n.offset()?0:i.utils.calcTicksY(I/36,u),o.scale(e)._ticks(Z).tickSize(-z,0)}if(b){d.width(z),j.select(".nv-focusWrap").attr("transform","translate(0,"+(I+h.bottom+d.margin().top)+")").datum(u.filter(function(t){return!t.disabled})).call(d);var $=d.brush.empty()?d.xDomain():d.brush.extent();null!==$&&onBrush($)}else U.transition().call(n),updateXAxis(),updateYAxis();n.dispatch.on("areaClick.toggle",function(t){1===u.filter(function(t){return!t.disabled}).length?u.forEach(function(t){t.disabled=!1}):u.forEach(function(e,n){e.disabled=n!=t.seriesIndex}),C.disabled=u.map(function(t){return!!t.disabled}),E.stateChange(C),chart.update()}),s.dispatch.on("stateChange",function(t){for(var e in t)C[e]=t[e];E.stateChange(C),chart.update()}),l.dispatch.on("legendClick",function(t,e){t.disabled&&(G=G.map(function(t){return t.disabled=!0,t}),t.disabled=!1,n.style(t.style),C.style=n.style(),E.stateChange(C),chart.update())}),c.dispatch.on("elementMousemove",function(t){n.clearHighlights();var e,a,o,s=[],l=0,d=!0;if(u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(r,c){a=i.interactiveBisect(r.values,t.pointXValue,chart.x());var u=r.values[a],h=chart.y()(u,a);if(null!=h&&n.highlightPoint(c,a,!0),"undefined"!=typeof u){"undefined"==typeof e&&(e=u),"undefined"==typeof o&&(o=chart.xScale()(chart.x()(u,a)));var f="expand"==n.style()?u.display.y:chart.y()(u,a);s.push({key:r.key,value:f,color:g(r,r.seriesIndex),point:u}),w&&"expand"!=n.style()&&null!=f&&(l+=f,d=!1)}}),s.reverse(),s.length>2){var h=chart.yScale().invert(t.mouseY),f=null;s.forEach(function(t,e){h=Math.abs(h);var n=Math.abs(t.point.display.y0),r=Math.abs(t.point.display.y);if(h>=n&&h<=r+n)return void(f=e)}),null!=f&&(s[f].highlight=!0)}w&&"expand"!=n.style()&&s.length>=2&&!d&&s.push({key:M,value:l,total:!0});var p=chart.x()(e,a),v=c.tooltip.valueFormatter();"expand"===n.style()||"stack_percent"===n.style()?(D||(D=v),v=r.format(".1%")):D&&(v=D,D=null),c.tooltip.valueFormatter(v).data({value:p,series:s})(),c.renderGuideLine(o)}),c.dispatch.on("elementMouseout",function(t){n.clearHighlights()}),d.dispatch.on("onBrush",function(t){onBrush(t)}),E.on("changeState",function(t){"undefined"!=typeof t.disabled&&u.length===t.disabled.length&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),C.disabled=t.disabled),"undefined"!=typeof t.style&&(n.style(t.style),B=t.style),chart.update()})}),z.renderEnd("stacked Area chart immediate"),chart}var t,e,n=i.models.stackedArea(),a=i.models.axis(),o=i.models.axis(),s=i.models.legend(),l=i.models.legend(),c=i.interactiveGuideline(),u=i.models.tooltip(),d=i.models.focus(i.models.stackedArea()),h={top:30,right:25,bottom:50,left:60},f=null,p=null,g=i.utils.defaultColor(),v=!0,m=!0,_=!0,y=!0,x=!1,b=!1,k=!1,w=!0,M="TOTAL",C=i.utils.state(),S=null,A=null,E=r.dispatch("stateChange","changeState","renderEnd"),N=250,P=["Stacked","Stream","Expanded"],R={},L=250;C.style=n.style(),a.orient("bottom").tickPadding(7),o.orient(x?"right":"left"),u.headerFormatter(function(t,e){return a.tickFormat()(t,e)}).valueFormatter(function(t,e){return o.tickFormat()(t,e)}),c.tooltip.headerFormatter(function(t,e){return a.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)});var T=null,D=null;l.updateState(!1);var z=i.utils.renderWatch(E),B=n.style(),F=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:n.style()}}},W=function(t){return function(e){void 0!==e.style&&(B=e.style),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},O=r.format("%");return n.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=n.x()(t.point),t.point.y=n.y()(t.point),u.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),chart.dispatch=E,chart.stacked=n,chart.legend=s,chart.controls=l,chart.xAxis=a,chart.x2Axis=d.xAxis,chart.yAxis=o,chart.y2Axis=d.yAxis,chart.interactiveLayer=c,chart.tooltip=u,chart.focus=d,chart.dispatch=E,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return _},set:function(t){_=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return A},set:function(t){A=t}},showControls:{get:function(){return v},set:function(t){v=t}},controlLabels:{get:function(){return R},set:function(t){R=t}},controlOptions:{get:function(){return P},set:function(t){P=t}},showTotalInTooltip:{get:function(){return w},set:function(t){w=t}},totalLabel:{get:function(){return M},set:function(t){M=t}},focusEnable:{get:function(){return b},set:function(t){b=t}},focusHeight:{get:function(){return d.height()},set:function(t){d.height(t)}},brushExtent:{get:function(){return d.brushExtent()},set:function(t){d.brushExtent(t)}},margin:{get:function(){return h},set:function(t){h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left}},focusMargin:{get:function(){return d.margin},set:function(t){d.margin.top=void 0!==t.top?t.top:d.margin.top,d.margin.right=void 0!==t.right?t.right:d.margin.right,d.margin.bottom=void 0!==t.bottom?t.bottom:d.margin.bottom,d.margin.left=void 0!==t.left?t.left:d.margin.left}},duration:{get:function(){return L},set:function(t){L=t,z.reset(L),n.duration(L),a.duration(L),o.duration(L)}},color:{get:function(){return g},set:function(t){g=i.utils.getColor(t),s.color(g),n.color(g),d.color(g)}},x:{get:function(){return n.x()},set:function(t){n.x(t),d.x(t)}},y:{get:function(){return n.y()},set:function(t){n.y(t),d.y(t)}},rightAlignYAxis:{get:function(){return x},set:function(t){x=t,o.orient(x?"right":"left")}},useInteractiveGuideline:{get:function(){return k},set:function(t){k=!!t,chart.interactive(!t),chart.useVoronoi(!t),n.scatter.interactive(!t)}}}),i.utils.inheritOptions(chart,n),i.utils.initOptions(chart),chart},i.models.stackedAreaWithFocusChart=function(){return i.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},i.models.sunburst=function(){"use strict";function rotationToAvoidUpsideDown(t){var e=computeCenterAngle(t);return e>90?180:0}function computeCenterAngle(t){var e=Math.max(0,Math.min(2*Math.PI,k(t.x))),n=Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx))),r=(e+n)/2*(180/Math.PI)-90;return r}function computeNodePercentage(t){var e=Math.max(0,Math.min(2*Math.PI,k(t.x))),n=Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)));return(n-e)/(2*Math.PI)}function labelThresholdMatched(t){var e=Math.max(0,Math.min(2*Math.PI,k(t.x))),n=Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx))),r=n-e;return r>v}function arcTweenZoom(e,n){var i=r.interpolate(k.domain(),[t.x,t.x+t.dx]),o=r.interpolate(w.domain(),[t.y,1]),s=r.interpolate(w.range(),[t.y?20:0,a]);return 0===n?function(){return S(e)}:function(t){return k.domain(i(t)),w.domain(o(t)).range(s(t)),S(e)}}function arcTweenUpdate(t){var e=r.interpolate({x:t.x0,dx:t.dx0,y:t.y0,dy:t.dy0},t);return function(n){var r=e(n);return t.x0=r.x,t.dx0=r.dx,t.y0=r.y,t.dy0=r.dy,S(r)}}function updatePrevPosition(t){var e=_(t);C[e]||(C[e]={});var n=C[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}function storeRetrievePrevPositions(t){t.forEach(function(t){var e=_(t),n=C[e];n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,t.y0=n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y0=t.y),updatePrevPosition(t)})}function zoomClick(e){var n=h.selectAll("text"),i=h.selectAll("path");n.transition().attr("opacity",0),t=e,i.transition().duration(x).attrTween("d",arcTweenZoom).each("end",function(t){if(t.x>=e.x&&t.x<e.x+e.dx&&t.depth>=e.depth){var n=r.select(this.parentNode),i=n.select("text");i.transition().duration(x).text(function(t){return g(t)}).attr("opacity",function(t){return labelThresholdMatched(t)?1:0}).attr("transform",function(){var n=this.getBBox().width;if(0===t.depth)return"translate("+n/2*-1+",0)";if(t.depth===e.depth)return"translate("+(w(t.y)+5)+",0)";var r=computeCenterAngle(t),i=rotationToAvoidUpsideDown(t);return 0===i?"rotate("+r+")translate("+(w(t.y)+5)+",0)":"rotate("+r+")translate("+(w(t.y)+n+5)+",0)rotate("+i+")"})}})}function chart(t){return A.reset(),t.each(function(t){h=r.select(this),e=i.utils.availableWidth(s,h,o),n=i.utils.availableHeight(l,h,o),a=Math.min(e,n)/2,w.range([0,a]);var v=h.select("g.nvd3.nv-wrap.nv-sunburst");v[0][0]?v.attr("transform","translate("+(e/2+o.left+o.right)+","+(n/2+o.top+o.bottom)+")"):v=h.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+d).attr("transform","translate("+(e/2+o.left+o.right)+","+(n/2+o.top+o.bottom)+")"),h.on("click",function(t,e){b.chartClick({data:t,index:e,pos:r.event,id:d})}),M.value(u[c]||u.count);var m=M.nodes(t[0]).reverse();storeRetrievePrevPositions(m);var k=v.selectAll(".arc-container").data(m,_),A=k.enter().append("g").attr("class","arc-container");A.append("path").attr("d",S).style("fill",function(t){return t.color?t.color:f(y?(t.children?t:t.parent).name:t.name)}).style("stroke","#FFF").on("click",zoomClick).on("mouseover",function(t,e){r.select(this).classed("hover",!0).style("opacity",.8),b.elementMouseover({data:t,color:r.select(this).style("fill"),percent:computeNodePercentage(t)})}).on("mouseout",function(t,e){r.select(this).classed("hover",!1).style("opacity",1),b.elementMouseout({data:t})}).on("mousemove",function(t,e){b.elementMousemove({data:t})}),k.each(function(t){r.select(this).select("path").transition().duration(x).attrTween("d",arcTweenUpdate)}),p&&(k.selectAll("text").remove(),k.append("text").text(function(t){return g(t)}).transition().duration(x).attr("opacity",function(t){return labelThresholdMatched(t)?1:0}).attr("transform",function(t){var e=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+e/2*-1+",0)";var n=computeCenterAngle(t),r=rotationToAvoidUpsideDown(t);return 0===r?"rotate("+n+")translate("+(w(t.y)+5)+",0)":"rotate("+n+")translate("+(w(t.y)+e+5)+",0)rotate("+r+")"})),zoomClick(m[m.length-1]),k.exit().transition().duration(x).attr("opacity",0).each("end",function(t){var e=_(t);C[e]=void 0}).remove()}),A.renderEnd("sunburst immediate"),chart}var t,e,n,a,o={top:0,right:0,bottom:0,left:0},s=600,l=600,c="count",u={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},d=Math.floor(1e4*Math.random()),h=null,f=i.utils.defaultColor(),p=!1,g=function(t){return"count"===c?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},v=.02,m=function(t,e){return t.name>e.name},_=function(t,e){return t.name},y=!0,x=500,b=r.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),k=r.scale.linear().range([0,2*Math.PI]),w=r.scale.sqrt(),M=r.layout.partition().sort(m),C={},S=r.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,k(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,w(t.y))}).outerRadius(function(t){return Math.max(0,w(t.y+t.dy))}),A=i.utils.renderWatch(b);return chart.dispatch=b,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},mode:{get:function(){return c},set:function(t){c=t}},id:{get:function(){return d},set:function(t){d=t}},duration:{get:function(){return x},set:function(t){x=t}},groupColorByParent:{get:function(){return y},set:function(t){y=!!t}},showLabels:{get:function(){return p},set:function(t){p=!!t}},labelFormat:{get:function(){return g},set:function(t){g=t}},labelThreshold:{get:function(){return v},set:function(t){v=t}},sort:{get:function(){return m},set:function(t){m=t}},key:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return f},set:function(t){f=i.utils.getColor(t)}}}),i.utils.initOptions(chart),chart},i.models.sunburstChart=function(){"use strict";function chart(e){return f.reset(),f.models(t),e.each(function(e){var s=r.select(this);i.utils.initSVG(s);var l=i.utils.availableWidth(a,s,n),c=i.utils.availableHeight(o,s,n);return chart.update=function(){0===d?s.call(chart):s.transition().duration(d).call(chart)},chart.container=s,e&&e.length?(s.selectAll(".nv-noData").remove(),t.width(l).height(c).margin(n),void s.call(t)):(i.utils.noData(chart,s),chart)}),f.renderEnd("sunburstChart immediate"),chart}var t=i.models.sunburst(),e=i.models.tooltip(),n={top:30,right:20,bottom:20,left:20},a=null,o=null,s=i.utils.defaultColor(),l=!1,c=(Math.round(1e5*Math.random()),null),u=null,d=250,h=r.dispatch("stateChange","changeState","renderEnd"),f=i.utils.renderWatch(h);return e.duration(0).headerEnabled(!1).valueFormatter(function(t){return t}),t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},l||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){e()}),chart.dispatch=h,chart.sunburst=t,chart.tooltip=e,chart.options=i.utils.optionsFunc.bind(chart),chart._options=Object.create({},{noData:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return c},set:function(t){c=t}},showTooltipPercent:{get:function(){return l},set:function(t){l=t}},color:{get:function(){return s},set:function(e){s=e,t.color(s)}},duration:{get:function(){return d},set:function(e){d=e,f.reset(d),t.duration(d)}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t.margin(n)}}}),i.utils.inheritOptions(chart,t),i.utils.initOptions(chart),chart},i.version="1.8.4"})()}).call(e,n(720))},768:function(t,e,n){"use strict";var r=n(0);n(720);var i=function(){function D3Module(){}return D3Module=__decorate([r.NgModule({}),__metadata("design:paramtypes",[])],D3Module)}();e.D3Module=i},963:function(t,e,n){"use strict";(function(t){var r=n(0),i=function(){function Chat(){}return Object.defineProperty(Chat.prototype,"messages",{set:function(t){this._messages=t||"<no message set>"},enumerable:!0,configurable:!0}),Object.defineProperty(Chat.prototype,"name",{get:function(){return this._messages},enumerable:!0,configurable:!0}),Chat.prototype.ngOnInit=function(){t(".chat-messages").slimscroll({height:"240px",size:"5px",alwaysVisible:!0,railVisible:!0})},Chat.prototype.doneTyping=function(t){13===t.which&&(this.pushMessage(t.target.value),t.target.value=null,this.scrollDown())},Chat.prototype.addMessage=function(t){this.pushMessage(t.value),t.value=null,this.scrollDown()},Chat.prototype.pushMessage=function(t){this._messages.push({time:"just now",sender:"Tikhon Laninga",text:""+t,image:"assets/img/2.png"})},Chat.prototype.scrollDown=function(){setTimeout(function(){t(".chat-messages").slimscroll({scrollBy:"500px"})},10)},__decorate([r.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],Chat.prototype,"messages",null),Chat=__decorate([r.Component({selector:"[chat]",template:n(1090)}),__metadata("design:paramtypes",[])],Chat)}();e.Chat=i}).call(e,n(64))},964:function(t,e,n){"use strict";(function(t,r,i){var a=n(0),o=function(){function Dashboard(){this.messages=[{time:"4 min",sender:"Tikhon Laninga",text:"Hey Sam, how is it going? But I must explain to you how all this mistaken      idea of denouncing of a pleasure and praising pain was born",image:"assets/img/2.png"},{time:"3 min",sender:"Cenhelm Houston",text:"Pretty good. Doing my homework..  No one rejects, dislikes, or avoids        pleasure itself, because it is pleasure, but because",image:"assets/img/1.png"},{time:"2 min",sender:"Tikhon Laninga",text:"Anys chance to go out? To take a trivial example, which of us ever undertakes        laborious physical exercise, except to obtain some advantage",image:"assets/img/2.png"},{time:"2 min",sender:"Cenhelm Houston",text:".. Maybe 40-50 mins. I don't know exactly. On the other hand, we denounce      with righteous indignation and dislike men who are so beguiled",image:"assets/img/1.png"},{time:"1 min",sender:"Tikhon Laninga",text:"Anyway sounds great! These cases are perfectly simple and easy to      distinguish.",image:"assets/img/2.png"}],this.tableSparklineValues=[[],[],[],[],[]],this.tableSparklineOptions=[{lineColor:"#3ecd74",fillColor:"rgba(86, 188, 118, 0.1)"},{lineColor:"#f2c34d",fillColor:"rgba(234, 200, 94, 0.1)"},{lineColor:"#4e91ce",fillColor:"rgba(106, 141, 167, 0.1)"},{lineColor:"#f25118",fillColor:"rgba(229, 96, 59, 0.1)"},{lineColor:"#fff",fillColor:"rgba(128, 128, 128, 0.2)"}],this.tableSparklineGeneralOptions={width:"150px",height:"30px",lineWidth:"2",spotRadius:"2",highlightLineColor:"#666",highlightSpotColor:"#666",spotColor:!1,minSpotColor:!1,maxSpotColor:!1};for(var t=0;t<this.tableSparklineValues.length;t++)this.tableSparklineValues[t]=[10+this.randomValue(),15+this.randomValue(),20+this.randomValue(),15+this.randomValue(),25+this.randomValue(),25+this.randomValue(),30+this.randomValue(),30+this.randomValue(),40+this.randomValue()];for(var t=0;t<this.tableSparklineOptions.length;t++)Object.assign(this.tableSparklineOptions[t],this.tableSparklineGeneralOptions);console.log(this.tableSparklineOptions[4])}return Dashboard.prototype.randomValue=function(){return Math.floor(40*Math.random())},Dashboard.prototype.ngOnInit=function(){this.applyNvd3Data(),t("#feed").slimscroll({height:"auto",size:"5px",alwaysVisible:!0,railVisible:!0})},Dashboard.prototype.applyNvd3Data=function(){function _stream_layers(t,e,n){function bump(t){for(var n=1/(.1+Math.random()),r=2*Math.random()-.5,i=10/(.1+Math.random()),a=0;a<e;a++){var o=(a/e-r)*i;t[a]+=n*Math.exp(-o*o)}}return arguments.length<3&&(n=0),r.range(t).map(function(){var t,r=[];for(t=0;t<e;t++)r[t]=n+n*Math.random();for(t=0;t<5;t++)bump(r);return r.map(function(t,e){return{x:e,y:Math.max(0,t)}})})}function testData(t,e){var n=(new Date).getTime(),r=864e5,i=60,a=i*r,o=n-a,s=e||45,l=i/s;return _stream_layers(t.length,s,.1).map(function(e,n){return{key:t[n],values:e.map(function(t,e){return{x:o+t.x*r*l,y:Math.floor(100*t.y)}})}})}this.nvd31Chart=i.models.lineChart().useInteractiveGuideline(!0).margin({left:28,bottom:30,right:0}).color(["#4380bf","#38b05e"]),this.nvd31Chart.xAxis.showMaxMin(!1).tickFormat(function(t){return r.time.format("%b %d")(new Date(t))}),this.nvd31Chart.yAxis.showMaxMin(!1).tickFormat(r.format(",f")),this.nvd31Data=testData(["Unique","Visits"],30),this.nvd31Data[0].area=!0},Dashboard=__decorate([a.Component({selector:"dashboard",template:n(1091),styles:[n(1047)],encapsulation:a.ViewEncapsulation.None}),__metadata("design:paramtypes",[])],Dashboard)}();e.Dashboard=o}).call(e,n(64),n(720),n(753))},965:function(t,e,n){"use strict";var r=n(81),i=n(171),a=n(0),o=n(124);n(1138);var s=n(964),l=n(963),c=n(719),u=n(967),d=n(723);
e.routes=[{path:"",component:s.Dashboard,pathMatch:"full"}];var h=function(){function DashboardModule(){}return DashboardModule.routes=e.routes,DashboardModule=__decorate([a.NgModule({declarations:[s.Dashboard,l.Chat],imports:[r.CommonModule,i.FormsModule,u.Nvd3ChartModule,c.WidgetModule,d.JqSparklineModule,o.RouterModule.forChild(e.routes)]}),__metadata("design:paramtypes",[])],DashboardModule)}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=h},966:function(t,e,n){"use strict";(function(t,r,i){var a=n(0),o=function(){function Nvd3Chart(e){this.$el=t(e.nativeElement)}return Nvd3Chart.prototype.render=function(){var e=this;r.addGraph(function(){var n=e.chart;return i.select(e.$el.find("svg")[0]).style("height",e.height||"200px").datum(e.datum).transition().duration(500).call(n),t(window).on("sn:resize",n.update),n})},Nvd3Chart.prototype.ngOnInit=function(){this.render()},__decorate([a.Input(),__metadata("design:type",Object)],Nvd3Chart.prototype,"chart",void 0),__decorate([a.Input(),__metadata("design:type",String)],Nvd3Chart.prototype,"height",void 0),__decorate([a.Input(),__metadata("design:type",Object)],Nvd3Chart.prototype,"datum",void 0),Nvd3Chart=__decorate([a.Directive({selector:"[nvd3-chart]"}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.ElementRef&&a.ElementRef)&&e||Object])],Nvd3Chart);var e}();e.Nvd3Chart=o}).call(e,n(64),n(753),n(720))},967:function(t,e,n){"use strict";var r=n(0),i=n(768);n(753);var a=n(966),o=function(){function Nvd3ChartModule(){}return Nvd3ChartModule=__decorate([r.NgModule({imports:[i.D3Module],declarations:[a.Nvd3Chart],exports:[a.Nvd3Chart]}),__metadata("design:paramtypes",[])],Nvd3ChartModule)}();e.Nvd3ChartModule=o}});